function e(e,t,n,r){Object.defineProperty(e,t,{get:n,set:r,enumerable:!0,configurable:!0})}function t(e){return e&&e.__esModule?e.default:e}var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},r={},i={},s=n.parcelRequire0252;null==s&&((s=function(e){if(e in r)return r[e].exports;if(e in i){var t=i[e];delete i[e];var n={id:e,exports:{}};return r[e]=n,t.call(n.exports,n,n.exports),n.exports}var s=new Error("Cannot find module '"+e+"'");throw s.code="MODULE_NOT_FOUND",s}).register=function(e,t){i[e]=t},n.parcelRequire0252=s),s.register("2Ivnh",(function(t,n){var r,i;e(t.exports,"register",(function(){return r}),(function(e){return r=e})),e(t.exports,"resolve",(function(){return i}),(function(e){return i=e}));var s={};r=function(e){for(var t=Object.keys(e),n=0;n<t.length;n++)s[t[n]]=e[t[n]]},i=function(e){var t=s[e];if(null==t)throw new Error("Could not resolve bundle with id "+e);return t}})),s("2Ivnh").register(JSON.parse('{"7cCC8":"index.7d154f3a.js","g2flB":"remove.23d3a24d.png","2n9dK":"plus.8161bf0d.png","bTaIR":"minus.20274651.png","kl32T":"check.41cbe688.png","hhQWC":"micro.4379e5ca.png","hrIWC":"index.fdb4fd53.css"}'));var o;s.register("khmAM",(function(t,n){var r,i,o;e(t.exports,"Fragment",(function(){return r}),(function(e){return r=e})),e(t.exports,"jsx",(function(){return i}),(function(e){return i=e})),e(t.exports,"jsxs",(function(){return o}),(function(e){return o=e})),s("e6M71");var a=s("3tv95"),l=60103;if(r=60107,"function"==typeof Symbol&&Symbol.for){var u=Symbol.for;l=u("react.element"),r=u("react.fragment")}var c=a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,h=Object.prototype.hasOwnProperty,f={key:!0,ref:!0,__self:!0,__source:!0};function d(e,t,n){var r,i={},s=null,o=null;for(r in void 0!==n&&(s=""+n),void 0!==t.key&&(s=""+t.key),void 0!==t.ref&&(o=t.ref),t)h.call(t,r)&&!f.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===i[r]&&(i[r]=t[r]);return{$$typeof:l,type:e,key:s,ref:o,props:i,_owner:c.current}}i=d,o=d})),s.register("e6M71",(function(e,t){var n=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable;function s(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;if("abc"[5]="de","5"===Object.getOwnPropertyNames("abc")[0])return!1;for(var e={},t=0;t<10;t++)e["_"+String.fromCharCode(t)]=t;if("0123456789"!==Object.getOwnPropertyNames(e).map((function(t){return e[t]})).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach((function(e){n[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var o,a,l=s(e),u=1;u<arguments.length;u++){for(var c in o=Object(arguments[u]))r.call(o,c)&&(l[c]=o[c]);if(n){a=n(o);for(var h=0;h<a.length;h++)i.call(o,a[h])&&(l[a[h]]=o[a[h]])}}return l}})),s.register("3tv95",(function(e,t){e.exports=s("6rlSV")})),s.register("6rlSV",(function(t,n){var r,i,o,a,l,u,c,h,f,d,p,m,g,y,v,w,b,E,S,T,k,I,x,C,_,N,A,D;e(t.exports,"Fragment",(function(){return r}),(function(e){return r=e})),e(t.exports,"StrictMode",(function(){return i}),(function(e){return i=e})),e(t.exports,"Profiler",(function(){return o}),(function(e){return o=e})),e(t.exports,"Suspense",(function(){return a}),(function(e){return a=e})),e(t.exports,"Children",(function(){return l}),(function(e){return l=e})),e(t.exports,"Component",(function(){return u}),(function(e){return u=e})),e(t.exports,"PureComponent",(function(){return c}),(function(e){return c=e})),e(t.exports,"__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED",(function(){return h}),(function(e){return h=e})),e(t.exports,"cloneElement",(function(){return f}),(function(e){return f=e})),e(t.exports,"createContext",(function(){return d}),(function(e){return d=e})),e(t.exports,"createElement",(function(){return p}),(function(e){return p=e})),e(t.exports,"createFactory",(function(){return m}),(function(e){return m=e})),e(t.exports,"createRef",(function(){return g}),(function(e){return g=e})),e(t.exports,"forwardRef",(function(){return y}),(function(e){return y=e})),e(t.exports,"isValidElement",(function(){return v}),(function(e){return v=e})),e(t.exports,"lazy",(function(){return w}),(function(e){return w=e})),e(t.exports,"memo",(function(){return b}),(function(e){return b=e})),e(t.exports,"useCallback",(function(){return E}),(function(e){return E=e})),e(t.exports,"useContext",(function(){return S}),(function(e){return S=e})),e(t.exports,"useDebugValue",(function(){return T}),(function(e){return T=e})),e(t.exports,"useEffect",(function(){return k}),(function(e){return k=e})),e(t.exports,"useImperativeHandle",(function(){return I}),(function(e){return I=e})),e(t.exports,"useLayoutEffect",(function(){return x}),(function(e){return x=e})),e(t.exports,"useMemo",(function(){return C}),(function(e){return C=e})),e(t.exports,"useReducer",(function(){return _}),(function(e){return _=e})),e(t.exports,"useRef",(function(){return N}),(function(e){return N=e})),e(t.exports,"useState",(function(){return A}),(function(e){return A=e})),e(t.exports,"version",(function(){return D}),(function(e){return D=e}));var L=s("e6M71"),P=60103,R=60106;r=60107,i=60108,o=60114;var O=60109,M=60110,F=60112;a=60113;var U=60115,V=60116;if("function"==typeof Symbol&&Symbol.for){var j=Symbol.for;P=j("react.element"),R=j("react.portal"),r=j("react.fragment"),i=j("react.strict_mode"),o=j("react.profiler"),O=j("react.provider"),M=j("react.context"),F=j("react.forward_ref"),a=j("react.suspense"),U=j("react.memo"),V=j("react.lazy")}var z="function"==typeof Symbol&&Symbol.iterator;function B(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var q={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},H={};function $(e,t,n){this.props=e,this.context=t,this.refs=H,this.updater=n||q}function K(){}function W(e,t,n){this.props=e,this.context=t,this.refs=H,this.updater=n||q}$.prototype.isReactComponent={},$.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error(B(85));this.updater.enqueueSetState(this,e,t,"setState")},$.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},K.prototype=$.prototype;var G=W.prototype=new K;G.constructor=W,L(G,$.prototype),G.isPureReactComponent=!0;var Q={current:null},X=Object.prototype.hasOwnProperty,Y={key:!0,ref:!0,__self:!0,__source:!0};function J(e,t,n){var r,i={},s=null,o=null;if(null!=t)for(r in void 0!==t.ref&&(o=t.ref),void 0!==t.key&&(s=""+t.key),t)X.call(t,r)&&!Y.hasOwnProperty(r)&&(i[r]=t[r]);var a=arguments.length-2;if(1===a)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(e&&e.defaultProps)for(r in a=e.defaultProps)void 0===i[r]&&(i[r]=a[r]);return{$$typeof:P,type:e,key:s,ref:o,props:i,_owner:Q.current}}function Z(e){return"object"==typeof e&&null!==e&&e.$$typeof===P}var ee=/\/+/g;function te(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function ne(e,t,n,r,i){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var o=!1;if(null===e)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case P:case R:o=!0}}if(o)return i=i(o=e),e=""===r?"."+te(o,0):r,Array.isArray(i)?(n="",null!=e&&(n=e.replace(ee,"$&/")+"/"),ne(i,t,n,"",(function(e){return e}))):null!=i&&(Z(i)&&(i=function(e,t){return{$$typeof:P,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(ee,"$&/")+"/")+e)),t.push(i)),1;if(o=0,r=""===r?".":r+":",Array.isArray(e))for(var a=0;a<e.length;a++){var l=r+te(s=e[a],a);o+=ne(s,t,n,l,i)}else if(l=function(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=z&&e[z]||e["@@iterator"])?e:null}(e),"function"==typeof l)for(e=l.call(e),a=0;!(s=e.next()).done;)o+=ne(s=s.value,t,n,l=r+te(s,a++),i);else if("object"===s)throw t=""+e,Error(B(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return o}function re(e,t,n){if(null==e)return e;var r=[],i=0;return ne(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function ie(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var se={current:null};function oe(){var e=se.current;if(null===e)throw Error(B(321));return e}l={map:re,forEach:function(e,t,n){re(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return re(e,(function(){t++})),t},toArray:function(e){return re(e,(function(e){return e}))||[]},only:function(e){if(!Z(e))throw Error(B(143));return e}},u=$,c=W,h={ReactCurrentDispatcher:se,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:Q,IsSomeRendererActing:{current:!1},assign:L},f=function(e,t,n){if(null==e)throw Error(B(267,e));var r=L({},e.props),i=e.key,s=e.ref,o=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,o=Q.current),void 0!==t.key&&(i=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)X.call(t,l)&&!Y.hasOwnProperty(l)&&(r[l]=void 0===t[l]&&void 0!==a?a[l]:t[l])}var l=arguments.length-2;if(1===l)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:P,type:e.type,key:i,ref:s,props:r,_owner:o}},d=function(e,t){return void 0===t&&(t=null),(e={$$typeof:M,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:O,_context:e},e.Consumer=e},p=J,m=function(e){var t=J.bind(null,e);return t.type=e,t},g=function(){return{current:null}},y=function(e){return{$$typeof:F,render:e}},v=Z,w=function(e){return{$$typeof:V,_payload:{_status:-1,_result:e},_init:ie}},b=function(e,t){return{$$typeof:U,type:e,compare:void 0===t?null:t}},E=function(e,t){return oe().useCallback(e,t)},S=function(e,t){return oe().useContext(e,t)},T=function(){},k=function(e,t){return oe().useEffect(e,t)},I=function(e,t,n){return oe().useImperativeHandle(e,t,n)},x=function(e,t){return oe().useLayoutEffect(e,t)},C=function(e,t){return oe().useMemo(e,t)},_=function(e,t,n){return oe().useReducer(e,t,n)},N=function(e){return oe().useRef(e)},A=function(e){return oe().useState(e)},D="17.0.2"})),o=s("khmAM");var a,l=s("3tv95");!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}(),s.register("8DqfA",(function(t,n){var r,i,o,a,l,u,c,h,f,d,p;e(t.exports,"__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED",(function(){return r}),(function(e){return r=e})),e(t.exports,"createPortal",(function(){return i}),(function(e){return i=e})),e(t.exports,"findDOMNode",(function(){return o}),(function(e){return o=e})),e(t.exports,"flushSync",(function(){return a}),(function(e){return a=e})),e(t.exports,"hydrate",(function(){return l}),(function(e){return l=e})),e(t.exports,"render",(function(){return u}),(function(e){return u=e})),e(t.exports,"unmountComponentAtNode",(function(){return c}),(function(e){return c=e})),e(t.exports,"unstable_batchedUpdates",(function(){return h}),(function(e){return h=e})),e(t.exports,"unstable_createPortal",(function(){return f}),(function(e){return f=e})),e(t.exports,"unstable_renderSubtreeIntoContainer",(function(){return d}),(function(e){return d=e})),e(t.exports,"version",(function(){return p}),(function(e){return p=e}));var m=s("3tv95"),g=s("e6M71"),y=s("g5TAu");function v(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!m)throw Error(v(227));var w=new Set,b={};function E(e,t){S(e,t),S(e+"Capture",t)}function S(e,t){for(b[e]=t,e=0;e<t.length;e++)w.add(t[e])}var T=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),k=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,I=Object.prototype.hasOwnProperty,x={},C={};function _(e,t,n,r,i,s,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var N={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){N[e]=new _(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];N[t]=new _(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){N[e]=new _(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){N[e]=new _(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){N[e]=new _(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){N[e]=new _(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){N[e]=new _(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){N[e]=new _(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){N[e]=new _(e,5,!1,e.toLowerCase(),null,!1,!1)}));var A=/[\-:]([a-z])/g;function D(e){return e[1].toUpperCase()}function L(e,t,n,r){var i=N.hasOwnProperty(t)?N[t]:null;(null!==i?0===i.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null==t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!I.call(C,e)||!I.call(x,e)&&(k.test(e)?C[e]=!0:(x[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(A,D);N[t]=new _(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(A,D);N[t]=new _(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(A,D);N[t]=new _(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){N[e]=new _(e,1,!1,e.toLowerCase(),null,!1,!1)})),N.xlinkHref=new _("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){N[e]=new _(e,1,!1,e.toLowerCase(),null,!0,!0)}));var P=m.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,R=60103,O=60106,M=60107,F=60108,U=60114,V=60109,j=60110,z=60112,B=60113,q=60120,H=60115,$=60116,K=60121,W=60128,G=60129,Q=60130,X=60131;if("function"==typeof Symbol&&Symbol.for){var Y=Symbol.for;R=Y("react.element"),O=Y("react.portal"),M=Y("react.fragment"),F=Y("react.strict_mode"),U=Y("react.profiler"),V=Y("react.provider"),j=Y("react.context"),z=Y("react.forward_ref"),B=Y("react.suspense"),q=Y("react.suspense_list"),H=Y("react.memo"),$=Y("react.lazy"),K=Y("react.block"),Y("react.scope"),W=Y("react.opaque.id"),G=Y("react.debug_trace_mode"),Q=Y("react.offscreen"),X=Y("react.legacy_hidden")}var J,Z="function"==typeof Symbol&&Symbol.iterator;function ee(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=Z&&e[Z]||e["@@iterator"])?e:null}function te(e){if(void 0===J)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);J=t&&t[1]||""}return"\n"+J+e}var ne=!1;function re(e,t){if(!e||ne)return"";ne=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(e){var r=e}Reflect.construct(e,[],t)}else{try{t.call()}catch(e){r=e}e.call(t.prototype)}else{try{throw Error()}catch(e){r=e}e()}}catch(e){if(e&&r&&"string"==typeof e.stack){for(var i=e.stack.split("\n"),s=r.stack.split("\n"),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(1!==o||1!==a)do{if(o--,0>--a||i[o]!==s[a])return"\n"+i[o].replace(" at new "," at ")}while(1<=o&&0<=a);break}}}finally{ne=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?te(e):""}function ie(e){switch(e.tag){case 5:return te(e.type);case 16:return te("Lazy");case 13:return te("Suspense");case 19:return te("SuspenseList");case 0:case 2:case 15:return e=re(e.type,!1);case 11:return e=re(e.type.render,!1);case 22:return e=re(e.type._render,!1);case 1:return e=re(e.type,!0);default:return""}}function se(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case M:return"Fragment";case O:return"Portal";case U:return"Profiler";case F:return"StrictMode";case B:return"Suspense";case q:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case j:return(e.displayName||"Context")+".Consumer";case V:return(e._context.displayName||"Context")+".Provider";case z:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case H:return se(e.type);case K:return se(e._render);case $:t=e._payload,e=e._init;try{return se(e(t))}catch(e){}}return null}function oe(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function ae(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function le(e){e._valueTracker||(e._valueTracker=function(e){var t=ae(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function ue(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=ae(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function ce(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function he(e,t){var n=t.checked;return g({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function fe(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=oe(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function de(e,t){null!=(t=t.checked)&&L(e,"checked",t,!1)}function pe(e,t){de(e,t);var n=oe(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ge(e,t.type,n):t.hasOwnProperty("defaultValue")&&ge(e,t.type,oe(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function me(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ge(e,t,n){"number"===t&&ce(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function ye(e,t){return e=g({children:void 0},t),(t=function(e){var t="";return m.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function ve(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+oe(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function we(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(v(91));return g({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function be(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(v(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(v(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:oe(n)}}function Ee(e,t){var n=oe(t.value),r=oe(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function Se(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var Te="http://www.w3.org/1999/xhtml",ke="http://www.w3.org/2000/svg";function Ie(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function xe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?Ie(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var Ce,_e,Ne=(_e=function(e,t){if(e.namespaceURI!==ke||"innerHTML"in e)e.innerHTML=t;else{for((Ce=Ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return _e(e,t)}))}:_e);function Ae(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var De={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Le=["Webkit","ms","Moz","O"];function Pe(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||De.hasOwnProperty(e)&&De[e]?(""+t).trim():t+"px"}function Re(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=Pe(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(De).forEach((function(e){Le.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),De[t]=De[e]}))}));var Oe=g({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Me(e,t){if(t){if(Oe[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(v(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(v(60));if("object"!=typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(v(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(v(62))}}function Fe(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Ue(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ve=null,je=null,ze=null;function Be(e){if(e=mi(e)){if("function"!=typeof Ve)throw Error(v(280));var t=e.stateNode;t&&(t=yi(t),Ve(e.stateNode,e.type,t))}}function qe(e){je?ze?ze.push(e):ze=[e]:je=e}function He(){if(je){var e=je,t=ze;if(ze=je=null,Be(e),t)for(e=0;e<t.length;e++)Be(t[e])}}function $e(e,t){return e(t)}function Ke(e,t,n,r,i){return e(t,n,r,i)}function We(){}var Ge=$e,Qe=!1,Xe=!1;function Ye(){null===je&&null===ze||(We(),He())}function Je(e,t){var n=e.stateNode;if(null===n)return null;var r=yi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(v(231,t,typeof n));return n}var Ze=!1;if(T)try{var et={};Object.defineProperty(et,"passive",{get:function(){Ze=!0}}),window.addEventListener("test",et,et),window.removeEventListener("test",et,et)}catch(_e){Ze=!1}function tt(e,t,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(e){this.onError(e)}}var nt=!1,rt=null,it=!1,st=null,ot={onError:function(e){nt=!0,rt=e}};function at(e,t,n,r,i,s,o,a,l){nt=!1,rt=null,tt.apply(ot,arguments)}function lt(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!=(1026&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function ut(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function ct(e){if(lt(e)!==e)throw Error(v(188))}function ht(e){if(e=function(e){var t=e.alternate;if(!t){if(null===(t=lt(e)))throw Error(v(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var s=i.alternate;if(null===s){if(null!==(r=i.return)){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return ct(i),e;if(s===r)return ct(i),t;s=s.sibling}throw Error(v(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(v(189))}}if(n.alternate!==r)throw Error(v(190))}if(3!==n.tag)throw Error(v(188));return n.stateNode.current===n?e:t}(e),!e)return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function ft(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return!0;t=t.return}return!1}var dt,pt,mt,gt,yt=!1,vt=[],wt=null,bt=null,Et=null,St=new Map,Tt=new Map,kt=[],It="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function xt(e,t,n,r,i){return{blockedOn:e,domEventName:t,eventSystemFlags:16|n,nativeEvent:i,targetContainers:[r]}}function Ct(e,t){switch(e){case"focusin":case"focusout":wt=null;break;case"dragenter":case"dragleave":bt=null;break;case"mouseover":case"mouseout":Et=null;break;case"pointerover":case"pointerout":St.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Tt.delete(t.pointerId)}}function _t(e,t,n,r,i,s){return null===e||e.nativeEvent!==s?(e=xt(t,n,r,i,s),null!==t&&(null!==(t=mi(t))&&pt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Nt(e){var t=pi(e.target);if(null!==t){var n=lt(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=ut(n)))return e.blockedOn=t,void gt(e.lanePriority,(function(){y.unstable_runWithPriority(e.priority,(function(){mt(n)}))}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function At(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=fn(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=mi(n))&&pt(t),e.blockedOn=n,!1;t.shift()}return!0}function Dt(e,t,n){At(e)&&n.delete(t)}function Lt(){for(yt=!1;0<vt.length;){var e=vt[0];if(null!==e.blockedOn){null!==(e=mi(e.blockedOn))&&dt(e);break}for(var t=e.targetContainers;0<t.length;){var n=fn(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n){e.blockedOn=n;break}t.shift()}null===e.blockedOn&&vt.shift()}null!==wt&&At(wt)&&(wt=null),null!==bt&&At(bt)&&(bt=null),null!==Et&&At(Et)&&(Et=null),St.forEach(Dt),Tt.forEach(Dt)}function Pt(e,t){e.blockedOn===t&&(e.blockedOn=null,yt||(yt=!0,y.unstable_scheduleCallback(y.unstable_NormalPriority,Lt)))}function Rt(e){function t(t){return Pt(t,e)}if(0<vt.length){Pt(vt[0],e);for(var n=1;n<vt.length;n++){var r=vt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==wt&&Pt(wt,e),null!==bt&&Pt(bt,e),null!==Et&&Pt(Et,e),St.forEach(t),Tt.forEach(t),n=0;n<kt.length;n++)(r=kt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<kt.length&&null===(n=kt[0]).blockedOn;)Nt(n),null===n.blockedOn&&kt.shift()}function Ot(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Mt={animationend:Ot("Animation","AnimationEnd"),animationiteration:Ot("Animation","AnimationIteration"),animationstart:Ot("Animation","AnimationStart"),transitionend:Ot("Transition","TransitionEnd")},Ft={},Ut={};function Vt(e){if(Ft[e])return Ft[e];if(!Mt[e])return e;var t,n=Mt[e];for(t in n)if(n.hasOwnProperty(t)&&t in Ut)return Ft[e]=n[t];return e}T&&(Ut=document.createElement("div").style,"AnimationEvent"in window||(delete Mt.animationend.animation,delete Mt.animationiteration.animation,delete Mt.animationstart.animation),"TransitionEvent"in window||delete Mt.transitionend.transition);var jt=Vt("animationend"),zt=Vt("animationiteration"),Bt=Vt("animationstart"),qt=Vt("transitionend"),Ht=new Map,$t=new Map,Kt=["abort","abort",jt,"animationEnd",zt,"animationIteration",Bt,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",qt,"transitionEnd","waiting","waiting"];function Wt(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),$t.set(r,t),Ht.set(r,i),E(i,[r])}}(0,y.unstable_now)();var Gt=8;function Qt(e){if(0!=(1&e))return Gt=15,1;if(0!=(2&e))return Gt=14,2;if(0!=(4&e))return Gt=13,4;var t=24&e;return 0!==t?(Gt=12,t):0!=(32&e)?(Gt=11,32):0!==(t=192&e)?(Gt=10,t):0!=(256&e)?(Gt=9,256):0!==(t=3584&e)?(Gt=8,t):0!=(4096&e)?(Gt=7,4096):0!==(t=4186112&e)?(Gt=6,t):0!==(t=62914560&e)?(Gt=5,t):67108864&e?(Gt=4,67108864):0!=(134217728&e)?(Gt=3,134217728):0!==(t=805306368&e)?(Gt=2,t):0!=(1073741824&e)?(Gt=1,1073741824):(Gt=8,e)}function Xt(e,t){var n=e.pendingLanes;if(0===n)return Gt=0;var r=0,i=0,s=e.expiredLanes,o=e.suspendedLanes,a=e.pingedLanes;if(0!==s)r=s,i=Gt=15;else if(0!==(s=134217727&n)){var l=s&~o;0!==l?(r=Qt(l),i=Gt):0!==(a&=s)&&(r=Qt(a),i=Gt)}else 0!==(s=n&~o)?(r=Qt(s),i=Gt):0!==a&&(r=Qt(a),i=Gt);if(0===r)return 0;if(r=n&((0>(r=31-nn(r))?0:1<<r)<<1)-1,0!==t&&t!==r&&0==(t&o)){if(Qt(t),i<=Gt)return t;Gt=i}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-nn(t)),r|=e[n],t&=~i;return r}function Yt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function Jt(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=Zt(24&~t))?Jt(10,t):e;case 10:return 0===(e=Zt(192&~t))?Jt(8,t):e;case 8:return 0===(e=Zt(3584&~t))&&(0===(e=Zt(4186112&~t))&&(e=512)),e;case 2:return 0===(t=Zt(805306368&~t))&&(t=268435456),t}throw Error(v(358,e))}function Zt(e){return e&-e}function en(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function tn(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,(e=e.eventTimes)[t=31-nn(t)]=n}var nn=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(rn(e)/sn|0)|0},rn=Math.log,sn=Math.LN2;var on=y.unstable_UserBlockingPriority,an=y.unstable_runWithPriority,ln=!0;function un(e,t,n,r){Qe||We();var i=hn,s=Qe;Qe=!0;try{Ke(i,e,t,n,r)}finally{(Qe=s)||Ye()}}function cn(e,t,n,r){an(on,hn.bind(null,e,t,n,r))}function hn(e,t,n,r){var i;if(ln)if((i=0==(4&t))&&0<vt.length&&-1<It.indexOf(e))e=xt(null,e,t,n,r),vt.push(e);else{var s=fn(e,t,n,r);if(null===s)i&&Ct(e,r);else{if(i){if(-1<It.indexOf(e))return e=xt(s,e,t,n,r),void vt.push(e);if(function(e,t,n,r,i){switch(t){case"focusin":return wt=_t(wt,e,t,n,r,i),!0;case"dragenter":return bt=_t(bt,e,t,n,r,i),!0;case"mouseover":return Et=_t(Et,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return St.set(s,_t(St.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Tt.set(s,_t(Tt.get(s)||null,e,t,n,r,i)),!0}return!1}(s,e,t,n,r))return;Ct(e,r)}Wr(e,t,r,null,n)}}}function fn(e,t,n,r){var i=Ue(r);if(null!==(i=pi(i))){var s=lt(i);if(null===s)i=null;else{var o=s.tag;if(13===o){if(null!==(i=ut(s)))return i;i=null}else if(3===o){if(s.stateNode.hydrate)return 3===s.tag?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null)}}return Wr(e,t,r,i,n),null}var dn=null,pn=null,mn=null;function gn(){if(mn)return mn;var e,t,n=pn,r=n.length,i="value"in dn?dn.value:dn.textContent,s=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[s-t];t++);return mn=i.slice(e,1<t?1-t:void 0)}function yn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function vn(){return!0}function wn(){return!1}function bn(e){function t(t,n,r,i,s){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?vn:wn,this.isPropagationStopped=wn,this}return g(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=vn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=vn)},persist:function(){},isPersistent:vn}),t}var En,Sn,Tn,kn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},In=bn(kn),xn=g({},kn,{view:0,detail:0}),Cn=bn(xn),_n=g({},xn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:jn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Tn&&(Tn&&"mousemove"===e.type?(En=e.screenX-Tn.screenX,Sn=e.screenY-Tn.screenY):Sn=En=0,Tn=e),En)},movementY:function(e){return"movementY"in e?e.movementY:Sn}}),Nn=bn(_n),An=bn(g({},_n,{dataTransfer:0})),Dn=bn(g({},xn,{relatedTarget:0})),Ln=bn(g({},kn,{animationName:0,elapsedTime:0,pseudoElement:0})),Pn=g({},kn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Rn=bn(Pn),On=bn(g({},kn,{data:0})),Mn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Fn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Un={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Vn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Un[e])&&!!t[e]}function jn(){return Vn}var zn=g({},xn,{key:function(e){if(e.key){var t=Mn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=yn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Fn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:jn,charCode:function(e){return"keypress"===e.type?yn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?yn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Bn=bn(zn),qn=bn(g({},_n,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Hn=bn(g({},xn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:jn})),$n=bn(g({},kn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Kn=g({},_n,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Wn=bn(Kn),Gn=[9,13,27,32],Qn=T&&"CompositionEvent"in window,Xn=null;T&&"documentMode"in document&&(Xn=document.documentMode);var Yn=T&&"TextEvent"in window&&!Xn,Jn=T&&(!Qn||Xn&&8<Xn&&11>=Xn),Zn=String.fromCharCode(32),er=!1;function tr(e,t){switch(e){case"keyup":return-1!==Gn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function nr(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var rr=!1;var ir={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function sr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!ir[e.type]:"textarea"===t}function or(e,t,n,r){qe(r),0<(t=Qr(t,"onChange")).length&&(n=new In("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var ar=null,lr=null;function ur(e){zr(e,0)}function cr(e){if(ue(gi(e)))return e}function hr(e,t){if("change"===e)return t}var fr=!1;if(T){var dr;if(T){var pr="oninput"in document;if(!pr){var mr=document.createElement("div");mr.setAttribute("oninput","return;"),pr="function"==typeof mr.oninput}dr=pr}else dr=!1;fr=dr&&(!document.documentMode||9<document.documentMode)}function gr(){ar&&(ar.detachEvent("onpropertychange",yr),lr=ar=null)}function yr(e){if("value"===e.propertyName&&cr(lr)){var t=[];if(or(t,lr,e,Ue(e)),e=ur,Qe)e(t);else{Qe=!0;try{$e(e,t)}finally{Qe=!1,Ye()}}}}function vr(e,t,n){"focusin"===e?(gr(),lr=n,(ar=t).attachEvent("onpropertychange",yr)):"focusout"===e&&gr()}function wr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return cr(lr)}function br(e,t){if("click"===e)return cr(t)}function Er(e,t){if("input"===e||"change"===e)return cr(t)}var Sr="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},Tr=Object.prototype.hasOwnProperty;function kr(e,t){if(Sr(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!Tr.call(t,n[r])||!Sr(e[n[r]],t[n[r]]))return!1;return!0}function Ir(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function xr(e,t){var n,r=Ir(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Ir(r)}}function Cr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?Cr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function _r(){for(var e=window,t=ce();t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(e){n=!1}if(!n)break;t=ce((e=t.contentWindow).document)}return t}function Nr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var Ar=T&&"documentMode"in document&&11>=document.documentMode,Dr=null,Lr=null,Pr=null,Rr=!1;function Or(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;Rr||null==Dr||Dr!==ce(r)||("selectionStart"in(r=Dr)&&Nr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},Pr&&kr(Pr,r)||(Pr=r,0<(r=Qr(Lr,"onSelect")).length&&(t=new In("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Dr)))}Wt("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Wt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Wt(Kt,2);for(var Mr="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Fr=0;Fr<Mr.length;Fr++)$t.set(Mr[Fr],0);S("onMouseEnter",["mouseout","mouseover"]),S("onMouseLeave",["mouseout","mouseover"]),S("onPointerEnter",["pointerout","pointerover"]),S("onPointerLeave",["pointerout","pointerover"]),E("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),E("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),E("onBeforeInput",["compositionend","keypress","textInput","paste"]),E("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),E("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),E("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ur="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Vr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ur));function jr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,s,o,a,l){if(at.apply(this,arguments),nt){if(!nt)throw Error(v(198));var u=rt;nt=!1,rt=null,it||(it=!0,st=u)}}(r,t,void 0,e),e.currentTarget=null}function zr(e,t){t=0!=(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;jr(i,a,u),s=l}else for(o=0;o<r.length;o++){if(l=(a=r[o]).instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;jr(i,a,u),s=l}}}if(it)throw e=st,it=!1,st=null,e}function Br(e,t){var n=vi(t),r=e+"__bubble";n.has(r)||(Kr(t,e,2,!1),n.add(r))}var qr="_reactListening"+Math.random().toString(36).slice(2);function Hr(e){e[qr]||(e[qr]=!0,w.forEach((function(t){Vr.has(t)||$r(t,!1,e,null),$r(t,!0,e,null)})))}function $r(e,t,n,r){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,s=n;if("selectionchange"===e&&9!==n.nodeType&&(s=n.ownerDocument),null!==r&&!t&&Vr.has(e)){if("scroll"!==e)return;i|=2,s=r}var o=vi(s),a=e+"__"+(t?"capture":"bubble");o.has(a)||(t&&(i|=4),Kr(s,e,i,t),o.add(a))}function Kr(e,t,n,r){var i=$t.get(t);switch(void 0===i?2:i){case 0:i=un;break;case 1:i=cn;break;default:i=hn}n=i.bind(null,t,n,e),i=void 0,!Ze||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Wr(e,t,n,r,i){var s=r;if(0==(1&t)&&0==(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var a=r.stateNode.containerInfo;if(a===i||8===a.nodeType&&a.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var l=o.tag;if((3===l||4===l)&&((l=o.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;o=o.return}for(;null!==a;){if(null===(o=pi(a)))return;if(5===(l=o.tag)||6===l){r=s=o;continue e}a=a.parentNode}}r=r.return}!function(e,t,n){if(Xe)return e(t,n);Xe=!0;try{Ge(e,t,n)}finally{Xe=!1,Ye()}}((function(){var r=s,i=Ue(n),o=[];e:{var a=Ht.get(e);if(void 0!==a){var l=In,u=e;switch(e){case"keypress":if(0===yn(n))break e;case"keydown":case"keyup":l=Bn;break;case"focusin":u="focus",l=Dn;break;case"focusout":u="blur",l=Dn;break;case"beforeblur":case"afterblur":l=Dn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=Nn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=An;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Hn;break;case jt:case zt:case Bt:l=Ln;break;case qt:l=$n;break;case"scroll":l=Cn;break;case"wheel":l=Wn;break;case"copy":case"cut":case"paste":l=Rn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=qn}var c=0!=(4&t),h=!c&&"scroll"===e,f=c?null!==a?a+"Capture":null:a;c=[];for(var d,p=r;null!==p;){var m=(d=p).stateNode;if(5===d.tag&&null!==m&&(d=m,null!==f&&(null!=(m=Je(p,f))&&c.push(Gr(p,m,d)))),h)break;p=p.return}0<c.length&&(a=new l(a,u,null,n,i),o.push({event:a,listeners:c}))}}if(0==(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||0!=(16&t)||!(u=n.relatedTarget||n.fromElement)||!pi(u)&&!u[fi])&&(l||a)&&(a=i.window===i?i:(a=i.ownerDocument)?a.defaultView||a.parentWindow:window,l?(l=r,null!==(u=(u=n.relatedTarget||n.toElement)?pi(u):null)&&(u!==(h=lt(u))||5!==u.tag&&6!==u.tag)&&(u=null)):(l=null,u=r),l!==u)){if(c=Nn,m="onMouseLeave",f="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(c=qn,m="onPointerLeave",f="onPointerEnter",p="pointer"),h=null==l?a:gi(l),d=null==u?a:gi(u),(a=new c(m,p+"leave",l,n,i)).target=h,a.relatedTarget=d,m=null,pi(i)===r&&((c=new c(f,p+"enter",u,n,i)).target=d,c.relatedTarget=h,m=c),h=m,l&&u)e:{for(f=u,p=0,d=c=l;d;d=Xr(d))p++;for(d=0,m=f;m;m=Xr(m))d++;for(;0<p-d;)c=Xr(c),p--;for(;0<d-p;)f=Xr(f),d--;for(;p--;){if(c===f||null!==f&&c===f.alternate)break e;c=Xr(c),f=Xr(f)}c=null}else c=null;null!==l&&Yr(o,a,l,c,!1),null!==u&&null!==h&&Yr(o,h,u,c,!0)}if("select"===(l=(a=r?gi(r):window).nodeName&&a.nodeName.toLowerCase())||"input"===l&&"file"===a.type)var g=hr;else if(sr(a))if(fr)g=Er;else{g=wr;var y=vr}else(l=a.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(g=br);switch(g&&(g=g(e,r))?or(o,g,n,i):(y&&y(e,a,r),"focusout"===e&&(y=a._wrapperState)&&y.controlled&&"number"===a.type&&ge(a,"number",a.value)),y=r?gi(r):window,e){case"focusin":(sr(y)||"true"===y.contentEditable)&&(Dr=y,Lr=r,Pr=null);break;case"focusout":Pr=Lr=Dr=null;break;case"mousedown":Rr=!0;break;case"contextmenu":case"mouseup":case"dragend":Rr=!1,Or(o,n,i);break;case"selectionchange":if(Ar)break;case"keydown":case"keyup":Or(o,n,i)}var v;if(Qn)e:{switch(e){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else rr?tr(e,n)&&(w="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(w="onCompositionStart");w&&(Jn&&"ko"!==n.locale&&(rr||"onCompositionStart"!==w?"onCompositionEnd"===w&&rr&&(v=gn()):(pn="value"in(dn=i)?dn.value:dn.textContent,rr=!0)),0<(y=Qr(r,w)).length&&(w=new On(w,e,null,n,i),o.push({event:w,listeners:y}),v?w.data=v:null!==(v=nr(n))&&(w.data=v))),(v=Yn?function(e,t){switch(e){case"compositionend":return nr(t);case"keypress":return 32!==t.which?null:(er=!0,Zn);case"textInput":return(e=t.data)===Zn&&er?null:e;default:return null}}(e,n):function(e,t){if(rr)return"compositionend"===e||!Qn&&tr(e,t)?(e=gn(),mn=pn=dn=null,rr=!1,e):null;switch(e){default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Jn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Qr(r,"onBeforeInput")).length&&(i=new On("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=v))}zr(o,t)}))}function Gr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Qr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,s=i.stateNode;5===i.tag&&null!==s&&(i=s,null!=(s=Je(e,n))&&r.unshift(Gr(e,s,i)),null!=(s=Je(e,t))&&r.push(Gr(e,s,i))),e=e.return}return r}function Xr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Yr(e,t,n,r,i){for(var s=t._reactName,o=[];null!==n&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(null!==l&&l===r)break;5===a.tag&&null!==u&&(a=u,i?null!=(l=Je(n,s))&&o.unshift(Gr(n,l,a)):i||null!=(l=Je(n,s))&&o.push(Gr(n,l,a))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}function Jr(){}var Zr=null,ei=null;function ti(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function ni(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"==typeof setTimeout?setTimeout:void 0,ii="function"==typeof clearTimeout?clearTimeout:void 0;function si(e){1===e.nodeType?e.textContent="":9===e.nodeType&&(null!=(e=e.body)&&(e.textContent=""))}function oi(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function ai(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var li=0;var ui=Math.random().toString(36).slice(2),ci="__reactFiber$"+ui,hi="__reactProps$"+ui,fi="__reactContainer$"+ui,di="__reactEvents$"+ui;function pi(e){var t=e[ci];if(t)return t;for(var n=e.parentNode;n;){if(t=n[fi]||n[ci]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ai(e);null!==e;){if(n=e[ci])return n;e=ai(e)}return t}n=(e=n).parentNode}return null}function mi(e){return!(e=e[ci]||e[fi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function gi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(v(33))}function yi(e){return e[hi]||null}function vi(e){var t=e[di];return void 0===t&&(t=e[di]=new Set),t}var wi=[],bi=-1;function Ei(e){return{current:e}}function Si(e){0>bi||(e.current=wi[bi],wi[bi]=null,bi--)}function Ti(e,t){bi++,wi[bi]=e.current,e.current=t}var ki={},Ii=Ei(ki),xi=Ei(!1),Ci=ki;function _i(e,t){var n=e.type.contextTypes;if(!n)return ki;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,s={};for(i in n)s[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Ni(e){return null!=(e=e.childContextTypes)}function Ai(){Si(xi),Si(Ii)}function Di(e,t,n){if(Ii.current!==ki)throw Error(v(168));Ti(Ii,t),Ti(xi,n)}function Li(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!=typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in e))throw Error(v(108,se(t)||"Unknown",i));return g({},n,r)}function Pi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ki,Ci=Ii.current,Ti(Ii,e),Ti(xi,xi.current),!0}function Ri(e,t,n){var r=e.stateNode;if(!r)throw Error(v(169));n?(e=Li(e,t,Ci),r.__reactInternalMemoizedMergedChildContext=e,Si(xi),Si(Ii),Ti(Ii,e)):Si(xi),Ti(xi,n)}var Oi=null,Mi=null,Fi=y.unstable_runWithPriority,Ui=y.unstable_scheduleCallback,Vi=y.unstable_cancelCallback,ji=y.unstable_shouldYield,zi=y.unstable_requestPaint,Bi=y.unstable_now,qi=y.unstable_getCurrentPriorityLevel,Hi=y.unstable_ImmediatePriority,$i=y.unstable_UserBlockingPriority,Ki=y.unstable_NormalPriority,Wi=y.unstable_LowPriority,Gi=y.unstable_IdlePriority,Qi={},Xi=void 0!==zi?zi:function(){},Yi=null,Ji=null,Zi=!1,es=Bi(),ts=1e4>es?Bi:function(){return Bi()-es};function ns(){switch(qi()){case Hi:return 99;case $i:return 98;case Ki:return 97;case Wi:return 96;case Gi:return 95;default:throw Error(v(332))}}function rs(e){switch(e){case 99:return Hi;case 98:return $i;case 97:return Ki;case 96:return Wi;case 95:return Gi;default:throw Error(v(332))}}function is(e,t){return e=rs(e),Fi(e,t)}function ss(e,t,n){return e=rs(e),Ui(e,t,n)}function os(){if(null!==Ji){var e=Ji;Ji=null,Vi(e)}as()}function as(){if(!Zi&&null!==Yi){Zi=!0;var e=0;try{var t=Yi;is(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),Yi=null}catch(t){throw null!==Yi&&(Yi=Yi.slice(e+1)),Ui(Hi,os),t}finally{Zi=!1}}}var ls=P.ReactCurrentBatchConfig;function us(e,t){if(e&&e.defaultProps){for(var n in t=g({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var cs=Ei(null),hs=null,fs=null,ds=null;function ps(){ds=fs=hs=null}function ms(e){var t=cs.current;Si(cs),e.type._context._currentValue=t}function gs(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function ys(e,t){hs=e,ds=fs=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!=(e.lanes&t)&&(Qo=!0),e.firstContext=null)}function vs(e,t){if(ds!==e&&!1!==t&&0!==t)if("number"==typeof t&&1073741823!==t||(ds=e,t=1073741823),t={context:e,observedBits:t,next:null},null===fs){if(null===hs)throw Error(v(308));fs=t,hs.dependencies={lanes:0,firstContext:t,responders:null}}else fs=fs.next=t;return e._currentValue}var ws=!1;function bs(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function Es(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ss(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ts(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function ks(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===s?i=s=o:s=s.next=o,n=n.next}while(null!==n);null===s?i=s=t:s=s.next=t}else i=s=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Is(e,t,n,r){var i=e.updateQueue;ws=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(null!==a){i.shared.pending=null;var l=a,u=l.next;l.next=null,null===o?s=u:o.next=u,o=l;var c=e.alternate;if(null!==c){var h=(c=c.updateQueue).lastBaseUpdate;h!==o&&(null===h?c.firstBaseUpdate=u:h.next=u,c.lastBaseUpdate=l)}}if(null!==s){for(h=i.baseState,o=0,c=u=l=null;;){a=s.lane;var f=s.eventTime;if((r&a)===a){null!==c&&(c=c.next={eventTime:f,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var d=e,p=s;switch(a=t,f=n,p.tag){case 1:if("function"==typeof(d=p.payload)){h=d.call(f,h,a);break e}h=d;break e;case 3:d.flags=-4097&d.flags|64;case 0:if(null==(a="function"==typeof(d=p.payload)?d.call(f,h,a):d))break e;h=g({},h,a);break e;case 2:ws=!0}}null!==s.callback&&(e.flags|=32,null===(a=i.effects)?i.effects=[s]:a.push(s))}else f={eventTime:f,lane:a,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===c?(u=c=f,l=h):c=c.next=f,o|=a;if(null===(s=s.next)){if(null===(a=i.shared.pending))break;s=a.next,a.next=null,i.lastBaseUpdate=a,i.shared.pending=null}}null===c&&(l=h),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,Za|=o,e.lanes=o,e.memoizedState=h}}function xs(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!=typeof i)throw Error(v(191,i));i.call(r)}}}var Cs=(new m.Component).refs;function _s(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:g({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Ns={isMounted:function(e){return!!(e=e._reactInternals)&&lt(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=kl(),i=Il(e),s=Ss(r,i);s.payload=t,null!=n&&(s.callback=n),Ts(e,s),xl(e,i,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=kl(),i=Il(e),s=Ss(r,i);s.tag=1,s.payload=t,null!=n&&(s.callback=n),Ts(e,s),xl(e,i,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=kl(),r=Il(e),i=Ss(n,r);i.tag=2,null!=t&&(i.callback=t),Ts(e,i),xl(e,r,n)}};function As(e,t,n,r,i,s,o){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,s,o):!t.prototype||!t.prototype.isPureReactComponent||(!kr(n,r)||!kr(i,s))}function Ds(e,t,n){var r=!1,i=ki,s=t.contextType;return"object"==typeof s&&null!==s?s=vs(s):(i=Ni(t)?Ci:Ii.current,s=(r=null!=(r=t.contextTypes))?_i(e,i):ki),t=new t(n,s),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Ns,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function Ls(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Ns.enqueueReplaceState(t,t.state,null)}function Ps(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Cs,bs(e);var s=t.contextType;"object"==typeof s&&null!==s?i.context=vs(s):(s=Ni(t)?Ci:Ii.current,i.context=_i(e,s)),Is(e,n,i,r),i.state=e.memoizedState,"function"==typeof(s=t.getDerivedStateFromProps)&&(_s(e,t,s,n),i.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof i.getSnapshotBeforeUpdate||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||(t=i.state,"function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Ns.enqueueReplaceState(i,i.state,null),Is(e,n,i,r),i.state=e.memoizedState),"function"==typeof i.componentDidMount&&(e.flags|=4)}var Rs=Array.isArray;function Os(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(v(309));var r=n.stateNode}if(!r)throw Error(v(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=r.refs;t===Cs&&(t=r.refs={}),null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!=typeof e)throw Error(v(284));if(!n._owner)throw Error(v(290,e))}return e}function Ms(e,t){if("textarea"!==e.type)throw Error(v(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function Fs(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=iu(e,t)).index=0,e.sibling=null,e}function s(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags=2,n):r:(t.flags=2,n):n}function o(t){return e&&null===t.alternate&&(t.flags=2),t}function a(e,t,n,r){return null===t||6!==t.tag?((t=lu(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function l(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=Os(e,t,n),r.return=e,r):((r=su(n.type,n.key,n.props,null,e.mode,r)).ref=Os(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=uu(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function c(e,t,n,r,s){return null===t||7!==t.tag?((t=ou(n,e.mode,r,s)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"==typeof t||"number"==typeof t)return(t=lu(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case R:return(n=su(t.type,t.key,t.props,null,e.mode,n)).ref=Os(e,null,t),n.return=e,n;case O:return(t=uu(t,e.mode,n)).return=e,t}if(Rs(t)||ee(t))return(t=ou(t,e.mode,n,null)).return=e,t;Ms(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"==typeof n||"number"==typeof n)return null!==i?null:a(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case R:return n.key===i?n.type===M?c(e,t,n.props.children,r,i):l(e,t,n,r):null;case O:return n.key===i?u(e,t,n,r):null}if(Rs(n)||ee(n))return null!==i?null:c(e,t,n,r,null);Ms(e,n)}return null}function d(e,t,n,r,i){if("string"==typeof r||"number"==typeof r)return a(t,e=e.get(n)||null,""+r,i);if("object"==typeof r&&null!==r){switch(r.$$typeof){case R:return e=e.get(null===r.key?n:r.key)||null,r.type===M?c(t,e,r.props.children,i,r.key):l(t,e,r,i);case O:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(Rs(r)||ee(r))return c(t,e=e.get(n)||null,r,i,null);Ms(t,r)}return null}function p(i,o,a,l){for(var u=null,c=null,p=o,m=o=0,g=null;null!==p&&m<a.length;m++){p.index>m?(g=p,p=null):g=p.sibling;var y=f(i,p,a[m],l);if(null===y){null===p&&(p=g);break}e&&p&&null===y.alternate&&t(i,p),o=s(y,o,m),null===c?u=y:c.sibling=y,c=y,p=g}if(m===a.length)return n(i,p),u;if(null===p){for(;m<a.length;m++)null!==(p=h(i,a[m],l))&&(o=s(p,o,m),null===c?u=p:c.sibling=p,c=p);return u}for(p=r(i,p);m<a.length;m++)null!==(g=d(p,i,m,a[m],l))&&(e&&null!==g.alternate&&p.delete(null===g.key?m:g.key),o=s(g,o,m),null===c?u=g:c.sibling=g,c=g);return e&&p.forEach((function(e){return t(i,e)})),u}function m(i,o,a,l){var u=ee(a);if("function"!=typeof u)throw Error(v(150));if(null==(a=u.call(a)))throw Error(v(151));for(var c=u=null,p=o,m=o=0,g=null,y=a.next();null!==p&&!y.done;m++,y=a.next()){p.index>m?(g=p,p=null):g=p.sibling;var w=f(i,p,y.value,l);if(null===w){null===p&&(p=g);break}e&&p&&null===w.alternate&&t(i,p),o=s(w,o,m),null===c?u=w:c.sibling=w,c=w,p=g}if(y.done)return n(i,p),u;if(null===p){for(;!y.done;m++,y=a.next())null!==(y=h(i,y.value,l))&&(o=s(y,o,m),null===c?u=y:c.sibling=y,c=y);return u}for(p=r(i,p);!y.done;m++,y=a.next())null!==(y=d(p,i,m,y.value,l))&&(e&&null!==y.alternate&&p.delete(null===y.key?m:y.key),o=s(y,o,m),null===c?u=y:c.sibling=y,c=y);return e&&p.forEach((function(e){return t(i,e)})),u}return function(e,r,s,a){var l="object"==typeof s&&null!==s&&s.type===M&&null===s.key;l&&(s=s.props.children);var u="object"==typeof s&&null!==s;if(u)switch(s.$$typeof){case R:e:{for(u=s.key,l=r;null!==l;){if(l.key===u){if(7===l.tag){if(s.type===M){n(e,l.sibling),(r=i(l,s.props.children)).return=e,e=r;break e}}else if(l.elementType===s.type){n(e,l.sibling),(r=i(l,s.props)).ref=Os(e,l,s),r.return=e,e=r;break e}n(e,l);break}t(e,l),l=l.sibling}s.type===M?((r=ou(s.props.children,e.mode,a,s.key)).return=e,e=r):((a=su(s.type,s.key,s.props,null,e.mode,a)).ref=Os(e,r,s),a.return=e,e=a)}return o(e);case O:e:{for(l=s.key;null!==r;){if(r.key===l){if(4===r.tag&&r.stateNode.containerInfo===s.containerInfo&&r.stateNode.implementation===s.implementation){n(e,r.sibling),(r=i(r,s.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=uu(s,e.mode,a)).return=e,e=r}return o(e)}if("string"==typeof s||"number"==typeof s)return s=""+s,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,s)).return=e,e=r):(n(e,r),(r=lu(s,e.mode,a)).return=e,e=r),o(e);if(Rs(s))return p(e,r,s,a);if(ee(s))return m(e,r,s,a);if(u&&Ms(e,s),void 0===s&&!l)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(v(152,se(e.type)||"Component"))}return n(e,r)}}var Us=Fs(!0),Vs=Fs(!1),js={},zs=Ei(js),Bs=Ei(js),qs=Ei(js);function Hs(e){if(e===js)throw Error(v(174));return e}function $s(e,t){switch(Ti(qs,t),Ti(Bs,e),Ti(zs,js),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:xe(null,"");break;default:t=xe(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Si(zs),Ti(zs,t)}function Ks(){Si(zs),Si(Bs),Si(qs)}function Ws(e){Hs(qs.current);var t=Hs(zs.current),n=xe(t,e.type);t!==n&&(Ti(Bs,e),Ti(zs,n))}function Gs(e){Bs.current===e&&(Si(zs),Si(Bs))}var Qs=Ei(0);function Xs(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!=(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ys=null,Js=null,Zs=!1;function eo(e,t){var n=nu(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function to(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);default:return!1}}function no(e){if(Zs){var t=Js;if(t){var n=t;if(!to(e,t)){if(!(t=oi(n.nextSibling))||!to(e,t))return e.flags=-1025&e.flags|2,Zs=!1,void(Ys=e);eo(Ys,n)}Ys=e,Js=oi(t.firstChild)}else e.flags=-1025&e.flags|2,Zs=!1,Ys=e}}function ro(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Ys=e}function io(e){if(e!==Ys)return!1;if(!Zs)return ro(e),Zs=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!ni(t,e.memoizedProps))for(t=Js;t;)eo(e,t),t=oi(t.nextSibling);if(ro(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(v(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Js=oi(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Js=null}}else Js=Ys?oi(e.stateNode.nextSibling):null;return!0}function so(){Js=Ys=null,Zs=!1}var oo=[];function ao(){for(var e=0;e<oo.length;e++)oo[e]._workInProgressVersionPrimary=null;oo.length=0}var lo=P.ReactCurrentDispatcher,uo=P.ReactCurrentBatchConfig,co=0,ho=null,fo=null,po=null,mo=!1,go=!1;function yo(){throw Error(v(321))}function vo(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Sr(e[n],t[n]))return!1;return!0}function wo(e,t,n,r,i,s){if(co=s,ho=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,lo.current=null===e||null===e.memoizedState?$o:Ko,e=n(r,i),go){s=0;do{if(go=!1,!(25>s))throw Error(v(301));s+=1,po=fo=null,t.updateQueue=null,lo.current=Wo,e=n(r,i)}while(go)}if(lo.current=Ho,t=null!==fo&&null!==fo.next,co=0,po=fo=ho=null,mo=!1,t)throw Error(v(300));return e}function bo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===po?ho.memoizedState=po=e:po=po.next=e,po}function Eo(){if(null===fo){var e=ho.alternate;e=null!==e?e.memoizedState:null}else e=fo.next;var t=null===po?ho.memoizedState:po.next;if(null!==t)po=t,fo=e;else{if(null===e)throw Error(v(310));e={memoizedState:(fo=e).memoizedState,baseState:fo.baseState,baseQueue:fo.baseQueue,queue:fo.queue,next:null},null===po?ho.memoizedState=po=e:po=po.next=e}return po}function So(e,t){return"function"==typeof t?t(e):t}function To(e){var t=Eo(),n=t.queue;if(null===n)throw Error(v(311));n.lastRenderedReducer=e;var r=fo,i=r.baseQueue,s=n.pending;if(null!==s){if(null!==i){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var a=o=s=null,l=i;do{var u=l.lane;if((co&u)===u)null!==a&&(a=a.next={lane:0,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null}),r=l.eagerReducer===e?l.eagerState:e(r,l.action);else{var c={lane:u,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null};null===a?(o=a=c,s=r):a=a.next=c,ho.lanes|=u,Za|=u}l=l.next}while(null!==l&&l!==i);null===a?s=r:a.next=o,Sr(r,t.memoizedState)||(Qo=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=a,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function ko(e){var t=Eo(),n=t.queue;if(null===n)throw Error(v(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(null!==i){n.pending=null;var o=i=i.next;do{s=e(s,o.action),o=o.next}while(o!==i);Sr(s,t.memoizedState)||(Qo=!0),t.memoizedState=s,null===t.baseQueue&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function Io(e,t,n){var r=t._getVersion;r=r(t._source);var i=t._workInProgressVersionPrimary;if(null!==i?e=i===r:(e=e.mutableReadLanes,(e=(co&e)===e)&&(t._workInProgressVersionPrimary=r,oo.push(t))),e)return n(t._source);throw oo.push(t),Error(v(350))}function xo(e,t,n,r){var i=$a;if(null===i)throw Error(v(349));var s=t._getVersion,o=s(t._source),a=lo.current,l=a.useState((function(){return Io(i,t,n)})),u=l[1],c=l[0];l=po;var h=e.memoizedState,f=h.refs,d=f.getSnapshot,p=h.source;h=h.subscribe;var m=ho;return e.memoizedState={refs:f,source:t,subscribe:r},a.useEffect((function(){f.getSnapshot=n,f.setSnapshot=u;var e=s(t._source);if(!Sr(o,e)){e=n(t._source),Sr(c,e)||(u(e),e=Il(m),i.mutableReadLanes|=e&i.pendingLanes),e=i.mutableReadLanes,i.entangledLanes|=e;for(var r=i.entanglements,a=e;0<a;){var l=31-nn(a),h=1<<l;r[l]|=e,a&=~h}}}),[n,t,r]),a.useEffect((function(){return r(t._source,(function(){var e=f.getSnapshot,n=f.setSnapshot;try{n(e(t._source));var r=Il(m);i.mutableReadLanes|=r&i.pendingLanes}catch(e){n((function(){throw e}))}}))}),[t,r]),Sr(d,n)&&Sr(p,t)&&Sr(h,r)||((e={pending:null,dispatch:null,lastRenderedReducer:So,lastRenderedState:c}).dispatch=u=qo.bind(null,ho,e),l.queue=e,l.baseQueue=null,c=Io(i,t,n),l.memoizedState=l.baseState=c),c}function Co(e,t,n){return xo(Eo(),e,t,n)}function _o(e){var t=bo();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:So,lastRenderedState:e}).dispatch=qo.bind(null,ho,e),[t.memoizedState,e]}function No(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=ho.updateQueue)?(t={lastEffect:null},ho.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Ao(e){return e={current:e},bo().memoizedState=e}function Do(){return Eo().memoizedState}function Lo(e,t,n,r){var i=bo();ho.flags|=e,i.memoizedState=No(1|t,n,void 0,void 0===r?null:r)}function Po(e,t,n,r){var i=Eo();r=void 0===r?null:r;var s=void 0;if(null!==fo){var o=fo.memoizedState;if(s=o.destroy,null!==r&&vo(r,o.deps))return void No(t,n,s,r)}ho.flags|=e,i.memoizedState=No(1|t,n,s,r)}function Ro(e,t){return Lo(516,4,e,t)}function Oo(e,t){return Po(516,4,e,t)}function Mo(e,t){return Po(4,2,e,t)}function Fo(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Uo(e,t,n){return n=null!=n?n.concat([e]):null,Po(4,2,Fo.bind(null,t,e),n)}function Vo(){}function jo(e,t){var n=Eo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&vo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function zo(e,t){var n=Eo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&vo(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Bo(e,t){var n=ns();is(98>n?98:n,(function(){e(!0)})),is(97<n?97:n,(function(){var n=uo.transition;uo.transition=1;try{e(!1),t()}finally{uo.transition=n}}))}function qo(e,t,n){var r=kl(),i=Il(e),s={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},o=t.pending;if(null===o?s.next=s:(s.next=o.next,o.next=s),t.pending=s,o=e.alternate,e===ho||null!==o&&o===ho)go=mo=!0;else{if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var a=t.lastRenderedState,l=o(a,n);if(s.eagerReducer=o,s.eagerState=l,Sr(l,a))return}catch(e){}xl(e,i,r)}}var Ho={readContext:vs,useCallback:yo,useContext:yo,useEffect:yo,useImperativeHandle:yo,useLayoutEffect:yo,useMemo:yo,useReducer:yo,useRef:yo,useState:yo,useDebugValue:yo,useDeferredValue:yo,useTransition:yo,useMutableSource:yo,useOpaqueIdentifier:yo,unstable_isNewReconciler:!1},$o={readContext:vs,useCallback:function(e,t){return bo().memoizedState=[e,void 0===t?null:t],e},useContext:vs,useEffect:Ro,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,Lo(4,2,Fo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Lo(4,2,e,t)},useMemo:function(e,t){var n=bo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=bo();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=qo.bind(null,ho,e),[r.memoizedState,e]},useRef:Ao,useState:_o,useDebugValue:Vo,useDeferredValue:function(e){var t=_o(e),n=t[0],r=t[1];return Ro((function(){var t=uo.transition;uo.transition=1;try{r(e)}finally{uo.transition=t}}),[e]),n},useTransition:function(){var e=_o(!1),t=e[0];return Ao(e=Bo.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,n){var r=bo();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},xo(r,e,t,n)},useOpaqueIdentifier:function(){if(Zs){var e=!1,t=function(e){return{$$typeof:W,toString:e,valueOf:e}}((function(){throw e||(e=!0,n("r:"+(li++).toString(36))),Error(v(355))})),n=_o(t)[1];return 0==(2&ho.mode)&&(ho.flags|=516,No(5,(function(){n("r:"+(li++).toString(36))}),void 0,null)),t}return _o(t="r:"+(li++).toString(36)),t},unstable_isNewReconciler:!1},Ko={readContext:vs,useCallback:jo,useContext:vs,useEffect:Oo,useImperativeHandle:Uo,useLayoutEffect:Mo,useMemo:zo,useReducer:To,useRef:Do,useState:function(){return To(So)},useDebugValue:Vo,useDeferredValue:function(e){var t=To(So),n=t[0],r=t[1];return Oo((function(){var t=uo.transition;uo.transition=1;try{r(e)}finally{uo.transition=t}}),[e]),n},useTransition:function(){var e=To(So)[0];return[Do().current,e]},useMutableSource:Co,useOpaqueIdentifier:function(){return To(So)[0]},unstable_isNewReconciler:!1},Wo={readContext:vs,useCallback:jo,useContext:vs,useEffect:Oo,useImperativeHandle:Uo,useLayoutEffect:Mo,useMemo:zo,useReducer:ko,useRef:Do,useState:function(){return ko(So)},useDebugValue:Vo,useDeferredValue:function(e){var t=ko(So),n=t[0],r=t[1];return Oo((function(){var t=uo.transition;uo.transition=1;try{r(e)}finally{uo.transition=t}}),[e]),n},useTransition:function(){var e=ko(So)[0];return[Do().current,e]},useMutableSource:Co,useOpaqueIdentifier:function(){return ko(So)[0]},unstable_isNewReconciler:!1},Go=P.ReactCurrentOwner,Qo=!1;function Xo(e,t,n,r){t.child=null===e?Vs(t,null,n,r):Us(t,e.child,n,r)}function Yo(e,t,n,r,i){n=n.render;var s=t.ref;return ys(t,i),r=wo(e,t,n,r,s,i),null===e||Qo?(t.flags|=1,Xo(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,ya(e,t,i))}function Jo(e,t,n,r,i,s){if(null===e){var o=n.type;return"function"!=typeof o||ru(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=su(n.type,null,r,t,t.mode,s)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Zo(e,t,o,r,i,s))}return o=e.child,0==(i&s)&&(i=o.memoizedProps,(n=null!==(n=n.compare)?n:kr)(i,r)&&e.ref===t.ref)?ya(e,t,s):(t.flags|=1,(e=iu(o,r)).ref=t.ref,e.return=t,t.child=e)}function Zo(e,t,n,r,i,s){if(null!==e&&kr(e.memoizedProps,r)&&e.ref===t.ref){if(Qo=!1,0==(s&i))return t.lanes=e.lanes,ya(e,t,s);0!=(16384&e.flags)&&(Qo=!0)}return na(e,t,n,r,s)}function ea(e,t,n){var r=t.pendingProps,i=r.children,s=null!==e?e.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0==(4&t.mode))t.memoizedState={baseLanes:0},Rl(t,n);else{if(0==(1073741824&n))return e=null!==s?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},Rl(t,e),null;t.memoizedState={baseLanes:0},Rl(t,null!==s?s.baseLanes:n)}else null!==s?(r=s.baseLanes|n,t.memoizedState=null):r=n,Rl(t,r);return Xo(e,t,i,n),t.child}function ta(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=128)}function na(e,t,n,r,i){var s=Ni(n)?Ci:Ii.current;return s=_i(t,s),ys(t,i),n=wo(e,t,n,r,s,i),null===e||Qo?(t.flags|=1,Xo(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,ya(e,t,i))}function ra(e,t,n,r,i){if(Ni(n)){var s=!0;Pi(t)}else s=!1;if(ys(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),Ds(t,n,r),Ps(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,u=n.contextType;"object"==typeof u&&null!==u?u=vs(u):u=_i(t,u=Ni(n)?Ci:Ii.current);var c=n.getDerivedStateFromProps,h="function"==typeof c||"function"==typeof o.getSnapshotBeforeUpdate;h||"function"!=typeof o.UNSAFE_componentWillReceiveProps&&"function"!=typeof o.componentWillReceiveProps||(a!==r||l!==u)&&Ls(t,o,r,u),ws=!1;var f=t.memoizedState;o.state=f,Is(t,r,o,i),l=t.memoizedState,a!==r||f!==l||xi.current||ws?("function"==typeof c&&(_s(t,n,c,r),l=t.memoizedState),(a=ws||As(t,n,a,r,f,l,u))?(h||"function"!=typeof o.UNSAFE_componentWillMount&&"function"!=typeof o.componentWillMount||("function"==typeof o.componentWillMount&&o.componentWillMount(),"function"==typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"==typeof o.componentDidMount&&(t.flags|=4)):("function"==typeof o.componentDidMount&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):("function"==typeof o.componentDidMount&&(t.flags|=4),r=!1)}else{o=t.stateNode,Es(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:us(t.type,a),o.props=u,h=t.pendingProps,f=o.context,"object"==typeof(l=n.contextType)&&null!==l?l=vs(l):l=_i(t,l=Ni(n)?Ci:Ii.current);var d=n.getDerivedStateFromProps;(c="function"==typeof d||"function"==typeof o.getSnapshotBeforeUpdate)||"function"!=typeof o.UNSAFE_componentWillReceiveProps&&"function"!=typeof o.componentWillReceiveProps||(a!==h||f!==l)&&Ls(t,o,r,l),ws=!1,f=t.memoizedState,o.state=f,Is(t,r,o,i);var p=t.memoizedState;a!==h||f!==p||xi.current||ws?("function"==typeof d&&(_s(t,n,d,r),p=t.memoizedState),(u=ws||As(t,n,u,r,f,p,l))?(c||"function"!=typeof o.UNSAFE_componentWillUpdate&&"function"!=typeof o.componentWillUpdate||("function"==typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,l),"function"==typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,l)),"function"==typeof o.componentDidUpdate&&(t.flags|=4),"function"==typeof o.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!=typeof o.componentDidUpdate||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!=typeof o.getSnapshotBeforeUpdate||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=l,r=u):("function"!=typeof o.componentDidUpdate||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!=typeof o.getSnapshotBeforeUpdate||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=256),r=!1)}return ia(e,t,n,r,s,i)}function ia(e,t,n,r,i,s){ta(e,t);var o=0!=(64&t.flags);if(!r&&!o)return i&&Ri(t,n,!1),ya(e,t,s);r=t.stateNode,Go.current=t;var a=o&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Us(t,e.child,null,s),t.child=Us(t,null,a,s)):Xo(e,t,a,s),t.memoizedState=r.state,i&&Ri(t,n,!0),t.child}function sa(e){var t=e.stateNode;t.pendingContext?Di(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Di(0,t.context,!1),$s(e,t.containerInfo)}var oa,aa,la,ua={dehydrated:null,retryLane:0};function ca(e,t,n){var r,i=t.pendingProps,s=Qs.current,o=!1;return(r=0!=(64&t.flags))||(r=(null===e||null!==e.memoizedState)&&0!=(2&s)),r?(o=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(s|=1),Ti(Qs,1&s),null===e?(void 0!==i.fallback&&no(t),e=i.children,s=i.fallback,o?(e=ha(t,e,s,n),t.child.memoizedState={baseLanes:n},t.memoizedState=ua,e):"number"==typeof i.unstable_expectedLoadTime?(e=ha(t,e,s,n),t.child.memoizedState={baseLanes:n},t.memoizedState=ua,t.lanes=33554432,e):((n=au({mode:"visible",children:e},t.mode,n,null)).return=t,t.child=n)):(e.memoizedState,o?(i=da(e,t,i.children,i.fallback,n),o=t.child,s=e.child.memoizedState,o.memoizedState=null===s?{baseLanes:n}:{baseLanes:s.baseLanes|n},o.childLanes=e.childLanes&~n,t.memoizedState=ua,i):(n=fa(e,t,i.children,n),t.memoizedState=null,n))}function ha(e,t,n,r){var i=e.mode,s=e.child;return t={mode:"hidden",children:t},0==(2&i)&&null!==s?(s.childLanes=0,s.pendingProps=t):s=au(t,i,0,null),n=ou(n,i,r,null),s.return=e,n.return=e,s.sibling=n,e.child=s,n}function fa(e,t,n,r){var i=e.child;return e=i.sibling,n=iu(i,{mode:"visible",children:n}),0==(2&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}function da(e,t,n,r,i){var s=t.mode,o=e.child;e=o.sibling;var a={mode:"hidden",children:n};return 0==(2&s)&&t.child!==o?((n=t.child).childLanes=0,n.pendingProps=a,null!==(o=n.lastEffect)?(t.firstEffect=n.firstEffect,t.lastEffect=o,o.nextEffect=null):t.firstEffect=t.lastEffect=null):n=iu(o,a),null!==e?r=iu(e,r):(r=ou(r,s,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function pa(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),gs(e.return,t)}function ma(e,t,n,r,i,s){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:s}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i,o.lastEffect=s)}function ga(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(Xo(e,t,r.children,n),0!=(2&(r=Qs.current)))r=1&r|2,t.flags|=64;else{if(null!==e&&0!=(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&pa(e,n);else if(19===e.tag)pa(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ti(Qs,r),0==(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Xs(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),ma(t,!1,i,n,s,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Xs(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}ma(t,!0,n,null,s,t.lastEffect);break;case"together":ma(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function ya(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Za|=t.lanes,0!=(n&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(v(153));if(null!==t.child){for(n=iu(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=iu(e,e.pendingProps)).return=t;n.sibling=null}return t.child}return null}function va(e,t){if(!Zs)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function wa(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return Ni(t.type)&&Ai(),null;case 3:return Ks(),Si(xi),Si(Ii),ao(),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(io(t)?t.flags|=4:r.hydrate||(t.flags|=256)),null;case 5:Gs(t);var i=Hs(qs.current);if(n=t.type,null!==e&&null!=t.stateNode)aa(e,t,n,r),e.ref!==t.ref&&(t.flags|=128);else{if(!r){if(null===t.stateNode)throw Error(v(166));return null}if(e=Hs(zs.current),io(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[ci]=t,r[hi]=s,n){case"dialog":Br("cancel",r),Br("close",r);break;case"iframe":case"object":case"embed":Br("load",r);break;case"video":case"audio":for(e=0;e<Ur.length;e++)Br(Ur[e],r);break;case"source":Br("error",r);break;case"img":case"image":case"link":Br("error",r),Br("load",r);break;case"details":Br("toggle",r);break;case"input":fe(r,s),Br("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Br("invalid",r);break;case"textarea":be(r,s),Br("invalid",r)}for(var o in Me(n,s),e=null,s)s.hasOwnProperty(o)&&(i=s[o],"children"===o?"string"==typeof i?r.textContent!==i&&(e=["children",i]):"number"==typeof i&&r.textContent!==""+i&&(e=["children",""+i]):b.hasOwnProperty(o)&&null!=i&&"onScroll"===o&&Br("scroll",r));switch(n){case"input":le(r),me(r,s,!0);break;case"textarea":le(r),Se(r);break;case"select":case"option":break;default:"function"==typeof s.onClick&&(r.onclick=Jr)}r=e,t.updateQueue=r,null!==r&&(t.flags|=4)}else{switch(o=9===i.nodeType?i:i.ownerDocument,e===Te&&(e=Ie(n)),e===Te?"script"===n?((e=o.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"==typeof r.is?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),"select"===n&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[ci]=t,e[hi]=r,oa(e,t),t.stateNode=e,o=Fe(n,r),n){case"dialog":Br("cancel",e),Br("close",e),i=r;break;case"iframe":case"object":case"embed":Br("load",e),i=r;break;case"video":case"audio":for(i=0;i<Ur.length;i++)Br(Ur[i],e);i=r;break;case"source":Br("error",e),i=r;break;case"img":case"image":case"link":Br("error",e),Br("load",e),i=r;break;case"details":Br("toggle",e),i=r;break;case"input":fe(e,r),i=he(e,r),Br("invalid",e);break;case"option":i=ye(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=g({},r,{value:void 0}),Br("invalid",e);break;case"textarea":be(e,r),i=we(e,r),Br("invalid",e);break;default:i=r}Me(n,i);var a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];"style"===s?Re(e,l):"dangerouslySetInnerHTML"===s?null!=(l=l?l.__html:void 0)&&Ne(e,l):"children"===s?"string"==typeof l?("textarea"!==n||""!==l)&&Ae(e,l):"number"==typeof l&&Ae(e,""+l):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(b.hasOwnProperty(s)?null!=l&&"onScroll"===s&&Br("scroll",e):null!=l&&L(e,s,l,o))}switch(n){case"input":le(e),me(e,r,!1);break;case"textarea":le(e),Se(e);break;case"option":null!=r.value&&e.setAttribute("value",""+oe(r.value));break;case"select":e.multiple=!!r.multiple,null!=(s=r.value)?ve(e,!!r.multiple,s,!1):null!=r.defaultValue&&ve(e,!!r.multiple,r.defaultValue,!0);break;default:"function"==typeof i.onClick&&(e.onclick=Jr)}ti(n,r)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)la(0,t,e.memoizedProps,r);else{if("string"!=typeof r&&null===t.stateNode)throw Error(v(166));n=Hs(qs.current),Hs(zs.current),io(t)?(r=t.stateNode,n=t.memoizedProps,r[ci]=t,r.nodeValue!==n&&(t.flags|=4)):((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[ci]=t,t.stateNode=r)}return null;case 13:return Si(Qs),r=t.memoizedState,0!=(64&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?void 0!==t.memoizedProps.fallback&&io(t):n=null!==e.memoizedState,r&&!n&&0!=(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!=(1&Qs.current)?0===Xa&&(Xa=3):(0!==Xa&&3!==Xa||(Xa=4),null===$a||0==(134217727&Za)&&0==(134217727&el)||Al($a,Wa))),(r||n)&&(t.flags|=4),null);case 4:return Ks(),null===e&&Hr(t.stateNode.containerInfo),null;case 10:return ms(t),null;case 19:if(Si(Qs),null===(r=t.memoizedState))return null;if(s=0!=(64&t.flags),null===(o=r.rendering))if(s)va(r,!1);else{if(0!==Xa||null!==e&&0!=(64&e.flags))for(e=t.child;null!==e;){if(null!==(o=Xs(e))){for(t.flags|=64,va(r,!1),null!==(s=o.updateQueue)&&(t.updateQueue=s,t.flags|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=n,n=t.child;null!==n;)e=r,(s=n).flags&=2,s.nextEffect=null,s.firstEffect=null,s.lastEffect=null,null===(o=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,e=o.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ti(Qs,1&Qs.current|2),t.child}e=e.sibling}null!==r.tail&&ts()>il&&(t.flags|=64,s=!0,va(r,!1),t.lanes=33554432)}else{if(!s)if(null!==(e=Xs(o))){if(t.flags|=64,s=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),va(r,!0),null===r.tail&&"hidden"===r.tailMode&&!o.alternate&&!Zs)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*ts()-r.renderingStartTime>il&&1073741824!==n&&(t.flags|=64,s=!0,va(r,!1),t.lanes=33554432);r.isBackwards?(o.sibling=t.child,t.child=o):(null!==(n=r.last)?n.sibling=o:t.child=o,r.last=o)}return null!==r.tail?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=ts(),n.sibling=null,t=Qs.current,Ti(Qs,s?1&t|2:1&t),n):null;case 23:case 24:return Ol(),null!==e&&null!==e.memoizedState!=(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(t.flags|=4),null}throw Error(v(156,t.tag))}function ba(e){switch(e.tag){case 1:Ni(e.type)&&Ai();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(Ks(),Si(xi),Si(Ii),ao(),0!=(64&(t=e.flags)))throw Error(v(285));return e.flags=-4097&t|64,e;case 5:return Gs(e),null;case 13:return Si(Qs),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return Si(Qs),null;case 4:return Ks(),null;case 10:return ms(e),null;case 23:case 24:return Ol(),null;default:return null}}function Ea(e,t){try{var n="",r=t;do{n+=ie(r),r=r.return}while(r);var i=n}catch(e){i="\nError generating stack: "+e.message+"\n"+e.stack}return{value:e,source:t,stack:i}}function Sa(e,t){try{console.error(t.value)}catch(e){setTimeout((function(){throw e}))}}oa=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},aa=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Hs(zs.current);var s,o=null;switch(n){case"input":i=he(e,i),r=he(e,r),o=[];break;case"option":i=ye(e,i),r=ye(e,r),o=[];break;case"select":i=g({},i,{value:void 0}),r=g({},r,{value:void 0}),o=[];break;case"textarea":i=we(e,i),r=we(e,r),o=[];break;default:"function"!=typeof i.onClick&&"function"==typeof r.onClick&&(e.onclick=Jr)}for(u in Me(n,r),n=null,i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&null!=i[u])if("style"===u){var a=i[u];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(b.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var l=r[u];if(a=null!=i?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(null!=l||null!=a))if("style"===u)if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(o||(o=[]),o.push(u,n)),n=l;else"dangerouslySetInnerHTML"===u?(l=l?l.__html:void 0,a=a?a.__html:void 0,null!=l&&a!==l&&(o=o||[]).push(u,l)):"children"===u?"string"!=typeof l&&"number"!=typeof l||(o=o||[]).push(u,""+l):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(b.hasOwnProperty(u)?(null!=l&&"onScroll"===u&&Br("scroll",e),o||a===l||(o=[])):"object"==typeof l&&null!==l&&l.$$typeof===W?l.toString():(o=o||[]).push(u,l))}n&&(o=o||[]).push("style",n);var u=o;(t.updateQueue=u)&&(t.flags|=4)}},la=function(e,t,n,r){n!==r&&(t.flags|=4)};var Ta="function"==typeof WeakMap?WeakMap:Map;function ka(e,t,n){(n=Ss(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){ll||(ll=!0,ul=r),Sa(0,t)},n}function Ia(e,t,n){(n=Ss(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"==typeof r){var i=t.value;n.payload=function(){return Sa(0,t),r(i)}}var s=e.stateNode;return null!==s&&"function"==typeof s.componentDidCatch&&(n.callback=function(){"function"!=typeof r&&(null===cl?cl=new Set([this]):cl.add(this),Sa(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}var xa="function"==typeof WeakSet?WeakSet:Set;function Ca(e){var t=e.ref;if(null!==t)if("function"==typeof t)try{t(null)}catch(t){Jl(e,t)}else t.current=null}function _a(e,t){switch(t.tag){case 0:case 11:case 15:case 22:case 5:case 6:case 4:case 17:return;case 1:if(256&t.flags&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:us(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&si(t.stateNode.containerInfo))}throw Error(v(163))}function Na(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(3==(3&e.tag)){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var i=e;r=i.next,0!=(4&(i=i.tag))&&0!=(1&i)&&(Ql(n,e),Gl(n,e)),e=r}while(e!==t)}return;case 1:return e=n.stateNode,4&n.flags&&(null===t?e.componentDidMount():(r=n.elementType===n.type?t.memoizedProps:us(n.type,t.memoizedProps),e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=n.updateQueue)&&xs(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:case 1:e=n.child.stateNode}xs(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.flags&&ti(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:case 19:case 17:case 20:case 21:case 23:case 24:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&Rt(n)))))}throw Error(v(163))}function Aa(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;if(t)"function"==typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=null!=i&&i.hasOwnProperty("display")?i.display:null,r.style.display=Pe("display",i)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function Da(e,t){if(Mi&&"function"==typeof Mi.onCommitFiberUnmount)try{Mi.onCommitFiberUnmount(Oi,t)}catch(e){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var r=n,i=r.destroy;if(r=r.tag,void 0!==i)if(0!=(4&r))Ql(t,n);else{r=t;try{i()}catch(e){Jl(r,e)}}n=n.next}while(n!==e)}break;case 1:if(Ca(t),"function"==typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(e){Jl(t,e)}break;case 5:Ca(t);break;case 4:Fa(e,t)}}function La(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function Pa(e){return 5===e.tag||3===e.tag||4===e.tag}function Ra(e){e:{for(var t=e.return;null!==t;){if(Pa(t))break e;t=t.return}throw Error(v(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(v(161))}16&n.flags&&(Ae(t,""),n.flags&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||Pa(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break e}}r?Oa(e,n,t):Ma(e,n,t)}function Oa(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!=(n=n._reactRootContainer)||null!==t.onclick||(t.onclick=Jr));else if(4!==r&&null!==(e=e.child))for(Oa(e,t,n),e=e.sibling;null!==e;)Oa(e,t,n),e=e.sibling}function Ma(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(Ma(e,t,n),e=e.sibling;null!==e;)Ma(e,t,n),e=e.sibling}function Fa(e,t){for(var n,r,i=t,s=!1;;){if(!s){s=i.return;e:for(;;){if(null===s)throw Error(v(160));switch(n=s.stateNode,s.tag){case 5:r=!1;break e;case 3:case 4:n=n.containerInfo,r=!0;break e}s=s.return}s=!0}if(5===i.tag||6===i.tag){e:for(var o=e,a=i,l=a;;)if(Da(o,l),null!==l.child&&4!==l.tag)l.child.return=l,l=l.child;else{if(l===a)break e;for(;null===l.sibling;){if(null===l.return||l.return===a)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}r?(o=n,a=i.stateNode,8===o.nodeType?o.parentNode.removeChild(a):o.removeChild(a)):n.removeChild(i.stateNode)}else if(4===i.tag){if(null!==i.child){n=i.stateNode.containerInfo,r=!0,i.child.return=i,i=i.child;continue}}else if(Da(e,i),null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;4===(i=i.return).tag&&(s=!1)}i.sibling.return=i.return,i=i.sibling}}function Ua(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{3==(3&r.tag)&&(e=r.destroy,r.destroy=void 0,void 0!==e&&e()),r=r.next}while(r!==n)}return;case 1:case 12:case 17:return;case 5:if(null!=(n=t.stateNode)){r=t.memoizedProps;var i=null!==e?e.memoizedProps:r;e=t.type;var s=t.updateQueue;if(t.updateQueue=null,null!==s){for(n[hi]=r,"input"===e&&"radio"===r.type&&null!=r.name&&de(n,r),Fe(e,i),t=Fe(e,r),i=0;i<s.length;i+=2){var o=s[i],a=s[i+1];"style"===o?Re(n,a):"dangerouslySetInnerHTML"===o?Ne(n,a):"children"===o?Ae(n,a):L(n,o,a,t)}switch(e){case"input":pe(n,r);break;case"textarea":Ee(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(s=r.value)?ve(n,!!r.multiple,s,!1):e!==!!r.multiple&&(null!=r.defaultValue?ve(n,!!r.multiple,r.defaultValue,!0):ve(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(v(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((n=t.stateNode).hydrate&&(n.hydrate=!1,Rt(n.containerInfo)));case 13:return null!==t.memoizedState&&(rl=ts(),Aa(t.child,!0)),void Va(t);case 19:return void Va(t);case 23:case 24:return void Aa(t,null!==t.memoizedState)}throw Error(v(163))}function Va(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new xa),t.forEach((function(t){var r=eu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function ja(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&(null!==(t=t.memoizedState)&&null===t.dehydrated)}var za=Math.ceil,Ba=P.ReactCurrentDispatcher,qa=P.ReactCurrentOwner,Ha=0,$a=null,Ka=null,Wa=0,Ga=0,Qa=Ei(0),Xa=0,Ya=null,Ja=0,Za=0,el=0,tl=0,nl=null,rl=0,il=1/0;function sl(){il=ts()+500}var ol,al=null,ll=!1,ul=null,cl=null,hl=!1,fl=null,dl=90,pl=[],ml=[],gl=null,yl=0,vl=null,wl=-1,bl=0,El=0,Sl=null,Tl=!1;function kl(){return 0!=(48&Ha)?ts():-1!==wl?wl:wl=ts()}function Il(e){if(0==(2&(e=e.mode)))return 1;if(0==(4&e))return 99===ns()?1:2;if(0===bl&&(bl=Ja),0!==ls.transition){0!==El&&(El=null!==nl?nl.pendingLanes:0),e=bl;var t=4186112&~El;return 0===(t&=-t)&&(0===(t=(e=4186112&~e)&-e)&&(t=8192)),t}return e=ns(),0!=(4&Ha)&&98===e?e=Jt(12,bl):e=Jt(e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),bl),e}function xl(e,t,n){if(50<yl)throw yl=0,vl=null,Error(v(185));if(null===(e=Cl(e,t)))return null;tn(e,t,n),e===$a&&(el|=t,4===Xa&&Al(e,Wa));var r=ns();1===t?0!=(8&Ha)&&0==(48&Ha)?Dl(e):(_l(e,n),0===Ha&&(sl(),os())):(0==(4&Ha)||98!==r&&99!==r||(null===gl?gl=new Set([e]):gl.add(e)),_l(e,n)),nl=e}function Cl(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function _l(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,i=e.pingedLanes,s=e.expirationTimes,o=e.pendingLanes;0<o;){var a=31-nn(o),l=1<<a,u=s[a];if(-1===u){if(0==(l&r)||0!=(l&i)){u=t,Qt(l);var c=Gt;s[a]=10<=c?u+250:6<=c?u+5e3:-1}}else u<=t&&(e.expiredLanes|=l);o&=~l}if(r=Xt(e,e===$a?Wa:0),t=Gt,0===r)null!==n&&(n!==Qi&&Vi(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==Qi&&Vi(n)}15===t?(n=Dl.bind(null,e),null===Yi?(Yi=[n],Ji=Ui(Hi,as)):Yi.push(n),n=Qi):14===t?n=ss(99,Dl.bind(null,e)):(n=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(v(358,e))}}(t),n=ss(n,Nl.bind(null,e))),e.callbackPriority=t,e.callbackNode=n}}function Nl(e){if(wl=-1,El=bl=0,0!=(48&Ha))throw Error(v(327));var t=e.callbackNode;if(Wl()&&e.callbackNode!==t)return null;var n=Xt(e,e===$a?Wa:0);if(0===n)return null;var r=n,i=Ha;Ha|=16;var s=Ul();for($a===e&&Wa===r||(sl(),Ml(e,r));;)try{zl();break}catch(t){Fl(e,t)}if(ps(),Ba.current=s,Ha=i,null!==Ka?r=0:($a=null,Wa=0,r=Xa),0!=(Ja&el))Ml(e,0);else if(0!==r){if(2===r&&(Ha|=64,e.hydrate&&(e.hydrate=!1,si(e.containerInfo)),0!==(n=Yt(e))&&(r=Vl(e,n))),1===r)throw t=Ya,Ml(e,0),Al(e,n),_l(e,ts()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,r){case 0:case 1:throw Error(v(345));case 2:case 5:Hl(e);break;case 3:if(Al(e,n),(62914560&n)===n&&10<(r=rl+500-ts())){if(0!==Xt(e,0))break;if(((i=e.suspendedLanes)&n)!==n){kl(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(Hl.bind(null,e),r);break}Hl(e);break;case 4:if(Al(e,n),(4186112&n)===n)break;for(r=e.eventTimes,i=-1;0<n;){var o=31-nn(n);s=1<<o,(o=r[o])>i&&(i=o),n&=~s}if(n=i,10<(n=(120>(n=ts()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*za(n/1960))-n)){e.timeoutHandle=ri(Hl.bind(null,e),n);break}Hl(e);break;default:throw Error(v(329))}}return _l(e,ts()),e.callbackNode===t?Nl.bind(null,e):null}function Al(e,t){for(t&=~tl,t&=~el,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-nn(t),r=1<<n;e[n]=-1,t&=~r}}function Dl(e){if(0!=(48&Ha))throw Error(v(327));if(Wl(),e===$a&&0!=(e.expiredLanes&Wa)){var t=Wa,n=Vl(e,t);0!=(Ja&el)&&(n=Vl(e,t=Xt(e,t)))}else n=Vl(e,t=Xt(e,0));if(0!==e.tag&&2===n&&(Ha|=64,e.hydrate&&(e.hydrate=!1,si(e.containerInfo)),0!==(t=Yt(e))&&(n=Vl(e,t))),1===n)throw n=Ya,Ml(e,0),Al(e,t),_l(e,ts()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,Hl(e),_l(e,ts()),null}function Ll(e,t){var n=Ha;Ha|=1;try{return e(t)}finally{0===(Ha=n)&&(sl(),os())}}function Pl(e,t){var n=Ha;Ha&=-2,Ha|=8;try{return e(t)}finally{0===(Ha=n)&&(sl(),os())}}function Rl(e,t){Ti(Qa,Ga),Ga|=t,Ja|=t}function Ol(){Ga=Qa.current,Si(Qa)}function Ml(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Ka)for(n=Ka.return;null!==n;){var r=n;switch(r.tag){case 1:null!=(r=r.type.childContextTypes)&&Ai();break;case 3:Ks(),Si(xi),Si(Ii),ao();break;case 5:Gs(r);break;case 4:Ks();break;case 13:case 19:Si(Qs);break;case 10:ms(r);break;case 23:case 24:Ol()}n=n.return}$a=e,Ka=iu(e.current,null),Wa=Ga=Ja=t,Xa=0,Ya=null,tl=el=Za=0}function Fl(e,t){for(;;){var n=Ka;try{if(ps(),lo.current=Ho,mo){for(var r=ho.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}mo=!1}if(co=0,po=fo=ho=null,go=!1,qa.current=null,null===n||null===n.return){Xa=1,Ya=t,Ka=null;break}e:{var s=e,o=n.return,a=n,l=t;if(t=Wa,a.flags|=2048,a.firstEffect=a.lastEffect=null,null!==l&&"object"==typeof l&&"function"==typeof l.then){var u=l;if(0==(2&a.mode)){var c=a.alternate;c?(a.updateQueue=c.updateQueue,a.memoizedState=c.memoizedState,a.lanes=c.lanes):(a.updateQueue=null,a.memoizedState=null)}var h=0!=(1&Qs.current),f=o;do{var d;if(d=13===f.tag){var p=f.memoizedState;if(null!==p)d=null!==p.dehydrated;else{var m=f.memoizedProps;d=void 0!==m.fallback&&(!0!==m.unstable_avoidThisFallback||!h)}}if(d){var g=f.updateQueue;if(null===g){var y=new Set;y.add(u),f.updateQueue=y}else g.add(u);if(0==(2&f.mode)){if(f.flags|=64,a.flags|=16384,a.flags&=-2981,1===a.tag)if(null===a.alternate)a.tag=17;else{var v=Ss(-1,1);v.tag=2,Ts(a,v)}a.lanes|=1;break e}l=void 0,a=t;var w=s.pingCache;if(null===w?(w=s.pingCache=new Ta,l=new Set,w.set(u,l)):void 0===(l=w.get(u))&&(l=new Set,w.set(u,l)),!l.has(a)){l.add(a);var b=Zl.bind(null,s,u,a);u.then(b,b)}f.flags|=4096,f.lanes=t;break e}f=f.return}while(null!==f);l=Error((se(a.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==Xa&&(Xa=2),l=Ea(l,a),f=o;do{switch(f.tag){case 3:s=l,f.flags|=4096,t&=-t,f.lanes|=t,ks(f,ka(0,s,t));break e;case 1:s=l;var E=f.type,S=f.stateNode;if(0==(64&f.flags)&&("function"==typeof E.getDerivedStateFromError||null!==S&&"function"==typeof S.componentDidCatch&&(null===cl||!cl.has(S)))){f.flags|=4096,t&=-t,f.lanes|=t,ks(f,Ia(f,s,t));break e}}f=f.return}while(null!==f)}ql(n)}catch(e){t=e,Ka===n&&null!==n&&(Ka=n=n.return);continue}break}}function Ul(){var e=Ba.current;return Ba.current=Ho,null===e?Ho:e}function Vl(e,t){var n=Ha;Ha|=16;var r=Ul();for($a===e&&Wa===t||Ml(e,t);;)try{jl();break}catch(t){Fl(e,t)}if(ps(),Ha=n,Ba.current=r,null!==Ka)throw Error(v(261));return $a=null,Wa=0,Xa}function jl(){for(;null!==Ka;)Bl(Ka)}function zl(){for(;null!==Ka&&!ji();)Bl(Ka)}function Bl(e){var t=ol(e.alternate,e,Ga);e.memoizedProps=e.pendingProps,null===t?ql(e):Ka=t,qa.current=null}function ql(e){var t=e;do{var n=t.alternate;if(e=t.return,0==(2048&t.flags)){if(null!==(n=wa(n,t,Ga)))return void(Ka=n);if(24!==(n=t).tag&&23!==n.tag||null===n.memoizedState||0!=(1073741824&Ga)||0==(4&n.mode)){for(var r=0,i=n.child;null!==i;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}null!==e&&0==(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(n=ba(t)))return n.flags&=2047,void(Ka=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(Ka=t);Ka=t=e}while(null!==t);0===Xa&&(Xa=5)}function Hl(e){var t=ns();return is(99,$l.bind(null,e,t)),null}function $l(e,t){do{Wl()}while(null!==fl);if(0!=(48&Ha))throw Error(v(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(v(177));e.callbackNode=null;var r=n.lanes|n.childLanes,i=r,s=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;for(var o=e.eventTimes,a=e.expirationTimes;0<s;){var l=31-nn(s),u=1<<l;i[l]=0,o[l]=-1,a[l]=-1,s&=~u}if(null!==gl&&0==(24&r)&&gl.has(e)&&gl.delete(e),e===$a&&(Ka=$a=null,Wa=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){if(i=Ha,Ha|=32,qa.current=null,Zr=ln,Nr(o=_r())){if("selectionStart"in o)a={start:o.selectionStart,end:o.selectionEnd};else e:if(a=(a=o.ownerDocument)&&a.defaultView||window,(u=a.getSelection&&a.getSelection())&&0!==u.rangeCount){a=u.anchorNode,s=u.anchorOffset,l=u.focusNode,u=u.focusOffset;try{a.nodeType,l.nodeType}catch(e){a=null;break e}var c=0,h=-1,f=-1,d=0,p=0,m=o,g=null;t:for(;;){for(var y;m!==a||0!==s&&3!==m.nodeType||(h=c+s),m!==l||0!==u&&3!==m.nodeType||(f=c+u),3===m.nodeType&&(c+=m.nodeValue.length),null!==(y=m.firstChild);)g=m,m=y;for(;;){if(m===o)break t;if(g===a&&++d===s&&(h=c),g===l&&++p===u&&(f=c),null!==(y=m.nextSibling))break;g=(m=g).parentNode}m=y}a=-1===h||-1===f?null:{start:h,end:f}}else a=null;a=a||{start:0,end:0}}else a=null;ei={focusedElem:o,selectionRange:a},ln=!1,Sl=null,Tl=!1,al=r;do{try{Kl()}catch(e){if(null===al)throw Error(v(330));Jl(al,e),al=al.nextEffect}}while(null!==al);Sl=null,al=r;do{try{for(o=e;null!==al;){var w=al.flags;if(16&w&&Ae(al.stateNode,""),128&w){var b=al.alternate;if(null!==b){var E=b.ref;null!==E&&("function"==typeof E?E(null):E.current=null)}}switch(1038&w){case 2:Ra(al),al.flags&=-3;break;case 6:Ra(al),al.flags&=-3,Ua(al.alternate,al);break;case 1024:al.flags&=-1025;break;case 1028:al.flags&=-1025,Ua(al.alternate,al);break;case 4:Ua(al.alternate,al);break;case 8:Fa(o,a=al);var S=a.alternate;La(a),null!==S&&La(S)}al=al.nextEffect}}catch(e){if(null===al)throw Error(v(330));Jl(al,e),al=al.nextEffect}}while(null!==al);if(E=ei,b=_r(),w=E.focusedElem,o=E.selectionRange,b!==w&&w&&w.ownerDocument&&Cr(w.ownerDocument.documentElement,w)){null!==o&&Nr(w)&&(b=o.start,void 0===(E=o.end)&&(E=b),"selectionStart"in w?(w.selectionStart=b,w.selectionEnd=Math.min(E,w.value.length)):(E=(b=w.ownerDocument||document)&&b.defaultView||window).getSelection&&(E=E.getSelection(),a=w.textContent.length,S=Math.min(o.start,a),o=void 0===o.end?S:Math.min(o.end,a),!E.extend&&S>o&&(a=o,o=S,S=a),a=xr(w,S),s=xr(w,o),a&&s&&(1!==E.rangeCount||E.anchorNode!==a.node||E.anchorOffset!==a.offset||E.focusNode!==s.node||E.focusOffset!==s.offset)&&((b=b.createRange()).setStart(a.node,a.offset),E.removeAllRanges(),S>o?(E.addRange(b),E.extend(s.node,s.offset)):(b.setEnd(s.node,s.offset),E.addRange(b))))),b=[];for(E=w;E=E.parentNode;)1===E.nodeType&&b.push({element:E,left:E.scrollLeft,top:E.scrollTop});for("function"==typeof w.focus&&w.focus(),w=0;w<b.length;w++)(E=b[w]).element.scrollLeft=E.left,E.element.scrollTop=E.top}ln=!!Zr,ei=Zr=null,e.current=n,al=r;do{try{for(w=e;null!==al;){var T=al.flags;if(36&T&&Na(w,al.alternate,al),128&T){b=void 0;var k=al.ref;if(null!==k){var I=al.stateNode;al.tag,b=I,"function"==typeof k?k(b):k.current=b}}al=al.nextEffect}}catch(e){if(null===al)throw Error(v(330));Jl(al,e),al=al.nextEffect}}while(null!==al);al=null,Xi(),Ha=i}else e.current=n;if(hl)hl=!1,fl=e,dl=t;else for(al=r;null!==al;)t=al.nextEffect,al.nextEffect=null,8&al.flags&&((T=al).sibling=null,T.stateNode=null),al=t;if(0===(r=e.pendingLanes)&&(cl=null),1===r?e===vl?yl++:(yl=0,vl=e):yl=0,n=n.stateNode,Mi&&"function"==typeof Mi.onCommitFiberRoot)try{Mi.onCommitFiberRoot(Oi,n,void 0,64==(64&n.current.flags))}catch(e){}if(_l(e,ts()),ll)throw ll=!1,e=ul,ul=null,e;return 0!=(8&Ha)||os(),null}function Kl(){for(;null!==al;){var e=al.alternate;Tl||null===Sl||(0!=(8&al.flags)?ft(al,Sl)&&(Tl=!0):13===al.tag&&ja(e,al)&&ft(al,Sl)&&(Tl=!0));var t=al.flags;0!=(256&t)&&_a(e,al),0==(512&t)||hl||(hl=!0,ss(97,(function(){return Wl(),null}))),al=al.nextEffect}}function Wl(){if(90!==dl){var e=97<dl?97:dl;return dl=90,is(e,Xl)}return!1}function Gl(e,t){pl.push(t,e),hl||(hl=!0,ss(97,(function(){return Wl(),null})))}function Ql(e,t){ml.push(t,e),hl||(hl=!0,ss(97,(function(){return Wl(),null})))}function Xl(){if(null===fl)return!1;var e=fl;if(fl=null,0!=(48&Ha))throw Error(v(331));var t=Ha;Ha|=32;var n=ml;ml=[];for(var r=0;r<n.length;r+=2){var i=n[r],s=n[r+1],o=i.destroy;if(i.destroy=void 0,"function"==typeof o)try{o()}catch(e){if(null===s)throw Error(v(330));Jl(s,e)}}for(n=pl,pl=[],r=0;r<n.length;r+=2){i=n[r],s=n[r+1];try{var a=i.create;i.destroy=a()}catch(e){if(null===s)throw Error(v(330));Jl(s,e)}}for(a=e.current.firstEffect;null!==a;)e=a.nextEffect,a.nextEffect=null,8&a.flags&&(a.sibling=null,a.stateNode=null),a=e;return Ha=t,os(),!0}function Yl(e,t,n){Ts(e,t=ka(0,t=Ea(n,t),1)),t=kl(),null!==(e=Cl(e,1))&&(tn(e,1,t),_l(e,t))}function Jl(e,t){if(3===e.tag)Yl(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){Yl(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"==typeof n.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===cl||!cl.has(r))){var i=Ia(n,e=Ea(t,e),1);if(Ts(n,i),i=kl(),null!==(n=Cl(n,1)))tn(n,1,i),_l(n,i);else if("function"==typeof r.componentDidCatch&&(null===cl||!cl.has(r)))try{r.componentDidCatch(t,e)}catch(e){}break}}n=n.return}}function Zl(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=kl(),e.pingedLanes|=e.suspendedLanes&n,$a===e&&(Wa&n)===n&&(4===Xa||3===Xa&&(62914560&Wa)===Wa&&500>ts()-rl?Ml(e,0):tl|=n),_l(e,t)}function eu(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(0==(2&(t=e.mode))?t=1:0==(4&t)?t=99===ns()?1:2:(0===bl&&(bl=Ja),0===(t=Zt(62914560&~bl))&&(t=4194304))),n=kl(),null!==(e=Cl(e,t))&&(tn(e,t,n),_l(e,n))}function tu(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function nu(e,t,n,r){return new tu(e,t,n,r)}function ru(e){return!(!(e=e.prototype)||!e.isReactComponent)}function iu(e,t){var n=e.alternate;return null===n?((n=nu(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function su(e,t,n,r,i,s){var o=2;if(r=e,"function"==typeof e)ru(e)&&(o=1);else if("string"==typeof e)o=5;else e:switch(e){case M:return ou(n.children,i,s,t);case G:o=8,i|=16;break;case F:o=8,i|=1;break;case U:return(e=nu(12,n,t,8|i)).elementType=U,e.type=U,e.lanes=s,e;case B:return(e=nu(13,n,t,i)).type=B,e.elementType=B,e.lanes=s,e;case q:return(e=nu(19,n,t,i)).elementType=q,e.lanes=s,e;case Q:return au(n,i,s,t);case X:return(e=nu(24,n,t,i)).elementType=X,e.lanes=s,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case V:o=10;break e;case j:o=9;break e;case z:o=11;break e;case H:o=14;break e;case $:o=16,r=null;break e;case K:o=22;break e}throw Error(v(130,null==e?e:typeof e,""))}return(t=nu(o,n,t,i)).elementType=e,t.type=r,t.lanes=s,t}function ou(e,t,n,r){return(e=nu(7,e,r,t)).lanes=n,e}function au(e,t,n,r){return(e=nu(23,e,r,t)).elementType=Q,e.lanes=n,e}function lu(e,t,n){return(e=nu(6,e,null,t)).lanes=n,e}function uu(e,t,n){return(t=nu(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function cu(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=en(0),this.expirationTimes=en(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=en(0),this.mutableSourceEagerHydrationData=null}function hu(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:O,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function fu(e,t,n,r){var i=t.current,s=kl(),o=Il(i);e:if(n){t:{if(lt(n=n._reactInternals)!==n||1!==n.tag)throw Error(v(170));var a=n;do{switch(a.tag){case 3:a=a.stateNode.context;break t;case 1:if(Ni(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break t}}a=a.return}while(null!==a);throw Error(v(171))}if(1===n.tag){var l=n.type;if(Ni(l)){n=Li(n,l,a);break e}}n=a}else n=ki;return null===t.context?t.context=n:t.pendingContext=n,(t=Ss(s,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),Ts(i,t),xl(i,o,s),o}function du(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function pu(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function mu(e,t){pu(e,t),(e=e.alternate)&&pu(e,t)}function gu(e,t,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new cu(e,t,null!=n&&!0===n.hydrate),t=nu(3,null,null,2===t?7:1===t?3:0),n.current=t,t.stateNode=n,bs(t),e[fi]=n.current,Hr(8===e.nodeType?e.parentNode:e),r)for(e=0;e<r.length;e++){var i=(t=r[e])._getVersion;i=i(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,i]:n.mutableSourceEagerHydrationData.push(t,i)}this._internalRoot=n}function yu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function vu(e,t,n,r,i){var s=n._reactRootContainer;if(s){var o=s._internalRoot;if("function"==typeof i){var a=i;i=function(){var e=du(o);a.call(e)}}fu(t,o,e,i)}else{if(s=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new gu(e,0,t?{hydrate:!0}:void 0)}(n,r),o=s._internalRoot,"function"==typeof i){var l=i;i=function(){var e=du(o);l.call(e)}}Pl((function(){fu(t,o,e,i)}))}return du(o)}function wu(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!yu(t))throw Error(v(200));return hu(e,t,null,n)}ol=function(e,t,n){var r=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||xi.current)Qo=!0;else{if(0==(n&r)){switch(Qo=!1,t.tag){case 3:sa(t),so();break;case 5:Ws(t);break;case 1:Ni(t.type)&&Pi(t);break;case 4:$s(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value;var i=t.type._context;Ti(cs,i._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!=(n&t.child.childLanes)?ca(e,t,n):(Ti(Qs,1&Qs.current),null!==(t=ya(e,t,n))?t.sibling:null);Ti(Qs,1&Qs.current);break;case 19:if(r=0!=(n&t.childLanes),0!=(64&e.flags)){if(r)return ga(e,t,n);t.flags|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ti(Qs,Qs.current),r)break;return null;case 23:case 24:return t.lanes=0,ea(e,t,n)}return ya(e,t,n)}Qo=0!=(16384&e.flags)}else Qo=!1;switch(t.lanes=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=_i(t,Ii.current),ys(t,n),i=wo(null,t,r,e,i,n),t.flags|=1,"object"==typeof i&&null!==i&&"function"==typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ni(r)){var s=!0;Pi(t)}else s=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,bs(t);var o=r.getDerivedStateFromProps;"function"==typeof o&&_s(t,r,o,e),i.updater=Ns,t.stateNode=i,i._reactInternals=t,Ps(t,r,e,n),t=ia(null,t,r,!0,s,n)}else t.tag=0,Xo(null,t,i,n),t=t.child;return t;case 16:i=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=(s=i._init)(i._payload),t.type=i,s=t.tag=function(e){if("function"==typeof e)return ru(e)?1:0;if(null!=e){if((e=e.$$typeof)===z)return 11;if(e===H)return 14}return 2}(i),e=us(i,e),s){case 0:t=na(null,t,i,e,n);break e;case 1:t=ra(null,t,i,e,n);break e;case 11:t=Yo(null,t,i,e,n);break e;case 14:t=Jo(null,t,i,us(i.type,e),r,n);break e}throw Error(v(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,na(e,t,r,i=t.elementType===r?i:us(r,i),n);case 1:return r=t.type,i=t.pendingProps,ra(e,t,r,i=t.elementType===r?i:us(r,i),n);case 3:if(sa(t),r=t.updateQueue,null===e||null===r)throw Error(v(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,Es(e,t),Is(t,r,null,n),(r=t.memoizedState.element)===i)so(),t=ya(e,t,n);else{if((s=(i=t.stateNode).hydrate)&&(Js=oi(t.stateNode.containerInfo.firstChild),Ys=t,s=Zs=!0),s){if(null!=(e=i.mutableSourceEagerHydrationData))for(i=0;i<e.length;i+=2)(s=e[i])._workInProgressVersionPrimary=e[i+1],oo.push(s);for(n=Vs(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else Xo(e,t,r,n),so();t=t.child}return t;case 5:return Ws(t),null===e&&no(t),r=t.type,i=t.pendingProps,s=null!==e?e.memoizedProps:null,o=i.children,ni(r,i)?o=null:null!==s&&ni(r,s)&&(t.flags|=16),ta(e,t),Xo(e,t,o,n),t.child;case 6:return null===e&&no(t),null;case 13:return ca(e,t,n);case 4:return $s(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Us(t,null,r,n):Xo(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Yo(e,t,r,i=t.elementType===r?i:us(r,i),n);case 7:return Xo(e,t,t.pendingProps,n),t.child;case 8:case 12:return Xo(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,o=t.memoizedProps,s=i.value;var a=t.type._context;if(Ti(cs,a._currentValue),a._currentValue=s,null!==o)if(a=o.value,0===(s=Sr(a,s)?0:0|("function"==typeof r._calculateChangedBits?r._calculateChangedBits(a,s):1073741823))){if(o.children===i.children&&!xi.current){t=ya(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var l=a.dependencies;if(null!==l){o=a.child;for(var u=l.firstContext;null!==u;){if(u.context===r&&0!=(u.observedBits&s)){1===a.tag&&((u=Ss(-1,n&-n)).tag=2,Ts(a,u)),a.lanes|=n,null!==(u=a.alternate)&&(u.lanes|=n),gs(a.return,n),l.lanes|=n;break}u=u.next}}else o=10===a.tag&&a.type===t.type?null:a.child;if(null!==o)o.return=a;else for(o=a;null!==o;){if(o===t){o=null;break}if(null!==(a=o.sibling)){a.return=o.return,o=a;break}o=o.return}a=o}Xo(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(s=t.pendingProps).children,ys(t,n),r=r(i=vs(i,s.unstable_observedBits)),t.flags|=1,Xo(e,t,r,n),t.child;case 14:return s=us(i=t.type,t.pendingProps),Jo(e,t,i,s=us(i.type,s),r,n);case 15:return Zo(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:us(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,Ni(r)?(e=!0,Pi(t)):e=!1,ys(t,n),Ds(t,r,i),Ps(t,r,i,n),ia(null,t,r,!0,e,n);case 19:return ga(e,t,n);case 23:case 24:return ea(e,t,n)}throw Error(v(156,t.tag))},gu.prototype.render=function(e){fu(e,this._internalRoot,null,null)},gu.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;fu(null,e,null,(function(){t[fi]=null}))},dt=function(e){13===e.tag&&(xl(e,4,kl()),mu(e,4))},pt=function(e){13===e.tag&&(xl(e,67108864,kl()),mu(e,67108864))},mt=function(e){if(13===e.tag){var t=kl(),n=Il(e);xl(e,n,t),mu(e,n)}},gt=function(e,t){return t()},Ve=function(e,t,n){switch(t){case"input":if(pe(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=yi(r);if(!i)throw Error(v(90));ue(r),pe(r,i)}}}break;case"textarea":Ee(e,n);break;case"select":null!=(t=n.value)&&ve(e,!!n.multiple,t,!1)}},$e=Ll,Ke=function(e,t,n,r,i){var s=Ha;Ha|=4;try{return is(98,e.bind(null,t,n,r,i))}finally{0===(Ha=s)&&(sl(),os())}},We=function(){0==(49&Ha)&&(function(){if(null!==gl){var e=gl;gl=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,_l(e,ts())}))}os()}(),Wl())},Ge=function(e,t){var n=Ha;Ha|=2;try{return e(t)}finally{0===(Ha=n)&&(sl(),os())}};var bu={Events:[mi,gi,yi,qe,He,Wl,{current:!1}]},Eu={findFiberByHostInstance:pi,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},Su={bundleType:Eu.bundleType,version:Eu.version,rendererPackageName:Eu.rendererPackageName,rendererConfig:Eu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:P.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=ht(e))?null:e.stateNode},findFiberByHostInstance:Eu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Tu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Tu.isDisabled&&Tu.supportsFiber)try{Oi=Tu.inject(Su),Mi=Tu}catch(_e){}}r=bu,i=wu,o=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(v(188));throw Error(v(268,Object.keys(e)))}return e=null===(e=ht(t))?null:e.stateNode},a=function(e,t){var n=Ha;if(0!=(48&n))return e(t);Ha|=1;try{if(e)return is(99,e.bind(null,t))}finally{Ha=n,os()}},l=function(e,t,n){if(!yu(t))throw Error(v(200));return vu(null,e,t,!0,n)},u=function(e,t,n){if(!yu(t))throw Error(v(200));return vu(null,e,t,!1,n)},c=function(e){if(!yu(e))throw Error(v(40));return!!e._reactRootContainer&&(Pl((function(){vu(null,null,e,!1,(function(){e._reactRootContainer=null,e[fi]=null}))})),!0)},h=Ll,f=function(e,t){return wu(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},d=function(e,t,n,r){if(!yu(n))throw Error(v(200));if(null==e||void 0===e._reactInternals)throw Error(v(38));return vu(e,t,n,!1,r)},p="17.0.2"})),s.register("g5TAu",(function(e,t){e.exports=s("7JTyq")})),s.register("7JTyq",(function(t,n){var r,i,s,o,a,l,u,c,h,f,d,p,m,g,y,v,w,b,E,S,T,k,I;if(e(t.exports,"unstable_now",(function(){return r}),(function(e){return r=e})),e(t.exports,"unstable_shouldYield",(function(){return i}),(function(e){return i=e})),e(t.exports,"unstable_forceFrameRate",(function(){return s}),(function(e){return s=e})),e(t.exports,"unstable_IdlePriority",(function(){return o}),(function(e){return o=e})),e(t.exports,"unstable_ImmediatePriority",(function(){return a}),(function(e){return a=e})),e(t.exports,"unstable_LowPriority",(function(){return l}),(function(e){return l=e})),e(t.exports,"unstable_NormalPriority",(function(){return u}),(function(e){return u=e})),e(t.exports,"unstable_Profiling",(function(){return c}),(function(e){return c=e})),e(t.exports,"unstable_UserBlockingPriority",(function(){return h}),(function(e){return h=e})),e(t.exports,"unstable_cancelCallback",(function(){return f}),(function(e){return f=e})),e(t.exports,"unstable_continueExecution",(function(){return d}),(function(e){return d=e})),e(t.exports,"unstable_getCurrentPriorityLevel",(function(){return p}),(function(e){return p=e})),e(t.exports,"unstable_getFirstCallbackNode",(function(){return m}),(function(e){return m=e})),e(t.exports,"unstable_next",(function(){return g}),(function(e){return g=e})),e(t.exports,"unstable_pauseExecution",(function(){return y}),(function(e){return y=e})),e(t.exports,"unstable_requestPaint",(function(){return v}),(function(e){return v=e})),e(t.exports,"unstable_runWithPriority",(function(){return w}),(function(e){return w=e})),e(t.exports,"unstable_scheduleCallback",(function(){return b}),(function(e){return b=e})),e(t.exports,"unstable_wrapCallback",(function(){return E}),(function(e){return E=e})),"object"==typeof performance&&"function"==typeof performance.now){var x=performance;r=function(){return x.now()}}else{var C=Date,_=C.now();r=function(){return C.now()-_}}if("undefined"==typeof window||"function"!=typeof MessageChannel){var N=null,A=null,D=function(){if(null!==N)try{var e=r();N(!0,e),N=null}catch(e){throw setTimeout(D,0),e}};S=function(e){null!==N?setTimeout(S,0,e):(N=e,setTimeout(D,0))},T=function(e,t){A=setTimeout(e,t)},k=function(){clearTimeout(A)},i=function(){return!1},I=s=function(){}}else{var L=window.setTimeout,P=window.clearTimeout;if("undefined"!=typeof console){var R=window.cancelAnimationFrame;"function"!=typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!=typeof R&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var O=!1,M=null,F=-1,U=5,V=0;i=function(){return r()>=V},I=function(){},s=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):U=0<e?Math.floor(1e3/e):5};var j=new MessageChannel,z=j.port2;j.port1.onmessage=function(){if(null!==M){var e=r();V=e+U;try{M(!0,e)?z.postMessage(null):(O=!1,M=null)}catch(e){throw z.postMessage(null),e}}else O=!1},S=function(e){M=e,O||(O=!0,z.postMessage(null))},T=function(e,t){F=L((function(){e(r())}),t)},k=function(){P(F),F=-1}}function B(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<$(i,t)))break e;e[r]=t,e[n]=i,n=r}}function q(e){return void 0===(e=e[0])?null:e}function H(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var s=2*(r+1)-1,o=e[s],a=s+1,l=e[a];if(void 0!==o&&0>$(o,n))void 0!==l&&0>$(l,o)?(e[r]=l,e[a]=n,r=a):(e[r]=o,e[s]=n,r=s);else{if(!(void 0!==l&&0>$(l,n)))break e;e[r]=l,e[a]=n,r=a}}}return t}return null}function $(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var K=[],W=[],G=1,Q=null,X=3,Y=!1,J=!1,Z=!1;function ee(e){for(var t=q(W);null!==t;){if(null===t.callback)H(W);else{if(!(t.startTime<=e))break;H(W),t.sortIndex=t.expirationTime,B(K,t)}t=q(W)}}function te(e){if(Z=!1,ee(e),!J)if(null!==q(K))J=!0,S(ne);else{var t=q(W);null!==t&&T(te,t.startTime-e)}}function ne(e,t){J=!1,Z&&(Z=!1,k()),Y=!0;var n=X;try{for(ee(t),Q=q(K);null!==Q&&(!(Q.expirationTime>t)||e&&!i());){var s=Q.callback;if("function"==typeof s){Q.callback=null,X=Q.priorityLevel;var o=s(Q.expirationTime<=t);t=r(),"function"==typeof o?Q.callback=o:Q===q(K)&&H(K),ee(t)}else H(K);Q=q(K)}if(null!==Q)var a=!0;else{var l=q(W);null!==l&&T(te,l.startTime-t),a=!1}return a}finally{Q=null,X=n,Y=!1}}o=5,a=1,l=4,u=3,c=null,h=2,f=function(e){e.callback=null},d=function(){J||Y||(J=!0,S(ne))},p=function(){return X},m=function(){return q(K)},g=function(e){switch(X){case 1:case 2:case 3:var t=3;break;default:t=X}var n=X;X=t;try{return e()}finally{X=n}},y=function(){},v=I,w=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=X;X=e;try{return t()}finally{X=n}},b=function(e,t,n){var i=r();switch("object"==typeof n&&null!==n?n="number"==typeof(n=n.delay)&&0<n?i+n:i:n=i,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:G++,callback:t,priorityLevel:e,startTime:n,expirationTime:s=n+s,sortIndex:-1},n>i?(e.sortIndex=n,B(W,e),null===q(K)&&e===q(W)&&(Z?k():Z=!0,T(te,n-i))):(e.sortIndex=s,B(K,e),J||Y||(J=!0,S(ne))),e},E=function(e){var t=X;return function(){var n=X;X=t;try{return e.apply(this,arguments)}finally{X=n}}}})),a=s("8DqfA");var u;l=s("3tv95");u=new URL(s("2Ivnh").resolve("g2flB"),import.meta.url).toString();var c;c=new URL(s("2Ivnh").resolve("2n9dK"),import.meta.url).toString();var h;h=new URL(s("2Ivnh").resolve("bTaIR"),import.meta.url).toString();var f;function d({state:e,count:t,showModal:n,addOneState:r}){let i=document.querySelectorAll("[id=editor-wrapper]").length,[s,a]=l.useState({item:void 0,colv:void 0});function d(e){let n=document.createElement("div");n.id="editor-wrapper",n.className="editor-elem flex flex-col justify-center items-center w-full mt-4 p-2 border-t transform scale-0 new";let r=document.createElement("div");r.className="w-2/3 h-full flex flex-row justify-around items-center p-2";let s=document.createElement("img");s.src=u,s.className="w-10 rounded-full h-max border-2 border-blue-300 transition-transform transform duration-300 ease-in-out hover:rotate-180 cursor-pointer",s.onclick=e=>{p(e,"editor")};let o=document.createElement("span");o.className="w-max h-max flex justify-center items-center text-lg border border-dashed rounded p-2",o.innerText="№ "+(null==i?Object.keys(t).length+1:i),r.append(s),r.append(o);let a=document.createElement("label");a.innerText="Название: ",a.className="w-max h-max mb-4 ";let l=document.createElement("input");l.className="list-field shadow appearance-none border rounded w-full py-2 px-3 text-gray-800 text-lg leading-tight focus:outline-none focus:ring-2 focus:ring-blue-300",l.value=e.item,a.append(l);let f=document.createElement("div");f.className="w-10/12 md:w-4/12 h-max flex flex-row justify-around items-center";let d=document.createElement("div");d.className="w-2/6 flex flex-row justify-around";let m=document.createElement("input");m.className="list-count shadow appearance-none border rounded w-11 h-max py-2 px-3 text-gray-800 text-lg leading-tight focus:outline-none focus:ring-2 focus:ring-blue-300",m.value=e.colv;let g=document.createElement("span");g.className="flex justify-center items-center",g.innerText=" шт.",d.append(m),d.append(g);let y=document.createElement("button");y.innerHTML=`<img class="w-9 h-max" src="${c}">`,y.addEventListener("click",(e=>{e.path[2].childNodes[1].childNodes[0].value++,console.log(e),e.target.classList.add("transition-transform","transform","duration-100","scale-110","animPlusMinus"),setTimeout((()=>{document.getElementsByClassName("animPlusMinus")[0].classList.remove("transition-transform","transform","duration-100","scale-110","animPlusMinus")}),100)}));let v=document.createElement("button");return v.innerHTML=`<img class="w-8 h-max" src="${h}">`,v.addEventListener("click",(e=>{+e.path[2].childNodes[1].childNodes[0].value<=1?e.path[2].childNodes[1].childNodes[0].value=1:e.path[2].childNodes[1].childNodes[0].value--,e.target.classList.add("transition-transform","transform","duration-100","scale-110","animPlusMinus"),setTimeout((()=>{document.getElementsByClassName("animPlusMinus")[0].classList.remove("transition-transform","transform","duration-100","scale-110","animPlusMinus")}),100)})),f.append(v),f.append(d),f.append(y),n.append(r),n.append(a),n.append(f),setTimeout((()=>{let e=document.getElementsByClassName("new")[0];e.classList.remove("new"),e.classList.add("transition","duration-300","ease-out","scale-100","new1"),window.scrollTo(0,document.body.scrollHeight+document.getElementById("addOrEdit").scrollHeight),setTimeout((()=>{document.getElementsByClassName("new1")[0].classList.remove("transition","duration-300","ease-out","scale-100","transform","scale-0","new1")}),300)}),1),i+=1,n}function p(e,t){if("editor"===t){let t=e.path[2];for(let e=0;e<document.querySelectorAll("[id=editor-wrapper]").length;e++)if(document.querySelectorAll("[id=editor-wrapper]")[e]==t){document.querySelectorAll("[id=editor-wrapper]")[e].classList.add("transition","duration-300","ease-out","transform","scale-0"),setTimeout((()=>{document.querySelectorAll("[id=editor-wrapper]")[e].remove(),i=document.querySelectorAll("[id=editor-wrapper]").length;for(let e=1;e<=i;e++){document.querySelectorAll("[id=editor-wrapper]")[e-1].childNodes[0].childNodes[1].innerHTML="№ "+e}}),300);break}}else if("viewer"===t)e.srcElement.src===window.location.href?e.srcElement.src=f:e.srcElement.src=" ",e.path[1].childNodes[1].classList.toggle("bg-gray-300"),e.path[1].childNodes[1].childNodes.forEach((e=>{e.classList.toggle("line-through")}));else if("modal"===t){let e=document.getElementById("list");e.childNodes[e.childNodes.length-1].remove()}}function m(n,r){let s=document.getElementById("list");if("one"==n){let e=d(r);return s.append(e),0}for(i=1;i<Object.keys(e).length;){let n=d({item:e[i],colv:t[i]});s.append(n)}i-=1}return l.useEffect((()=>{s=r,document.getElementById("list").innerHTML="","editor"===e[0]?(document.getElementById("voice-button-wrapper").classList.remove("hidden"),m(),setTimeout((()=>{window.scrollTo(0,0)}),3)):(document.getElementById("voice-button-wrapper").classList.add("hidden"),function(){let n=document.getElementById("list");n.className="w-screen flex flex-col justify-center items-center";let r=Object.keys(e).length;for(let i=1;i<r;i++){let r=document.createElement("div");r.className="w-full md:w-1/2 h-max flex flex-row justify-around items-center p-3 mt-6 ";let s=document.createElement("img");s.src=" ",s.className="w-8 h-8 rounded-full border-2 border-blue-300",s.onclick=e=>{p(e,"viewer")};let o=document.createElement("div");o.className="w-10/12 h-12 flex items-center justify-center divide-x border rounded shadow-sm text-lg",o.innerHTML=`<span class="w-5/6 pl-4">${e[i]}</span><span class="w-2/6 text-center">${t[i]} шт.</span>`,r.append(s),r.append(o),n.append(r)}}())}),[e]),l.useEffect((()=>{r.item===s.item&&""!==r.item||(i+=1,"Отмена"===r.item?p(0,"modal"):(m("one",r),a(r)))}),[r]),o.jsxs("div",{className:"w-11/12 md:w-3/6 h-auto md:h-3/6 flex flex-col justify-center items-center m-2 p-2",children:[o.jsx("div",{id:"voice-button-wrapper",className:"w-full h-max flex justify-center items-center p-2",children:o.jsx("button",{className:"w-max h-14 border flex justify-center items-center p-7 rounded text-xl transition-shadow shadow-md hover:shadow-xl transform transition-transform hover:scale-105 ",onClick:()=>n({state:"on",content:"voice"}),children:"Голосовое управление"})}),o.jsx("div",{className:"w-full h-full flex flex-col justify-center",id:"list"})]})}f=new URL(s("2Ivnh").resolve("kl32T"),import.meta.url).toString();var p;l=s("3tv95");function m({modal:e,closeModal:t,addOneToggle:n}){function r(){t({state:"off",content:"closed"})}function i(){let e=document.createElement("button");return e.className="px-6 py-4 bg-green-500 text-white text-base font-medium rounded-md mx-auto mb-10 w-max h-max shadow-sm hover:bg-green-600 focus:outline-none focus:ring-2 focus:ring-green-300",e.id="close-modal-button",e.innerText="Закрыть окно",e.addEventListener("click",r),e}return l.useEffect((()=>{"on"===e.state?(document.getElementById("modal").classList.remove("hidden"),document.getElementById("modal-main").innerHTML="","voice"==e.content?function(){let e=document.getElementById("modal-main"),r=document.createElement("div");r.className="w-full md:w-2/3 h-auto mx-auto mt-10 text-center shadow-md flex flex-col justify-center items-center",r.innerHTML='Нажмите на кнопку и начните говорить\n\t\t\t<p>Команды:<br>\n\t\t\t<ul class="list-disc w-10/12 md:w-2/3 m-3">\n\t\t\t<li>"Название продукта" - добавить один продукт</li>\n\t\t\t<li>"Название продукта" + "цифра количества" - добавить несколько<br> Пример: "Банан три"</li>\n\t\t\t<li>"Отмена" - убрать последний элемент</li>\n\t\t\t<li>"Конец" или "Всё" - закончить ввод</li>\n\t\t\t</ul>';let s=document.createElement("div");s.className="w-max h-max mx-auto my-8 px-4 py-4 border rounded-full hover:shadow-lg",s.innerHTML=`<img class="w-19" src="${p}"/>`,s.onclick=e=>{!function(){let e;const r=["Один","Два","Три","Четыре","Пять","Шесть","Семь","Восемь","Девять","Десять","Одиннадцать","Двенадцать","Тринадцать","Четырнадцать","Пятнадцать","Cемнадцать","Восемнадцать","Девятнадцать","Двадцать"];try{e=new webkitSpeechRecognition}catch(t){e=new SpeechRecognition}e.lang="ru-RU",e.interimResults=!1,e.continuous=!0,e.maxAlternatives=1,e.start(),document.getElementById("modal-background").addEventListener("click",(()=>{e.stop()})),document.getElementById("close-modal-button").addEventListener("click",(()=>{e.stop()})),console.log("Ready to receive a command."),e.onaudiostart=function(){},e.onspeechend=function(){t({state:"off",content:"closed"})},e.onresult=function(i){const s=i.results.length-1;let o=i.results[s][0].transcript.trim().split(" ").map((e=>e.charAt(0).toUpperCase()+e.slice(1)));console.log("res: ",o);for(let i=0;i<o.length;i++)console.log(o[i]),"Конец"==o[i]||"Стоп"==o[i]||"Всё"==o[i]?(e.stop(),console.log("recognition stopped"),t({state:"off",content:"closed"})):r.includes(o[i+1])||Number.isInteger(+o[i+1])?(Number.isInteger(+o[i+1])?n({item:o[i],colv:+o[i+1]}):n({item:o[i],colv:r.indexOf(o[i+1])+1}),i++):n({item:o[i],colv:1})}}()};let o=i();e.append(r),e.append(s),e.append(o)}():"copy"==e.content&&function(e){let t=window.location.origin+window.location.pathname+"?"+e;navigator.clipboard.writeText(t);let n=document.getElementById("modal-main"),r=document.createElement("div");r.className="flex flex-col items-center w-full h-full";let s=document.createElement("div");s.className="flex flex-col justify-center items-center w-full m-10",s.innerHTML='\n\t\t<div class="mx-auto flex items-center justify-center h-14 w-14 rounded-full bg-green-100">\n\t\t\t<svg\n\t\t\tclass="h-9 w-9 text-green-600"\n\t\t\tfill="none"\n\t\t\tstroke="currentColor"\n\t\t\tviewBox="0 0 24 24"\n\t\t\txmlns="http://www.w3.org/2000/svg"\n\t\t\t>\n\t\t\t\t<path\n\t\t\t\t\tstroke-linecap="round"\n\t\t\t\t\tstroke-linejoin="round"\n\t\t\t\t\tstroke-width="2"\n\t\t\t\t\td="M5 13l4 4L19 7"\n\t\t\t\t></path>\n\t\t\t</svg>\n\t\t</div>\n\t\t<h3 class="text-lg leading-6 font-medium text-gray-900 mt-4">Ссылка скопирована!</h3>';let o=document.createElement("input");o.type="text",o.disabled=!0,o.className="w-11/12 md:w-1/2 h-max mt-2 mb-6 px-4 py-2 border rounded-lg text-gray-700 focus:outline-none focus:border-green-500",o.value=t;let a=i();a.classList.add("mt-5"),r.append(s),r.append(o),r.append(a),n.append(r),document.getElementById("modal-background").addEventListener("click",(function(){window.location.href=t})),document.getElementById("close-modal-button").addEventListener("click",(function(){window.location.href=t}))}(e.val)):document.getElementById("modal").classList.add("hidden")})),o.jsxs("div",{className:"absolute flex justify-center hidden inset-0 h-full w-full z-20 ",id:"modal",children:[o.jsx("div",{className:"fixed bg-gray-600 bg-opacity-50 h-full w-full",id:"modal-background",onClick:r}),o.jsx("div",{className:"fixed flex flex-col bg-white w-10/12 md:w-6/12 h-max my-16 md:my-2",id:"modal-main",children:"hello from modal!"})]})}p=new URL(s("2Ivnh").resolve("hhQWC"),import.meta.url).toString();l=s("3tv95");function g({state:e}){return l.useEffect((()=>{"editor"===e[0]?document.getElementById("head").innerHTML="Редактор листа покупок":document.getElementById("head").innerHTML="Ваш лист покупок"})),o.jsx("header",{className:"flex justify-center items-center",children:o.jsx("h1",{id:"head",className:"w-11/12 md:w-max font-medium font-mono text-3xl text-center m-5",children:"Редактор листа покупок"})})}l=s("3tv95");function y({state:e,onChange:t,onShare:n,addOneToggle:r}){l.useEffect((()=>{"editor"===e[0]?(document.getElementById("addOrEdit").innerHTML="Добавить продукты",document.getElementById("doneOrShare").innerHTML="Готово"):(document.getElementById("addOrEdit").innerHTML="Редактировать",document.getElementById("doneOrShare").innerHTML="Поделиться",window.scrollTo(0,0))}),[e]);const i="border bg-blue-100 transition-colors hover:bg-blue-300 hover:text-white text-blue-900 text-center py-2 px-4 rounded transition-shadow shadow-md hover:shadow-xl transform transition-transform hover:scale-105";return o.jsxs("div",{className:"w-full md:w-3/6 h-max flex flex-row justify-around items-center m-5",children:[o.jsx("button",{className:i,onClick:function(){if("viewer"===e[0]){let n=e;n[0]="editor",t({...n})}else r({item:"",colv:1})},id:"addOrEdit",children:"Добавить продукты"}),o.jsx("button",{className:i,onClick:function(){if("editor"===e[0]){let e={},n={};e[0]="viewer";let r=document.getElementsByClassName("list-field"),i=document.getElementsByClassName("list-count"),s=1;for(let t=0;t<r.length;t++){let o=r[t].value,a=+i[t].value;""!=o&&0!=o.length&&(e[s]=o,Number.isInteger(a)&&!Number.isNaN(a)||(a=1),n[s]=a,s+=1)}t({...e},{...n})}else n()},id:"doneOrShare",children:"Сохранить"})]})}
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function v(e,t,n,r){return new(n||(n=Promise))((function(i,s){function o(e){try{l(r.next(e))}catch(e){s(e)}}function a(e){try{l(r.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}l((r=r.apply(e,t||[])).next())}))}function w(e,t){var n,r,i,s,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};function a(s){return function(a){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(i=o.trys,(i=i.length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s}Object.create;function b(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function E(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,s=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=s.next()).done;)o.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=s.return)&&n.call(s)}finally{if(i)throw i.error}}return o}function S(e,t,n){if(n||2===arguments.length)for(var r,i=0,s=t.length;i<s;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}Object.create;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const T=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296==(64512&i)&&r+1<e.length&&56320==(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class k{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"==typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function I(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function x(){const e="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof e&&void 0!==e.id}function C(){return"object"==typeof indexedDB}function _(){return new Promise(((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(e){t(e)}}))}function N(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class A extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,A.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,D.prototype.create)}}class D{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){const n=t[0]||{},r=`${this.service}/${e}`,i=this.errors[e],s=i?function(e,t){return e.replace(L,((e,n)=>{const r=t[n];return null!=r?String(r):`<${n}?>`}))}(i,n):"Error",o=`${this.serviceName}: ${s} (${r}).`;return new A(r,o,n)}}const L=/\{\$([^}]+)}/g;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],s=t[i];if(R(n)&&R(s)){if(!P(n,s))return!1}else if(n!==s)return!1}for(const e of r)if(!n.includes(e))return!1;return!0}function R(e){return null!==e&&"object"==typeof e}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O(e,t=1e3,n=2){const r=t*Math.pow(n,e),i=Math.round(.5*r*(Math.random()-.5)*2);return Math.min(144e5,r+i)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function M(e){return e&&e._delegate?e._delegate:e}var F=function(){function e(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return e.prototype.setInstantiationMode=function(e){return this.instantiationMode=e,this},e.prototype.setMultipleInstances=function(e){return this.multipleInstances=e,this},e.prototype.setServiceProps=function(e){return this.serviceProps=e,this},e.prototype.setInstanceCreatedCallback=function(e){return this.onInstanceCreated=e,this},e}(),U=function(){function e(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return e.prototype.get=function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new k;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(e){}}return this.instancesDeferred.get(t).promise},e.prototype.getImmediate=function(e){var t,n=this.normalizeInstanceIdentifier(null==e?void 0:e.identifier),r=null!==(t=null==e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(e){if(r)return null;throw e}},e.prototype.getComponent=function(){return this.component},e.prototype.setComponent=function(e){var t,n;if(e.name!==this.name)throw Error("Mismatching Component "+e.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e))try{this.getOrInitializeService({instanceIdentifier:"[DEFAULT]"})}catch(e){}try{for(var r=b(this.instancesDeferred.entries()),i=r.next();!i.done;i=r.next()){var s=E(i.value,2),o=s[0],a=s[1],l=this.normalizeInstanceIdentifier(o);try{var u=this.getOrInitializeService({instanceIdentifier:l});a.resolve(u)}catch(e){}}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}}},e.prototype.clearInstance=function(e){void 0===e&&(e="[DEFAULT]"),this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)},e.prototype.delete=function(){return v(this,void 0,void 0,(function(){var e;return w(this,(function(t){switch(t.label){case 0:return e=Array.from(this.instances.values()),[4,Promise.all(S(S([],E(e.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()})))),E(e.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))))];case 1:return t.sent(),[2]}}))}))},e.prototype.isComponentSet=function(){return null!=this.component},e.prototype.isInitialized=function(e){return void 0===e&&(e="[DEFAULT]"),this.instances.has(e)},e.prototype.getOptions=function(e){return void 0===e&&(e="[DEFAULT]"),this.instancesOptions.get(e)||{}},e.prototype.initialize=function(e){var t,n;void 0===e&&(e={});var r=e.options,i=void 0===r?{}:r,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(this.name+"("+s+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var o=this.getOrInitializeService({instanceIdentifier:s,options:i});try{for(var a=b(this.instancesDeferred.entries()),l=a.next();!l.done;l=a.next()){var u=E(l.value,2),c=u[0],h=u[1];s===this.normalizeInstanceIdentifier(c)&&h.resolve(o)}}catch(e){t={error:e}}finally{try{l&&!l.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}return o},e.prototype.onInit=function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var s=this.instances.get(r);return s&&e(s,r),function(){i.delete(e)}},e.prototype.invokeOnInitCallbacks=function(e,t){var n,r,i=this.onInitCallbacks.get(t);if(i)try{for(var s=b(i),o=s.next();!o.done;o=s.next()){var a=o.value;try{a(e,t)}catch(e){}}}catch(e){n={error:e}}finally{try{o&&!o.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}},e.prototype.getOrInitializeService=function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,s=this.instances.get(n);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,"[DEFAULT]"===t?void 0:t),options:i}),this.instances.set(n,s),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(s,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,s)}catch(e){}return s||null},e.prototype.normalizeInstanceIdentifier=function(e){return void 0===e&&(e="[DEFAULT]"),this.component?this.component.multipleInstances?e:"[DEFAULT]":e},e.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},e}();
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var V=function(){function e(e){this.name=e,this.providers=new Map}return e.prototype.addComponent=function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component "+e.name+" has already been registered with "+this.name);t.setComponent(e)},e.prototype.addOrOverwriteComponent=function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)},e.prototype.getProvider=function(e){if(this.providers.has(e))return this.providers.get(e);var t=new U(e,this);return this.providers.set(e,t),t},e.prototype.getProviders=function(){return Array.from(this.providers.values())},e}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j=[];var z,B;(B=z||(z={}))[B.DEBUG=0]="DEBUG",B[B.VERBOSE=1]="VERBOSE",B[B.INFO=2]="INFO",B[B.WARN=3]="WARN",B[B.ERROR=4]="ERROR",B[B.SILENT=5]="SILENT";const q={debug:z.DEBUG,verbose:z.VERBOSE,info:z.INFO,warn:z.WARN,error:z.ERROR,silent:z.SILENT},H=z.INFO,$={[z.DEBUG]:"log",[z.VERBOSE]:"log",[z.INFO]:"info",[z.WARN]:"warn",[z.ERROR]:"error"},K=(e,t,...n)=>{if(t<e.logLevel)return;const r=(new Date).toISOString(),i=$[t];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);console[i](`[${r}]  ${e.name}:`,...n)};class W{constructor(e){this.name=e,this._logLevel=H,this._logHandler=K,this._userLogHandler=null,j.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in z))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?q[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,z.DEBUG,...e),this._logHandler(this,z.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,z.VERBOSE,...e),this._logHandler(this,z.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,z.INFO,...e),this._logHandler(this,z.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,z.WARN,...e),this._logHandler(this,z.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,z.ERROR,...e),this._logHandler(this,z.ERROR,...e)}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class G{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null==t?void 0:t.type)}(e)){const t=e.getImmediate();return`${t.library}/${t.version}`}return null})).filter((e=>e)).join(" ")}}const Q=new W("@firebase/app"),X={"@firebase/app":"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Y=new Map,J=new Map;function Z(e,t){try{e.container.addComponent(t)}catch(n){Q.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function ee(e){const t=e.name;if(J.has(t))return Q.debug(`There were multiple attempts to register component ${t}.`),!1;J.set(t,e);for(const t of Y.values())Z(t,e);return!0}function te(e,t){return e.container.getProvider(t)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const ne=new D("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function."});
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class re{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new F("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ne.create("app-deleted",{appName:this._name})}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ie(e="[DEFAULT]"){const t=Y.get(e);if(!t)throw ne.create("no-app",{appName:e});return t}function se(e,t,n){var r;let i=null!==(r=X[e])&&void 0!==r?r:e;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=t.match(/\s|\//);if(s||o){const e=[`Unable to register library "${i}" with version "${t}":`];return s&&e.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&e.push("and"),o&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void Q.warn(e.join(" "))}ee(new F(`${i}-version`,(()=>({library:i,version:t})),"VERSION"))}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var oe;oe="",ee(new F("platform-logger",(e=>new G(e)),"PRIVATE")),se("@firebase/app","0.7.4",oe),se("@firebase/app","0.7.4","esm2017"),se("fire-js","");
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
se("firebase","9.1.3","app");var ae={};!function(e,t){"object"==typeof ae?t(ae):"function"==typeof define&&define.amd?define(["exports"],t):t((e=e||self).idb={})}(ae,(function(e){function t(e){return Array.prototype.slice.call(e)}function n(e){return new Promise((function(t,n){e.onsuccess=function(){t(e.result)},e.onerror=function(){n(e.error)}}))}function r(e,t,r){var i,s=new Promise((function(s,o){n(i=e[t].apply(e,r)).then(s,o)}));return s.request=i,s}function i(e,t,n){var i=r(e,t,n);return i.then((function(e){if(e)return new c(e,i.request)}))}function s(e,t,n){n.forEach((function(n){Object.defineProperty(e.prototype,n,{get:function(){return this[t][n]},set:function(e){this[t][n]=e}})}))}function o(e,t,n,i){i.forEach((function(i){i in n.prototype&&(e.prototype[i]=function(){return r(this[t],i,arguments)})}))}function a(e,t,n,r){r.forEach((function(r){r in n.prototype&&(e.prototype[r]=function(){return this[t][r].apply(this[t],arguments)})}))}function l(e,t,n,r){r.forEach((function(r){r in n.prototype&&(e.prototype[r]=function(){return i(this[t],r,arguments)})}))}function u(e){this._index=e}function c(e,t){this._cursor=e,this._request=t}function h(e){this._store=e}function f(e){this._tx=e,this.complete=new Promise((function(t,n){e.oncomplete=function(){t()},e.onerror=function(){n(e.error)},e.onabort=function(){n(e.error)}}))}function d(e,t,n){this._db=e,this.oldVersion=t,this.transaction=new f(n)}function p(e){this._db=e}s(u,"_index",["name","keyPath","multiEntry","unique"]),o(u,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),l(u,"_index",IDBIndex,["openCursor","openKeyCursor"]),s(c,"_cursor",["direction","key","primaryKey","value"]),o(c,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach((function(e){e in IDBCursor.prototype&&(c.prototype[e]=function(){var t=this,r=arguments;return Promise.resolve().then((function(){return t._cursor[e].apply(t._cursor,r),n(t._request).then((function(e){if(e)return new c(e,t._request)}))}))})})),h.prototype.createIndex=function(){return new u(this._store.createIndex.apply(this._store,arguments))},h.prototype.index=function(){return new u(this._store.index.apply(this._store,arguments))},s(h,"_store",["name","keyPath","indexNames","autoIncrement"]),o(h,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),l(h,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),a(h,"_store",IDBObjectStore,["deleteIndex"]),f.prototype.objectStore=function(){return new h(this._tx.objectStore.apply(this._tx,arguments))},s(f,"_tx",["objectStoreNames","mode"]),a(f,"_tx",IDBTransaction,["abort"]),d.prototype.createObjectStore=function(){return new h(this._db.createObjectStore.apply(this._db,arguments))},s(d,"_db",["name","version","objectStoreNames"]),a(d,"_db",IDBDatabase,["deleteObjectStore","close"]),p.prototype.transaction=function(){return new f(this._db.transaction.apply(this._db,arguments))},s(p,"_db",["name","version","objectStoreNames"]),a(p,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach((function(e){[h,u].forEach((function(n){e in n.prototype&&(n.prototype[e.replace("open","iterate")]=function(){var n=t(arguments),r=n[n.length-1],i=this._store||this._index,s=i[e].apply(i,n.slice(0,-1));s.onsuccess=function(){r(s.result)}})}))})),[u,h].forEach((function(e){e.prototype.getAll||(e.prototype.getAll=function(e,t){var n=this,r=[];return new Promise((function(i){n.iterateCursor(e,(function(e){e?(r.push(e.value),void 0===t||r.length!=t?e.continue():i(r)):i(r)}))}))})})),e.openDb=function(e,t,n){var i=r(indexedDB,"open",[e,t]),s=i.request;return s&&(s.onupgradeneeded=function(e){n&&n(new d(s.result,e.oldVersion,s.transaction))}),i.then((function(e){return new p(e)}))},e.deleteDb=function(e){return r(indexedDB,"deleteDatabase",[e])},Object.defineProperty(e,"__esModule",{value:!0})}));const le=new D("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function ue(e){return e instanceof A&&e.code.includes("request-failed")}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ce({projectId:e}){return`https://firebaseinstallations.googleapis.com/v1/projects/${e}/installations`}function he(e){return{token:e.token,requestStatus:2,expiresIn:(t=e.expiresIn,Number(t.replace("s","000"))),creationTime:Date.now()};var t}async function fe(e,t){const n=(await t.json()).error;return le.create("request-failed",{requestName:e,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function de({apiKey:e}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function pe(e,{refreshToken:t}){const n=de(e);return n.append("Authorization",function(e){return`FIS_v2 ${e}`}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(t)),n}async function me(e){const t=await e();return t.status>=500&&t.status<600?e():t}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ge(e){return new Promise((t=>{setTimeout(t,e)}))}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const ye=/^[cdef][\w-]{21}$/;function ve(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const t=function(e){return(t=e,btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")).substr(0,22);var t}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e);return ye.test(t)?t:""}catch(e){return""}}function we(e){return`${e.appName}!${e.appId}`}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const be=new Map;function Ee(e,t){const n=we(e);Se(n,t),function(e,t){const n=ke();n&&n.postMessage({key:e,fid:t});Ie()}(n,t)}function Se(e,t){const n=be.get(e);if(n)for(const e of n)e(t)}let Te=null;function ke(){return!Te&&"BroadcastChannel"in self&&(Te=new BroadcastChannel("[Firebase] FID Change"),Te.onmessage=e=>{Se(e.data.key,e.data.fid)}),Te}function Ie(){0===be.size&&Te&&(Te.close(),Te=null)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xe=null;function Ce(){return xe||(xe=ae.openDb("firebase-installations-database",1,(e=>{if(0===e.oldVersion)e.createObjectStore("firebase-installations-store")}))),xe}async function _e(e,t){const n=we(e),r=(await Ce()).transaction("firebase-installations-store","readwrite"),i=r.objectStore("firebase-installations-store"),s=await i.get(n);return await i.put(t,n),await r.complete,s&&s.fid===t.fid||Ee(e,t.fid),t}async function Ne(e){const t=we(e),n=(await Ce()).transaction("firebase-installations-store","readwrite");await n.objectStore("firebase-installations-store").delete(t),await n.complete}async function Ae(e,t){const n=we(e),r=(await Ce()).transaction("firebase-installations-store","readwrite"),i=r.objectStore("firebase-installations-store"),s=await i.get(n),o=t(s);return void 0===o?await i.delete(n):await i.put(o,n),await r.complete,!o||s&&s.fid===o.fid||Ee(e,o.fid),o}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function De(e){let t;const n=await Ae(e,(n=>{const r=function(e){return Re(e||{fid:ve(),registrationStatus:0})}(n),i=function(e,t){if(0===t.registrationStatus){if(!navigator.onLine){return{installationEntry:t,registrationPromise:Promise.reject(le.create("app-offline"))}}const n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=async function(e,t){try{const n=await async function(e,{fid:t}){const n=ce(e),r=de(e),i={fid:t,authVersion:"FIS_v2",appId:e.appId,sdkVersion:"w:0.5.2"},s={method:"POST",headers:r,body:JSON.stringify(i)},o=await me((()=>fetch(n,s)));if(o.ok){const e=await o.json();return{fid:e.fid||t,registrationStatus:2,refreshToken:e.refreshToken,authToken:he(e.authToken)}}throw await fe("Create Installation",o)}(e,t);return _e(e,n)}catch(n){throw ue(n)&&409===n.customData.serverCode?await Ne(e):await _e(e,{fid:t.fid,registrationStatus:0}),n}}(e,n);return{installationEntry:n,registrationPromise:r}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:Le(e)}:{installationEntry:t}}(e,r);return t=i.registrationPromise,i.installationEntry}));return""===n.fid?{installationEntry:await t}:{installationEntry:n,registrationPromise:t}}async function Le(e){let t=await Pe(e);for(;1===t.registrationStatus;)await ge(100),t=await Pe(e);if(0===t.registrationStatus){const{installationEntry:t,registrationPromise:n}=await De(e);return n||t}return t}function Pe(e){return Ae(e,(e=>{if(!e)throw le.create("installation-not-found");return Re(e)}))}function Re(e){return 1===(t=e).registrationStatus&&t.registrationTime+1e4<Date.now()?{fid:e.fid,registrationStatus:0}:e;var t;
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}async function Oe({appConfig:e,platformLoggerProvider:t},n){const r=function(e,{fid:t}){return`${ce(e)}/${t}/authTokens:generate`}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e,n),i=pe(e,n),s=t.getImmediate({optional:!0});s&&i.append("x-firebase-client",s.getPlatformInfoString());const o={installation:{sdkVersion:"w:0.5.2"}},a={method:"POST",headers:i,body:JSON.stringify(o)},l=await me((()=>fetch(r,a)));if(l.ok){return he(await l.json())}throw await fe("Generate Auth Token",l)}async function Me(e,t=!1){let n;const r=await Ae(e.appConfig,(r=>{if(!Ue(r))throw le.create("not-registered");const i=r.authToken;if(!t&&function(e){return 2===e.requestStatus&&!function(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+36e5}(e)}(i))return r;if(1===i.requestStatus)return n=async function(e,t){let n=await Fe(e.appConfig);for(;1===n.authToken.requestStatus;)await ge(100),n=await Fe(e.appConfig);const r=n.authToken;return 0===r.requestStatus?Me(e,t):r}(e,t),r;{if(!navigator.onLine)throw le.create("app-offline");const t=function(e){const t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},e),{authToken:t})}(r);return n=async function(e,t){try{const n=await Oe(e,t),r=Object.assign(Object.assign({},t),{authToken:n});return await _e(e.appConfig,r),n}catch(n){if(!ue(n)||401!==n.customData.serverCode&&404!==n.customData.serverCode){const n=Object.assign(Object.assign({},t),{authToken:{requestStatus:0}});await _e(e.appConfig,n)}else await Ne(e.appConfig);throw n}}(e,t),t}}));return n?await n:r.authToken}function Fe(e){return Ae(e,(e=>{if(!Ue(e))throw le.create("not-registered");const t=e.authToken;return 1===(n=t).requestStatus&&n.requestTime+1e4<Date.now()?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e;var n;
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}))}function Ue(e){return void 0!==e&&2===e.registrationStatus}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
async function Ve(e,t=!1){const n=e;await async function(e){const{registrationPromise:t}=await De(e);t&&await t}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(n.appConfig);return(await Me(n,t)).token}function je(e){return le.create("missing-app-config-values",{valueName:e})}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ze=e=>{const t=te(e.getProvider("app").getImmediate(),"installations").getImmediate();return{getId:()=>async function(e){const t=e,{installationEntry:n,registrationPromise:r}=await De(t.appConfig);return r?r.catch(console.error):Me(t).catch(console.error),n.fid}(t),getToken:e=>Ve(t,e)}};ee(new F("installations",(e=>{const t=e.getProvider("app").getImmediate(),n=
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function(e){if(!e||!e.options)throw je("App Configuration");if(!e.name)throw je("App Name");const t=["projectId","apiKey","appId"];for(const n of t)if(!e.options[n])throw je(n);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t);return{app:t,appConfig:n,platformLoggerProvider:te(t,"platform-logger"),_delete:()=>Promise.resolve()}}),"PUBLIC")),ee(new F("installations-internal",ze,"PRIVATE")),se("@firebase/installations","0.5.2"),se("@firebase/installations","0.5.2","esm2017");
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const Be=new W("@firebase/analytics");
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function qe(e){return Promise.all(e.map((e=>e.catch((e=>e)))))}function He(e,t,n,r){return async function(i,s,o){try{"event"===i?await async function(e,t,n,r,i){try{let s=[];if(i&&i.send_to){let e=i.send_to;Array.isArray(e)||(e=[e]);const r=await qe(n);for(const n of e){const e=r.find((e=>e.measurementId===n)),i=e&&t[e.appId];if(!i){s=[];break}s.push(i)}}0===s.length&&(s=Object.values(t)),await Promise.all(s),e("event",r,i||{})}catch(e){Be.error(e)}}(e,t,n,s,o):"config"===i?await async function(e,t,n,r,i,s){const o=r[i];try{if(o)await t[o];else{const e=(await qe(n)).find((e=>e.measurementId===i));e&&await t[e.appId]}}catch(e){Be.error(e)}e("config",i,s)}(e,t,n,r,s,o):e("set",s)}catch(e){Be.error(e)}}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const $e=new D("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'});const Ke=new class{constructor(e={},t=1e3){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function We(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}async function Ge(e,t=Ke,n){const{appId:r,apiKey:i,measurementId:s}=e.options;if(!r)throw $e.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw $e.create("no-api-key")}const o=t.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new Xe;return setTimeout((async()=>{a.abort()}),void 0!==n?n:6e4),Qe({appId:r,apiKey:i,measurementId:s},o,a,t)}async function Qe(e,{throttleEndTimeMillis:t,backoffCount:n},r,i=Ke){const{appId:s,measurementId:o}=e;try{await function(e,t){return new Promise(((n,r)=>{const i=Math.max(t-Date.now(),0),s=setTimeout(n,i);e.addEventListener((()=>{clearTimeout(s),r($e.create("fetch-throttle",{throttleEndTimeMillis:t}))}))}))}(r,t)}catch(e){if(o)return Be.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${e.message}]`),{appId:s,measurementId:o};throw e}try{const t=await async function(e){var t;const{appId:n,apiKey:r}=e,i={method:"GET",headers:We(r)},s="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig".replace("{app-id}",n),o=await fetch(s,i);if(200!==o.status&&304!==o.status){let e="";try{const n=await o.json();(null===(t=n.error)||void 0===t?void 0:t.message)&&(e=n.error.message)}catch(e){}throw $e.create("config-fetch-failed",{httpStatus:o.status,responseMessage:e})}return o.json()}(e);return i.deleteThrottleMetadata(s),t}catch(t){if(!function(e){if(!(e instanceof A&&e.customData))return!1;const t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}(t)){if(i.deleteThrottleMetadata(s),o)return Be.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${t.message}]`),{appId:s,measurementId:o};throw t}const a=503===Number(t.customData.httpStatus)?O(n,i.intervalMillis,30):O(n,i.intervalMillis),l={throttleEndTimeMillis:Date.now()+a,backoffCount:n+1};return i.setThrottleMetadata(s,l),Be.debug(`Calling attemptFetch again in ${a} millis`),Qe(e,l,r,i)}}class Xe{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach((e=>e()))}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ye(e,t,n,r,i,s,o){var a;const l=Ge(e);l.then((t=>{n[t.measurementId]=t.appId,e.options.measurementId&&t.measurementId!==e.options.measurementId&&Be.warn(`The measurement ID in the local Firebase config (${e.options.measurementId}) does not match the measurement ID fetched from the server (${t.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)})).catch((e=>Be.error(e))),t.push(l);const u=async function(){if(!C())return Be.warn($e.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{await _()}catch(e){return Be.warn($e.create("indexeddb-unavailable",{errorInfo:e}).message),!1}return!0}().then((e=>e?r.getId():void 0)),[c,h]=await Promise.all([l,u]);(function(){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes("https://www.googletagmanager.com/gtag/js"))return t;return null})()||function(e,t){const n=document.createElement("script");n.src=`https://www.googletagmanager.com/gtag/js?l=${e}&id=${t}`,n.async=!0,document.head.appendChild(n)}(s,c.measurementId),i("js",new Date);const f=null!==(a=null==o?void 0:o.config)&&void 0!==a?a:{};return f.origin="firebase",f.update=!0,null!=h&&(f.firebase_id=h),i("config",c.measurementId,f),c.measurementId}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Je{constructor(e){this.app=e}_delete(){return delete Ze[this.app.options.appId],Promise.resolve()}}let Ze={},et=[];const tt={};let nt,rt,it="dataLayer",st="gtag",ot=!1;function at(e,t,n){!function(){const e=[];if(x()&&e.push("This is a browser extension environment."),N()||e.push("Cookies are not available."),e.length>0){const t=e.map(((e,t)=>`(${t+1}) ${e}`)).join(" "),n=$e.create("invalid-analytics-context",{errorInfo:t});Be.warn(n.message)}}();const r=e.options.appId;if(!r)throw $e.create("no-app-id");if(!e.options.apiKey){if(!e.options.measurementId)throw $e.create("no-api-key");Be.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${e.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Ze[r])throw $e.create("already-exists",{id:r});if(!ot){!function(e){let t=[];Array.isArray(window[e])?t=window[e]:window[e]=t}(it);const{wrappedGtag:e,gtagCore:t}=function(e,t,n,r,i){let s=function(...e){window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(s=window[i]),window[i]=He(s,e,t,n),{gtagCore:s,wrappedGtag:window[i]}}(Ze,et,tt,it,st);rt=e,nt=t,ot=!0}Ze[r]=Ye(e,et,tt,t,nt,it,n);return new Je(e)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lt(e,t,n,r){e=M(e),async function(e,t,n,r,i){if(i&&i.global)e("event",n,r);else{const i=await t;e("event",n,Object.assign(Object.assign({},r),{send_to:i}))}}(rt,Ze[e.app.options.appId],t,n,r).catch((e=>Be.error(e)))}ee(new F("analytics",((e,{options:t})=>at(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),t)),"PUBLIC")),ee(new F("analytics-internal",(function(e){try{const t=e.getProvider("analytics").getImmediate();return{logEvent:(e,n,r)=>lt(t,e,n,r)}}catch(e){throw $e.create("interop-component-reg-failed",{reason:e})}}),"PRIVATE")),se("@firebase/analytics","0.7.2"),se("@firebase/analytics","0.7.2","esm2017");var ut,ct="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==n?n:"undefined"!=typeof self?self:{},ht={},ft=ft||{},dt=ct||self;function pt(){}function mt(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function gt(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var yt="closure_uid_"+(1e9*Math.random()>>>0),vt=0;function wt(e,t,n){return e.call.apply(e.bind,arguments)}function bt(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function Et(e,t,n){return(Et=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?wt:bt).apply(null,arguments)}function St(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function Tt(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}function kt(){this.s=this.s,this.o=this.o}var It={};kt.prototype.s=!1,kt.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,yt)&&e[yt]||(e[yt]=++vt)}(this);delete It[e]}},kt.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const xt=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"==typeof e)return"string"!=typeof t||1!=t.length?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},Ct=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){const r=e.length,i="string"==typeof e?e.split(""):e;for(let s=0;s<r;s++)s in i&&t.call(n,i[s],s,e)};function _t(e){return Array.prototype.concat.apply([],arguments)}function Nt(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function At(e){return/^[\s\xa0]*$/.test(e)}var Dt,Lt=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function Pt(e,t){return-1!=e.indexOf(t)}function Rt(e,t){return e<t?-1:e>t?1:0}e:{var Ot=dt.navigator;if(Ot){var Mt=Ot.userAgent;if(Mt){Dt=Mt;break e}}Dt=""}function Ft(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function Ut(e){const t={};for(const n in e)t[n]=e[n];return t}var Vt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function jt(e,t){let n,r;for(let t=1;t<arguments.length;t++){for(n in r=arguments[t],r)e[n]=r[n];for(let t=0;t<Vt.length;t++)n=Vt[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function zt(e){return zt[" "](e),e}zt[" "]=pt;var Bt,qt,Ht=Pt(Dt,"Opera"),$t=Pt(Dt,"Trident")||Pt(Dt,"MSIE"),Kt=Pt(Dt,"Edge"),Wt=Kt||$t,Gt=Pt(Dt,"Gecko")&&!(Pt(Dt.toLowerCase(),"webkit")&&!Pt(Dt,"Edge"))&&!(Pt(Dt,"Trident")||Pt(Dt,"MSIE"))&&!Pt(Dt,"Edge"),Qt=Pt(Dt.toLowerCase(),"webkit")&&!Pt(Dt,"Edge");function Xt(){var e=dt.document;return e?e.documentMode:void 0}e:{var Yt="",Jt=(qt=Dt,Gt?/rv:([^\);]+)(\)|;)/.exec(qt):Kt?/Edge\/([\d\.]+)/.exec(qt):$t?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(qt):Qt?/WebKit\/(\S+)/.exec(qt):Ht?/(?:Version)[ \/]?(\S+)/.exec(qt):void 0);if(Jt&&(Yt=Jt?Jt[1]:""),$t){var Zt=Xt();if(null!=Zt&&Zt>parseFloat(Yt)){Bt=String(Zt);break e}}Bt=Yt}var en,tn={};function nn(){return function(e){var t=tn;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){let e=0;const t=Lt(String(Bt)).split("."),n=Lt("9").split("."),r=Math.max(t.length,n.length);for(let o=0;0==e&&o<r;o++){var i=t[o]||"",s=n[o]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==i[0].length&&0==s[0].length)break;e=Rt(0==i[1].length?0:parseInt(i[1],10),0==s[1].length?0:parseInt(s[1],10))||Rt(0==i[2].length,0==s[2].length)||Rt(i[2],s[2]),i=i[3],s=s[3]}while(0==e)}return 0<=e}))}if(dt.document&&$t){var rn=Xt();en=rn||(parseInt(Bt,10)||void 0)}else en=void 0;var sn=en,on=function(){if(!dt.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{dt.addEventListener("test",pt,t),dt.removeEventListener("test",pt,t)}catch(e){}return e}();function an(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function ln(e,t){if(an.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Gt){e:{try{zt(t.nodeName);var i=!0;break e}catch(e){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"==typeof e.pointerType?e.pointerType:un[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&ln.Z.h.call(this)}}an.prototype.h=function(){this.defaultPrevented=!0},Tt(ln,an);var un={2:"touch",3:"pen",4:"mouse"};ln.prototype.h=function(){ln.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var cn="closure_listenable_"+(1e6*Math.random()|0),hn=0;function fn(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++hn,this.ca=this.fa=!1}function dn(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function pn(e){this.src=e,this.g={},this.h=0}function mn(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],s=xt(i,t);(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(dn(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function gn(e,t,n,r){for(var i=0;i<e.length;++i){var s=e[i];if(!s.ca&&s.listener==t&&s.capture==!!n&&s.ia==r)return i}return-1}pn.prototype.add=function(e,t,n,r,i){var s=e.toString();(e=this.g[s])||(e=this.g[s]=[],this.h++);var o=gn(e,t,r,i);return-1<o?(t=e[o],n||(t.fa=!1)):((t=new fn(t,this.src,s,!!r,i)).fa=n,e.push(t)),t};var yn="closure_lm_"+(1e6*Math.random()|0),vn={};function wn(e,t,n,r,i){if(r&&r.once)return En(e,t,n,r,i);if(Array.isArray(t)){for(var s=0;s<t.length;s++)wn(e,t[s],n,r,i);return null}return n=_n(n),e&&e[cn]?e.N(t,n,gt(r)?!!r.capture:!!r,i):bn(e,t,n,!1,r,i)}function bn(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");var o=gt(i)?!!i.capture:!!i,a=xn(e);if(a||(e[yn]=a=new pn(e)),(n=a.add(t,n,r,o,s)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=In;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)on||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(kn(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function En(e,t,n,r,i){if(Array.isArray(t)){for(var s=0;s<t.length;s++)En(e,t[s],n,r,i);return null}return n=_n(n),e&&e[cn]?e.O(t,n,gt(r)?!!r.capture:!!r,i):bn(e,t,n,!0,r,i)}function Sn(e,t,n,r,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)Sn(e,t[s],n,r,i);else r=gt(r)?!!r.capture:!!r,n=_n(n),e&&e[cn]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=gn(s=e.g[t],n,r,i))&&(dn(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete e.g[t],e.h--)))):e&&(e=xn(e))&&(t=e.g[t.toString()],e=-1,t&&(e=gn(t,n,r,i)),(n=-1<e?t[e]:null)&&Tn(n))}function Tn(e){if("number"!=typeof e&&e&&!e.ca){var t=e.src;if(t&&t[cn])mn(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(kn(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=xn(t))?(mn(n,e),0==n.h&&(n.src=null,t[yn]=null)):dn(e)}}}function kn(e){return e in vn?vn[e]:vn[e]="on"+e}function In(e,t){if(e.ca)e=!0;else{t=new ln(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&Tn(e),e=n.call(r,t)}return e}function xn(e){return(e=e[yn])instanceof pn?e:null}var Cn="__closure_events_fn_"+(1e9*Math.random()>>>0);function _n(e){return"function"==typeof e?e:(e[Cn]||(e[Cn]=function(t){return e.handleEvent(t)}),e[Cn])}function Nn(){kt.call(this),this.i=new pn(this),this.P=this,this.I=null}function An(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"==typeof t)t=new an(t,e);else if(t instanceof an)t.target=t.target||e;else{var i=t;jt(t=new an(r,e),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=t.g=n[s];i=Dn(o,r,!0,t)&&i}if(i=Dn(o=t.g=e,r,!0,t)&&i,i=Dn(o,r,!1,t)&&i,n)for(s=0;s<n.length;s++)i=Dn(o=t.g=n[s],r,!1,t)&&i}function Dn(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,s=0;s<t.length;++s){var o=t[s];if(o&&!o.ca&&o.capture==n){var a=o.listener,l=o.ia||o.src;o.fa&&mn(e.i,o),i=!1!==a.call(l,r)&&i}}return i&&!r.defaultPrevented}Tt(Nn,kt),Nn.prototype[cn]=!0,Nn.prototype.removeEventListener=function(e,t,n,r){Sn(this,e,t,n,r)},Nn.prototype.M=function(){if(Nn.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)dn(n[r]);delete t.g[e],t.h--}}this.I=null},Nn.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Nn.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Ln=dt.JSON.stringify;function Pn(){var e=jn;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Rn,On=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}((()=>new Mn),(e=>e.reset()));class Mn{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Fn(e){dt.setTimeout((()=>{throw e}),0)}function Un(e,t){Rn||function(){var e=dt.Promise.resolve(void 0);Rn=function(){e.then(zn)}}(),Vn||(Rn(),Vn=!0),jn.add(e,t)}var Vn=!1,jn=new class{constructor(){this.h=this.g=null}add(e,t){const n=On.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}};function zn(){for(var e;e=Pn();){try{e.h.call(e.g)}catch(e){Fn(e)}var t=On;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Vn=!1}function Bn(e,t){Nn.call(this),this.h=e||1,this.g=t||dt,this.j=Et(this.kb,this),this.l=Date.now()}function qn(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function Hn(e,t,n){if("function"==typeof e)n&&(e=Et(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=Et(e.handleEvent,e)}return 2147483647<Number(t)?-1:dt.setTimeout(e,t||0)}function $n(e){e.g=Hn((()=>{e.g=null,e.i&&(e.i=!1,$n(e))}),e.j);const t=e.h;e.h=null,e.m.apply(null,t)}Tt(Bn,Nn),(ut=Bn.prototype).da=!1,ut.S=null,ut.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),An(this,"tick"),this.da&&(qn(this),this.start()))}},ut.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},ut.M=function(){Bn.Z.M.call(this),qn(this),delete this.g};class Kn extends kt{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:$n(this)}M(){super.M(),this.g&&(dt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Wn(e){kt.call(this),this.h=e,this.g={}}Tt(Wn,kt);var Gn=[];function Qn(e,t,n,r){Array.isArray(n)||(n&&(Gn[0]=n.toString()),n=Gn);for(var i=0;i<n.length;i++){var s=wn(t,n[i],r||e.handleEvent,!1,e.h||e);if(!s)break;e.g[s.key]=s}}function Xn(e){Ft(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Tn(e)}),e),e.g={}}function Yn(){this.g=!0}function Jn(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return Ln(n)}catch(e){return t}}(e,n)+(r?" "+r:"")}))}Wn.prototype.M=function(){Wn.Z.M.call(this),Xn(this)},Wn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Yn.prototype.Aa=function(){this.g=!1},Yn.prototype.info=function(){};var Zn={},er=null;function tr(){return er=er||new Nn}function nr(e){an.call(this,Zn.Ma,e)}function rr(e){const t=tr();An(t,new nr(t,e))}function ir(e,t){an.call(this,Zn.STAT_EVENT,e),this.stat=t}function sr(e){const t=tr();An(t,new ir(t,e))}function or(e,t){an.call(this,Zn.Na,e),this.size=t}function ar(e,t){if("function"!=typeof e)throw Error("Fn must not be null and must be a function");return dt.setTimeout((function(){e()}),t)}Zn.Ma="serverreachability",Tt(nr,an),Zn.STAT_EVENT="statevent",Tt(ir,an),Zn.Na="timingevent",Tt(or,an);var lr={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},ur={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function cr(){}function hr(e){return e.h||(e.h=e.i())}function fr(){}cr.prototype.h=null;var dr,pr={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function mr(){an.call(this,"d")}function gr(){an.call(this,"c")}function yr(){}function vr(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new Wn(this),this.P=br,e=Wt?125:void 0,this.W=new Bn(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new wr}function wr(){this.i=null,this.g="",this.h=!1}Tt(mr,an),Tt(gr,an),Tt(yr,cr),yr.prototype.g=function(){return new XMLHttpRequest},yr.prototype.i=function(){return{}},dr=new yr;var br=45e3,Er={},Sr={};function Tr(e,t,n){e.K=1,e.v=Kr(jr(t)),e.s=n,e.U=!0,kr(e,null)}function kr(e,t){e.F=Date.now(),_r(e),e.A=jr(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),si(n.h,"t",r),e.C=0,n=e.l.H,e.h=new wr,e.g=ss(e.l,n?t:null,!e.s),0<e.O&&(e.L=new Kn(Et(e.Ia,e,e.g),e.O)),Qn(e.V,e.g,"readystatechange",e.gb),t=e.H?Ut(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),rr(1),function(e,t,n,r,i,s){e.info((function(){if(e.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var c=u[0];u=u[1];var h=c.split("_");o=2<=h.length&&"type"==h[1]?o+(c+"=")+u+"&":o+(c+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.X,e.s)}function Ir(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Ba)}function xr(e,t,n){let r,i=!0;for(;!e.I&&e.C<n.length;){if(r=Cr(e,n),r==Sr){4==t&&(e.o=4,sr(14),i=!1),Jn(e.j,e.m,null,"[Incomplete Response]");break}if(r==Er){e.o=4,sr(15),Jn(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}Jn(e.j,e.m,r,null),Pr(e,r)}Ir(e)&&r!=Sr&&r!=Er&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,sr(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),Yi(t),t.L=!0,sr(11))):(Jn(e.j,e.m,n,"[Invalid Chunked Response]"),Lr(e),Dr(e))}function Cr(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Sr:(n=Number(t.substring(n,r)),isNaN(n)?Er:(r+=1)+n>t.length?Sr:(t=t.substr(r,n),e.C=r+n,t))}function _r(e){e.Y=Date.now()+e.P,Nr(e,e.P)}function Nr(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=ar(Et(e.eb,e),t)}function Ar(e){e.B&&(dt.clearTimeout(e.B),e.B=null)}function Dr(e){0==e.l.G||e.I||es(e.l,e)}function Lr(e){Ar(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,qn(e.W),Xn(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function Pr(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||hi(n.i,e)))if(n.I=e.N,!e.J&&hi(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(e){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;Zi(n),Bi(n)}Xi(n),sr(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=ar(Et(n.ab,n),6e3));if(1>=ci(n.i)&&n.ka){try{n.ka()}catch(e){}n.ka=void 0}}else ns(n,11)}else if((e.J||n.g==e)&&Zi(n),!At(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){let u=i[t];if(n.U=u[0],u=u[1],2==n.G)if("c"==u[0]){n.J=u[1],n.la=u[2];const t=u[3];null!=t&&(n.ma=t,n.h.info("VER="+n.ma));const i=u[4];null!=i&&(n.za=i,n.h.info("SVER="+n.za));const c=u[5];null!=c&&"number"==typeof c&&0<c&&(r=1.5*c,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=e.g;if(h){const e=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var s=r.i;!s.g&&(Pt(e,"spdy")||Pt(e,"quic")||Pt(e,"h2"))&&(s.j=s.l,s.g=new Set,s.h&&(fi(s,s.h),s.h=null))}if(r.D){const e=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.sa=e,$r(r.F,r.D,e))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms"));var o=e;if((r=n).oa=is(r,r.H?r.la:null,r.W),o.J){di(r.i,o);var a=o,l=r.K;l&&a.setTimeout(l),a.B&&(Ar(a),_r(a)),r.g=o}else Qi(r);0<n.l.length&&$i(n)}else"stop"!=u[0]&&"close"!=u[0]||ns(n,7);else 3==n.G&&("stop"==u[0]||"close"==u[0]?"stop"==u[0]?ns(n,7):zi(n):"noop"!=u[0]&&n.j&&n.j.wa(u),n.A=0)}rr(4)}catch(e){}}function Rr(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(mt(e)||"string"==typeof e)Ct(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(mt(e)||"string"==typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;r=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"==typeof e)return e.split("");if(mt(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length;for(var s=0;s<i;s++)t.call(void 0,r[s],n&&n[s],e)}}function Or(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof Or)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function Mr(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];Fr(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)Fr(i,r=e.g[t])||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}function Fr(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(ut=vr.prototype).setTimeout=function(e){this.P=e},ut.gb=function(e){e=e.target;const t=this.L;t&&3==Mi(e)?t.l():this.Ia(e)},ut.Ia=function(e){try{if(e==this.g)e:{const c=Mi(this.g);var t=this.g.Da();const h=this.g.ba();if(!(3>c)&&(3!=c||Wt||this.g&&(this.h.h||this.g.ga()||Fi(this.g)))){this.I||4!=c||7==t||rr(8==t||0>=h?3:2),Ar(this);var n=this.g.ba();this.N=n;t:if(Ir(this)){var r=Fi(this.g);e="";var i=r.length,s=4==Mi(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Lr(this),Dr(this);var o="";break t}this.h.i=new dt.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:s&&t==i-1});r.splice(0,i),this.h.g+=e,this.C=0,o=this.h.g}else o=this.g.ga();if(this.i=200==n,function(e,t,n,r,i,s,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+s+" "+o}))}(this.j,this.u,this.A,this.m,this.X,c,n),this.i){if(this.$&&!this.J){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!At(a)){var u=a;break t}}u=null}if(!(n=u)){this.i=!1,this.o=3,sr(12),Lr(this),Dr(this);break e}Jn(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Pr(this,n)}this.U?(xr(this,c,o),Wt&&this.i&&3==c&&(Qn(this.V,this.W,"tick",this.fb),this.W.start())):(Jn(this.j,this.m,o,null),Pr(this,o)),4==c&&Lr(this),this.i&&!this.I&&(4==c?es(this.l,this):(this.i=!1,_r(this)))}else 400==n&&0<o.indexOf("Unknown SID")?(this.o=3,sr(12)):(this.o=0,sr(13)),Lr(this),Dr(this)}}}catch(e){}},ut.fb=function(){if(this.g){var e=Mi(this.g),t=this.g.ga();this.C<t.length&&(Ar(this),xr(this,e,t),this.i&&4!=e&&_r(this))}},ut.cancel=function(){this.I=!0,Lr(this)},ut.eb=function(){this.B=null;const e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(rr(3),sr(17)),Lr(this),this.o=2,Dr(this)):Nr(this,this.Y-e)},(ut=Or.prototype).R=function(){Mr(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},ut.T=function(){return Mr(this),this.g.concat()},ut.get=function(e,t){return Fr(this.h,e)?this.h[e]:t},ut.set=function(e,t){Fr(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},ut.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],s=this.get(i);e.call(t,s,i,this)}};var Ur=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Vr(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof Vr){this.g=void 0!==t?t:e.g,zr(this,e.j),this.s=e.s,Br(this,e.i),qr(this,e.m),this.l=e.l,t=e.h;var n=new ti;n.i=t.i,t.g&&(n.g=new Or(t.g),n.h=t.h),Hr(this,n),this.o=e.o}else e&&(n=String(e).match(Ur))?(this.g=!!t,zr(this,n[1]||"",!0),this.s=Wr(n[2]||""),Br(this,n[3]||"",!0),qr(this,n[4]),this.l=Wr(n[5]||"",!0),Hr(this,n[6]||"",!0),this.o=Wr(n[7]||"")):(this.g=!!t,this.h=new ti(null,this.g))}function jr(e){return new Vr(e)}function zr(e,t,n){e.j=n?Wr(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Br(e,t,n){e.i=n?Wr(t,!0):t}function qr(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Hr(e,t,n){t instanceof ti?(e.h=t,function(e,t){t&&!e.j&&(ni(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(ri(this,t),si(this,n,e))}),e)),e.j=t}(e.h,e.g)):(n||(t=Gr(t,Zr)),e.h=new ti(t,e.g))}function $r(e,t,n){e.h.set(t,n)}function Kr(e){return $r(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Wr(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Gr(e,t,n){return"string"==typeof e?(e=encodeURI(e).replace(t,Qr),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Qr(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Vr.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Gr(t,Xr,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Gr(t,Xr,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(Gr(n,"/"==n.charAt(0)?Jr:Yr,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Gr(n,ei)),e.join("")};var Xr=/[#\/\?@]/g,Yr=/[#\?:]/g,Jr=/[#\?]/g,Zr=/[#\?@]/g,ei=/#/g;function ti(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function ni(e){e.g||(e.g=new Or,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var s=e[n].substring(0,r);i=e[n].substring(r+1)}else s=e[n];t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function ri(e,t){ni(e),t=oi(e,t),Fr(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,Fr((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&Mr(e)))}function ii(e,t){return ni(e),t=oi(e,t),Fr(e.g.h,t)}function si(e,t,n){ri(e,t),0<n.length&&(e.i=null,e.g.set(oi(e,t),Nt(n)),e.h+=n.length)}function oi(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(ut=ti.prototype).add=function(e,t){ni(this),this.i=null,e=oi(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},ut.forEach=function(e,t){ni(this),this.g.forEach((function(n,r){Ct(n,(function(n){e.call(t,n,r,this)}),this)}),this)},ut.T=function(){ni(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],s=0;s<i.length;s++)n.push(t[r]);return n},ut.R=function(e){ni(this);var t=[];if("string"==typeof e)ii(this,e)&&(t=_t(t,this.g.get(oi(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=_t(t,e[n])}return t},ut.set=function(e,t){return ni(this),this.i=null,ii(this,e=oi(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},ut.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},ut.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var s=0;s<r.length;s++){var o=i;""!==r[s]&&(o+="="+encodeURIComponent(String(r[s]))),e.push(o)}}return this.i=e.join("&")};function ai(e){this.l=e||li,dt.PerformanceNavigationTiming?e=0<(e=dt.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(dt.g&&dt.g.Ea&&dt.g.Ea()&&dt.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var li=10;function ui(e){return!!e.h||!!e.g&&e.g.size>=e.j}function ci(e){return e.h?1:e.g?e.g.size:0}function hi(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function fi(e,t){e.g?e.g.add(t):e.h=t}function di(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function pi(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.D);return t}return Nt(e.i)}function mi(){}function gi(){this.g=new mi}function yi(e,t,n){const r=n||"";try{Rr(e,(function(e,n){let i=e;gt(e)&&(i=Ln(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(e){throw t.push(r+"type="+encodeURIComponent("_badmap")),e}}function vi(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(e){}}function wi(e){this.l=e.$b||null,this.j=e.ib||!1}function bi(e,t){Nn.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=Ei,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}ai.prototype.cancel=function(){if(this.i=pi(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}},mi.prototype.stringify=function(e){return dt.JSON.stringify(e,void 0)},mi.prototype.parse=function(e){return dt.JSON.parse(e,void 0)},Tt(wi,cr),wi.prototype.g=function(){return new bi(this.l,this.j)},wi.prototype.i=function(e){return function(){return e}}({}),Tt(bi,Nn);var Ei=0;function Si(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function Ti(e){e.readyState=4,e.l=null,e.j=null,e.A=null,ki(e)}function ki(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(ut=bi.prototype).open=function(e,t){if(this.readyState!=Ei)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,ki(this)},ut.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||dt).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},ut.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Ti(this)),this.readyState=Ei},ut.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,ki(this)),this.g&&(this.readyState=3,ki(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==dt.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Si(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},ut.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Ti(this):ki(this),3==this.readyState&&Si(this)}},ut.Ua=function(e){this.g&&(this.response=this.responseText=e,Ti(this))},ut.Ta=function(e){this.g&&(this.response=e,Ti(this))},ut.ha=function(){this.g&&Ti(this)},ut.setRequestHeader=function(e,t){this.v.append(e,t)},ut.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},ut.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(bi.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var Ii=dt.JSON.parse;function xi(e){Nn.call(this),this.headers=new Or,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Ci,this.K=this.L=!1}Tt(xi,Nn);var Ci="",_i=/^https?$/i,Ni=["POST","PUT"];function Ai(e){return"content-type"==e.toLowerCase()}function Di(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Li(e),Ri(e)}function Li(e){e.D||(e.D=!0,An(e,"complete"),An(e,"error"))}function Pi(e){if(e.h&&void 0!==ft&&(!e.C[1]||4!=Mi(e)||2!=e.ba()))if(e.v&&4==Mi(e))Hn(e.Fa,0,e);else if(An(e,"readystatechange"),4==Mi(e)){e.h=!1;try{const a=e.ba();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=0===a){var i=String(e.H).match(Ur)[1]||null;if(!i&&dt.self&&dt.self.location){var s=dt.self.location.protocol;i=s.substr(0,s.length-1)}r=!_i.test(i?i.toLowerCase():"")}n=r}if(n)An(e,"complete"),An(e,"success");else{e.m=6;try{var o=2<Mi(e)?e.g.statusText:""}catch(e){o=""}e.j=o+" ["+e.ba()+"]",Li(e)}}finally{Ri(e)}}}function Ri(e,t){if(e.g){Oi(e);const n=e.g,r=e.C[0]?pt:null;e.g=null,e.C=null,t||An(e,"ready");try{n.onreadystatechange=r}catch(e){}}}function Oi(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(dt.clearTimeout(e.A),e.A=null)}function Mi(e){return e.g?e.g.readyState:0}function Fi(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case Ci:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(e){return null}}function Ui(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){let t="";return Ft(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),"string"==typeof e?null!=n&&encodeURIComponent(String(n)):$r(e,t,n))}function Vi(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function ji(e){this.za=0,this.l=[],this.h=new Yn,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Vi("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Vi("baseRetryDelayMs",5e3,e),this.$a=Vi("retryDelaySeedMs",1e4,e),this.Ya=Vi("forwardChannelMaxRetries",2,e),this.ra=Vi("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new ai(e&&e.concurrentRequestLimit),this.Ca=new gi,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function zi(e){if(qi(e),3==e.G){var t=e.V++,n=jr(e.F);$r(n,"SID",e.J),$r(n,"RID",t),$r(n,"TYPE","terminate"),Wi(e,n),(t=new vr(e,e.h,t,void 0)).K=2,t.v=Kr(jr(n)),n=!1,dt.navigator&&dt.navigator.sendBeacon&&(n=dt.navigator.sendBeacon(t.v.toString(),"")),!n&&dt.Image&&((new Image).src=t.v,n=!0),n||(t.g=ss(t.l,null),t.g.ea(t.v)),t.F=Date.now(),_r(t)}rs(e)}function Bi(e){e.g&&(Yi(e),e.g.cancel(),e.g=null)}function qi(e){Bi(e),e.u&&(dt.clearTimeout(e.u),e.u=null),Zi(e),e.i.cancel(),e.m&&("number"==typeof e.m&&dt.clearTimeout(e.m),e.m=null)}function Hi(e,t){e.l.push(new class{constructor(e,t){this.h=e,this.g=t}}(e.Za++,t)),3==e.G&&$i(e)}function $i(e){ui(e.i)||e.m||(e.m=!0,Un(e.Ha,e),e.C=0)}function Ki(e,t){var n;n=t?t.m:e.V++;const r=jr(e.F);$r(r,"SID",e.J),$r(r,"RID",n),$r(r,"AID",e.U),Wi(e,r),e.o&&e.s&&Ui(r,e.o,e.s),n=new vr(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=Gi(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),fi(e.i,n),Tr(n,r,t)}function Wi(e,t){e.j&&Rr({},(function(e,n){$r(t,n,e)}))}function Gi(e,t,n){n=Math.min(e.l.length,n);var r=e.j?Et(e.j.Oa,e.j,e):null;e:{var i=e.l;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].h,e.push("ofs="+t)):t=0:e.push("ofs="+t);let s=!0;for(let o=0;o<n;o++){let n=i[o].h;const a=i[o].g;if(n-=t,0>n)t=Math.max(0,i[o].h-100),s=!1;else try{yi(a,e,"req"+n+"_")}catch(e){r&&r(a)}}if(s){r=e.join("&");break e}}}return e=e.l.splice(0,n),t.D=e,r}function Qi(e){e.g||e.u||(e.Y=1,Un(e.Ga,e),e.A=0)}function Xi(e){return!(e.g||e.u||3<=e.A)&&(e.Y++,e.u=ar(Et(e.Ga,e),ts(e,e.A)),e.A++,!0)}function Yi(e){null!=e.B&&(dt.clearTimeout(e.B),e.B=null)}function Ji(e){e.g=new vr(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=jr(e.oa);$r(t,"RID","rpc"),$r(t,"SID",e.J),$r(t,"CI",e.N?"0":"1"),$r(t,"AID",e.U),Wi(e,t),$r(t,"TYPE","xmlhttp"),e.o&&e.s&&Ui(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=Kr(jr(t)),n.s=null,n.U=!0,kr(n,e)}function Zi(e){null!=e.v&&(dt.clearTimeout(e.v),e.v=null)}function es(e,t){var n=null;if(e.g==t){Zi(e),Yi(e),e.g=null;var r=2}else{if(!hi(e.i,t))return;n=t.D,di(e.i,t),r=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;An(r=tr(),new or(r,n,t,i)),$i(e)}else Qi(e);else if(3==(i=t.o)||0==i&&0<e.I||!(1==r&&function(e,t){return!(ci(e.i)>=e.i.j-(e.m?1:0)||(e.m?(e.l=t.D.concat(e.l),0):1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya)||(e.m=ar(Et(e.Ha,e,t),ts(e,e.C)),e.C++,0)))}(e,t)||2==r&&Xi(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:ns(e,5);break;case 4:ns(e,10);break;case 3:ns(e,6);break;default:ns(e,2)}}function ts(e,t){let n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function ns(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var r=Et(e.jb,e);n||(n=new Vr("//www.google.com/images/cleardot.gif"),dt.location&&"http"==dt.location.protocol||zr(n,"https"),Kr(n)),function(e,t){const n=new Yn;if(dt.Image){const r=new Image;r.onload=St(vi,n,r,"TestLoadImage: loaded",!0,t),r.onerror=St(vi,n,r,"TestLoadImage: error",!1,t),r.onabort=St(vi,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=St(vi,n,r,"TestLoadImage: timeout",!1,t),dt.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else sr(2);e.G=0,e.j&&e.j.va(t),rs(e),qi(e)}function rs(e){e.G=0,e.I=-1,e.j&&(0==pi(e.i).length&&0==e.l.length||(e.i.i.length=0,Nt(e.l),e.l.length=0),e.j.ua())}function is(e,t,n){let r=function(e){return e instanceof Vr?jr(e):new Vr(e,void 0)}(n);if(""!=r.i)t&&Br(r,t+"."+r.i),qr(r,r.m);else{const e=dt.location;r=function(e,t,n,r){var i=new Vr(null,void 0);return e&&zr(i,e),t&&Br(i,t),n&&qr(i,n),r&&(i.l=r),i}(e.protocol,t?t+"."+e.hostname:e.hostname,+e.port,n)}return e.aa&&Ft(e.aa,(function(e,t){$r(r,t,e)})),t=e.D,n=e.sa,t&&n&&$r(r,t,n),$r(r,"VER",e.ma),Wi(e,r),r}function ss(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ba&&!e.qa?new xi(new wi({ib:!0})):new xi(e.qa)).L=e.H,t}function os(){}function as(){if($t&&!(10<=Number(sn)))throw Error("Environmental error: no available transport.")}function ls(e,t){Nn.call(this),this.g=new ji(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!At(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!At(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new hs(this)}function us(e){mr.call(this);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function cs(){gr.call(this),this.status=1}function hs(e){this.g=e}(ut=xi.prototype).ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():dr.g(),this.C=this.u?hr(this.u):hr(dr),this.g.onreadystatechange=Et(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(e){return void Di(this,e)}e=n||"";const i=new Or(this.headers);r&&Rr(r,(function(e,t){i.set(t,e)})),r=function(e){e:{var t=Ai;const n=e.length,r="string"==typeof e?e.split(""):e;for(let i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"==typeof e?e.charAt(t):e[t]}(i.T()),n=dt.FormData&&e instanceof dt.FormData,!(0<=xt(Ni,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(e,t){this.g.setRequestHeader(t,e)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Oi(this),0<this.B&&((this.K=function(e){return $t&&nn()&&"number"==typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Et(this.pa,this)):this.A=Hn(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(e){Di(this,e)}},ut.pa=function(){void 0!==ft&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,An(this,"timeout"),this.abort(8))},ut.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,An(this,"complete"),An(this,"abort"),Ri(this))},ut.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Ri(this,!0)),xi.Z.M.call(this)},ut.Fa=function(){this.s||(this.F||this.v||this.l?Pi(this):this.cb())},ut.cb=function(){Pi(this)},ut.ba=function(){try{return 2<Mi(this)?this.g.status:-1}catch(e){return-1}},ut.ga=function(){try{return this.g?this.g.responseText:""}catch(e){return""}},ut.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Ii(t)}},ut.Da=function(){return this.m},ut.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(ut=ji.prototype).ma=8,ut.G=1,ut.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(e){}},ut.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;const i=new vr(this,this.h,e,void 0);let s=this.s;if(this.P&&(s?(s=Ut(s),jt(s,this.P)):s=this.P),null===this.o&&(i.H=s),this.ja)e:{for(var t=0,n=0;n<this.l.length;n++){var r=this.l[n];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.l.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=Gi(this,i,t),$r(n=jr(this.F),"RID",e),$r(n,"CVER",22),this.D&&$r(n,"X-HTTP-Session-Id",this.D),Wi(this,n),this.o&&s&&Ui(n,this.o,s),fi(this.i,i),this.Ra&&$r(n,"TYPE","init"),this.ja?($r(n,"$req",t),$r(n,"SID","null"),i.$=!0,Tr(i,n,null)):Tr(i,n,t),this.G=2}}else 3==this.G&&(e?Ki(this,e):0==this.l.length||ui(this.i)||Ki(this))},ut.Ga=function(){if(this.u=null,Ji(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=ar(Et(this.bb,this),e)}},ut.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,sr(10),Bi(this),Ji(this))},ut.ab=function(){null!=this.v&&(this.v=null,Bi(this),Xi(this),sr(19))},ut.jb=function(e){e?(this.h.info("Successfully pinged google.com"),sr(2)):(this.h.info("Failed to ping google.com"),sr(1))},(ut=os.prototype).xa=function(){},ut.wa=function(){},ut.va=function(){},ut.ua=function(){},ut.Oa=function(){},as.prototype.g=function(e,t){return new ls(e,t)},Tt(ls,Nn),ls.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),Un(Et(e.hb,e,t))),sr(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=is(e,null,e.W),$i(e)},ls.prototype.close=function(){zi(this.g)},ls.prototype.u=function(e){if("string"==typeof e){var t={};t.__data__=e,Hi(this.g,t)}else this.v?((t={}).__data__=Ln(e),Hi(this.g,t)):Hi(this.g,e)},ls.prototype.M=function(){this.g.j=null,delete this.j,zi(this.g),delete this.g,ls.Z.M.call(this)},Tt(us,mr),Tt(cs,gr),Tt(hs,os),hs.prototype.xa=function(){An(this.g,"a")},hs.prototype.wa=function(e){An(this.g,new us(e))},hs.prototype.va=function(e){An(this.g,new cs(e))},hs.prototype.ua=function(){An(this.g,"b")},as.prototype.createWebChannel=as.prototype.g,ls.prototype.send=ls.prototype.u,ls.prototype.open=ls.prototype.m,ls.prototype.close=ls.prototype.close,lr.NO_ERROR=0,lr.TIMEOUT=8,lr.HTTP_ERROR=6,ur.COMPLETE="complete",fr.EventType=pr,pr.OPEN="a",pr.CLOSE="b",pr.ERROR="c",pr.MESSAGE="d",Nn.prototype.listen=Nn.prototype.N,xi.prototype.listenOnce=xi.prototype.O,xi.prototype.getLastError=xi.prototype.La,xi.prototype.getLastErrorCode=xi.prototype.Da,xi.prototype.getStatus=xi.prototype.ba,xi.prototype.getResponseJson=xi.prototype.Qa,xi.prototype.getResponseText=xi.prototype.ga,xi.prototype.send=xi.prototype.ea;var fs,ds,ps=ht.createWebChannelTransport=function(){return new as},ms=ht.getStatEventTarget=function(){return tr()},gs=ht.ErrorCode=lr,ys=ht.EventType=ur,vs=ht.Event=Zn,ws=ht.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},bs=ht.FetchXmlHttpFactory=wi,Es=ht.WebChannel=fr,Ss=ht.XhrIo=xi,Ts={};function ks(){throw new Error("setTimeout has not been defined")}function Is(){throw new Error("clearTimeout has not been defined")}function xs(e){if(fs===setTimeout)return setTimeout(e,0);if((fs===ks||!fs)&&setTimeout)return fs=setTimeout,setTimeout(e,0);try{return fs(e,0)}catch(t){try{return fs.call(null,e,0)}catch(t){return fs.call(this,e,0)}}}!function(){try{fs="function"==typeof setTimeout?setTimeout:ks}catch(e){fs=ks}try{ds="function"==typeof clearTimeout?clearTimeout:Is}catch(e){ds=Is}}();var Cs,_s=[],Ns=!1,As=-1;function Ds(){Ns&&Cs&&(Ns=!1,Cs.length?_s=Cs.concat(_s):As=-1,_s.length&&Ls())}function Ls(){if(!Ns){var e=xs(Ds);Ns=!0;for(var t=_s.length;t;){for(Cs=_s,_s=[];++As<t;)Cs&&Cs[As].run();As=-1,t=_s.length}Cs=null,Ns=!1,function(e){if(ds===clearTimeout)return clearTimeout(e);if((ds===Is||!ds)&&clearTimeout)return ds=clearTimeout,clearTimeout(e);try{ds(e)}catch(t){try{return ds.call(null,e)}catch(t){return ds.call(this,e)}}}(e)}}function Ps(e,t){this.fun=e,this.array=t}function Rs(){}Ts.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];_s.push(new Ps(e,t)),1!==_s.length||Ns||xs(Ls)},Ps.prototype.run=function(){this.fun.apply(null,this.array)},Ts.title="browser",Ts.browser=!0,Ts.env={},Ts.argv=[],Ts.version="",Ts.versions={},Ts.on=Rs,Ts.addListener=Rs,Ts.once=Rs,Ts.off=Rs,Ts.removeListener=Rs,Ts.removeAllListeners=Rs,Ts.emit=Rs,Ts.prependListener=Rs,Ts.prependOnceListener=Rs,Ts.listeners=function(e){return[]},Ts.binding=function(e){throw new Error("process.binding is not supported")},Ts.cwd=function(){return"/"},Ts.chdir=function(e){throw new Error("process.chdir is not supported")},Ts.umask=function(){return 0};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Os{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Os.UNAUTHENTICATED=new Os(null),Os.GOOGLE_CREDENTIALS=new Os("google-credentials-uid"),Os.FIRST_PARTY=new Os("first-party-uid"),Os.MOCK_USER=new Os("mock-user");
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
let Ms="9.1.3";
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fs=new W("@firebase/firestore");function Us(){return Fs.logLevel}function Vs(e,...t){if(Fs.logLevel<=z.DEBUG){const n=t.map(Bs);Fs.debug(`Firestore (${Ms}): ${e}`,...n)}}function js(e,...t){if(Fs.logLevel<=z.ERROR){const n=t.map(Bs);Fs.error(`Firestore (${Ms}): ${e}`,...n)}}function zs(e,...t){if(Fs.logLevel<=z.WARN){const n=t.map(Bs);Fs.warn(`Firestore (${Ms}): ${e}`,...n)}}function Bs(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var t}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qs(e="Unexpected state"){const t=`FIRESTORE (${Ms}) INTERNAL ASSERTION FAILED: `+e;throw js(t),new Error(t)}function Hs(e,t){e||qs()}function $s(e,t){return e}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ks={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ws extends Error{constructor(e,t){super(t),this.code=e,this.message=t,this.name="FirebaseError",this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gs{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qs{constructor(e,t){this.user=t,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization=`Bearer ${e}`}}class Xs{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(Os.UNAUTHENTICATED)))}shutdown(){}}class Ys{constructor(e){this.t=e,this.currentUser=Os.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new Gs;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Gs,e.enqueueRetryable((()=>r(this.currentUser)))};const s=()=>{const t=i;e.enqueueRetryable((async()=>{await t.promise,await r(this.currentUser)}))},o=e=>{Vs("FirebaseCredentialsProvider","Auth detected"),this.auth=e,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit((e=>o(e))),setTimeout((()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?o(e):(Vs("FirebaseCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Gs)}}),0),s()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i!==e?(Vs("FirebaseCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(Hs("string"==typeof t.accessToken),new Qs(t.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Hs(null===e||"string"==typeof e),new Os(e)}}class Js{constructor(e,t,n){this.h=e,this.l=t,this.m=n,this.type="FirstParty",this.user=Os.FIRST_PARTY}get authHeaders(){const e={"X-Goog-AuthUser":this.l},t=this.h.auth.getAuthHeaderValueForFirstParty([]);return t&&(e.Authorization=t),this.m&&(e["X-Goog-Iam-Authorization-Token"]=this.m),e}}class Zs{constructor(e,t,n){this.h=e,this.l=t,this.m=n}getToken(){return Promise.resolve(new Js(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable((()=>t(Os.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eo{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.g(e),this.p=e=>t.writeSequenceNumber(e))}g(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.p&&this.p(e),e}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function to(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let t=0;t<e;t++)n[t]=Math.floor(256*Math.random());return n}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */eo.T=-1;class no{static I(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let n="";for(;n.length<20;){const r=to(40);for(let i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length))}return n}}function ro(e,t){return e<t?-1:e>t?1:0}function io(e,t,n){return e.length===t.length&&e.every(((e,r)=>n(e,t[r])))}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class so{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ws(Ks.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ws(Ks.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Ws(Ks.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ws(Ks.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return so.fromMillis(Date.now())}static fromDate(e){return so.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new so(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ro(this.nanoseconds,e.nanoseconds):ro(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo{constructor(e){this.timestamp=e}static fromTimestamp(e){return new oo(e)}static min(){return new oo(new so(0,0))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ao(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function lo(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function uo(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class co{constructor(e,t,n){void 0===t?t=0:t>e.length&&qs(),void 0===n?n=e.length-t:n>e.length-t&&qs(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===co.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof co?e.forEach((e=>{t.push(e)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.get(r),i=t.get(r);if(n<i)return-1;if(n>i)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class ho extends co{construct(e,t,n){return new ho(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const n of e){if(n.indexOf("//")>=0)throw new Ws(Ks.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);t.push(...n.split("/").filter((e=>e.length>0)))}return new ho(t)}static emptyPath(){return new ho([])}}const fo=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class po extends co{construct(e,t,n){return new po(e,t,n)}static isValidIdentifier(e){return fo.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),po.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new po(["__name__"])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new Ws(Ks.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let s=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new Ws(Ks.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new Ws(Ks.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(s=!s,r++):"."!==t||s?(n+=t,r++):(i(),r++)}if(i(),s)throw new Ws(Ks.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new po(t)}static emptyPath(){return new po([])}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mo{constructor(e){this.fields=e,e.sort(po.comparator)}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return io(this.fields,e.fields,((e,t)=>e.isEqual(t)))}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class go{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new go(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new go(t)}toBase64(){var e;return e=this.binaryString,btoa(e)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ro(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}go.EMPTY_BYTE_STRING=new go("");const yo=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function vo(e){if(Hs(!!e),"string"==typeof e){let t=0;const n=yo.exec(e);if(Hs(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:wo(e.seconds),nanos:wo(e.nanos)}}function wo(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function bo(e){return"string"==typeof e?go.fromBase64String(e):go.fromUint8Array(e)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eo(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function So(e){const t=e.mapValue.fields.__previous_value__;return Eo(t)?So(t):t}function To(e){const t=vo(e.mapValue.fields.__local_write_time__.timestampValue);return new so(t.seconds,t.nanos)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ko(e){return null==e}function Io(e){return 0===e&&1/e==-1/0}function xo(e){return"number"==typeof e&&Number.isInteger(e)&&!Io(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Co{constructor(e){this.path=e}static fromPath(e){return new Co(ho.fromString(e))}static fromName(e){return new Co(ho.fromString(e).popFirst(5))}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}isEqual(e){return null!==e&&0===ho.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return ho.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Co(new ho(e.slice()))}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _o(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Eo(e)?4:10:qs()}function No(e,t){const n=_o(e);if(n!==_o(t))return!1;switch(n){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return To(e).isEqual(To(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=vo(e.timestampValue),r=vo(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return bo(e.bytesValue).isEqual(bo(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return wo(e.geoPointValue.latitude)===wo(t.geoPointValue.latitude)&&wo(e.geoPointValue.longitude)===wo(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return wo(e.integerValue)===wo(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=wo(e.doubleValue),r=wo(t.doubleValue);return n===r?Io(n)===Io(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return io(e.arrayValue.values||[],t.arrayValue.values||[],No);case 10:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(ao(n)!==ao(r))return!1;for(const e in n)if(n.hasOwnProperty(e)&&(void 0===r[e]||!No(n[e],r[e])))return!1;return!0}(e,t);default:return qs()}}function Ao(e,t){return void 0!==(e.values||[]).find((e=>No(e,t)))}function Do(e,t){const n=_o(e),r=_o(t);if(n!==r)return ro(n,r);switch(n){case 0:return 0;case 1:return ro(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=wo(e.integerValue||e.doubleValue),r=wo(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Lo(e.timestampValue,t.timestampValue);case 4:return Lo(To(e),To(t));case 5:return ro(e.stringValue,t.stringValue);case 6:return function(e,t){const n=bo(e),r=bo(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let e=0;e<n.length&&e<r.length;e++){const t=ro(n[e],r[e]);if(0!==t)return t}return ro(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=ro(wo(e.latitude),wo(t.latitude));return 0!==n?n:ro(wo(e.longitude),wo(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){const n=e.values||[],r=t.values||[];for(let e=0;e<n.length&&e<r.length;++e){const t=Do(n[e],r[e]);if(t)return t}return ro(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){const n=e.fields||{},r=Object.keys(n),i=t.fields||{},s=Object.keys(i);r.sort(),s.sort();for(let e=0;e<r.length&&e<s.length;++e){const t=ro(r[e],s[e]);if(0!==t)return t;const o=Do(n[r[e]],i[s[e]]);if(0!==o)return o}return ro(r.length,s.length)}(e.mapValue,t.mapValue);default:throw qs()}}function Lo(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return ro(e,t);const n=vo(e),r=vo(t),i=ro(n.seconds,r.seconds);return 0!==i?i:ro(n.nanos,r.nanos)}function Po(e){return Ro(e)}function Ro(e){var t,n;return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=vo(e);return`time(${t.seconds},${t.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?bo(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,Co.fromName(n).toString()):"geoPointValue"in e?`geo(${(t=e.geoPointValue).latitude},${t.longitude})`:"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=Ro(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+=`${i}:${Ro(e.fields[i])}`;return n+"}"}(e.mapValue):qs()}function Oo(e){return!!e&&"integerValue"in e}function Mo(e){return!!e&&"arrayValue"in e}function Fo(e){return!!e&&"nullValue"in e}function Uo(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Vo(e){return!!e&&"mapValue"in e}function jo(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return lo(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=jo(n))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=jo(e.arrayValue.values[n]);return t}return Object.assign({},e)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zo{constructor(e){this.value=e}static empty(){return new zo({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!Vo(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=jo(t)}setAll(e){let t=po.emptyPath(),n={},r=[];e.forEach(((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=jo(e):r.push(i.lastSegment())}));const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());Vo(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return No(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];Vo(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){lo(t,((t,n)=>e[t]=n));for(const t of n)delete e[t]}clone(){return new zo(jo(this.value))}}function Bo(e){const t=[];return lo(e.fields,((e,n)=>{const r=new po([e]);if(Vo(n)){const e=Bo(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)})),new mo(t)
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}class qo{constructor(e,t,n,r,i){this.key=e,this.documentType=t,this.version=n,this.data=r,this.documentState=i}static newInvalidDocument(e){return new qo(e,0,oo.min(),zo.empty(),0)}static newFoundDocument(e,t,n){return new qo(e,1,t,n,0)}static newNoDocument(e,t){return new qo(e,2,t,zo.empty(),0)}static newUnknownDocument(e,t){return new qo(e,3,t,zo.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=zo.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=zo.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof qo&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}clone(){return new qo(this.key,this.documentType,this.version,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ho{constructor(e,t=null,n=[],r=[],i=null,s=null,o=null){this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=o,this.A=null}}function $o(e,t=null,n=[],r=[],i=null,s=null,o=null){return new Ho(e,t,n,r,i,s,o)}function Ko(e){const t=$s(e);if(null===t.A){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((e=>function(e){return e.field.canonicalString()+e.op.toString()+Po(e.value)}(e))).join(","),e+="|ob:",e+=t.orderBy.map((e=>function(e){return e.field.canonicalString()+e.dir}(e))).join(","),ko(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=sa(t.startAt)),t.endAt&&(e+="|ub:",e+=sa(t.endAt)),t.A=e}return t.A}function Wo(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!aa(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let i=0;i<e.filters.length;i++)if(n=e.filters[i],r=t.filters[i],n.op!==r.op||!n.field.isEqual(r.field)||!No(n.value,r.value))return!1;var n,r;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!ua(e.startAt,t.startAt)&&ua(e.endAt,t.endAt)}function Go(e){return Co.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class Qo extends class{}{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.R(e,t,n):new Xo(e,t,n):"array-contains"===t?new ea(e,n):"in"===t?new ta(e,n):"not-in"===t?new na(e,n):"array-contains-any"===t?new ra(e,n):new Qo(e,t,n)}static R(e,t,n){return"in"===t?new Yo(e,n):new Jo(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.P(Do(t,this.value)):null!==t&&_o(this.value)===_o(t)&&this.P(Do(t,this.value))}P(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return qs()}}v(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class Xo extends Qo{constructor(e,t,n){super(e,t,n),this.key=Co.fromName(n.referenceValue)}matches(e){const t=Co.comparator(e.key,this.key);return this.P(t)}}class Yo extends Qo{constructor(e,t){super(e,"in",t),this.keys=Zo("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class Jo extends Qo{constructor(e,t){super(e,"not-in",t),this.keys=Zo("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function Zo(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((e=>Co.fromName(e.referenceValue)))}class ea extends Qo{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Mo(t)&&Ao(t.arrayValue,this.value)}}class ta extends Qo{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Ao(this.value.arrayValue,t)}}class na extends Qo{constructor(e,t){super(e,"not-in",t)}matches(e){if(Ao(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Ao(this.value.arrayValue,t)}}class ra extends Qo{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Mo(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>Ao(this.value.arrayValue,e)))}}class ia{constructor(e,t){this.position=e,this.before=t}}function sa(e){return`${e.before?"b":"a"}:${e.position.map((e=>Po(e))).join(",")}`}class oa{constructor(e,t="asc"){this.field=e,this.dir=t}}function aa(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function la(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const s=t[i],o=e.position[i];if(r=s.field.isKeyField()?Co.comparator(Co.fromName(o.referenceValue),n.key):Do(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return e.before?r<=0:r<0}function ua(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.before!==t.before||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!No(e.position[n],t.position[n]))return!1;return!0}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ca{constructor(e,t=null,n=[],r=[],i=null,s="F",o=null,a=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=o,this.endAt=a,this.V=null,this.S=null,this.startAt,this.endAt}}function ha(e,t,n,r,i,s,o,a){return new ca(e,t,n,r,i,s,o,a)}function fa(e){return new ca(e)}function da(e){return!ko(e.limit)&&"F"===e.limitType}function pa(e){return!ko(e.limit)&&"L"===e.limitType}function ma(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function ga(e){for(const t of e.filters)if(t.v())return t.field;return null}function ya(e){return null!==e.collectionGroup}function va(e){const t=$s(e);if(null===t.V){t.V=[];const e=ga(t),n=ma(t);if(null!==e&&null===n)e.isKeyField()||t.V.push(new oa(e)),t.V.push(new oa(po.keyField(),"asc"));else{let e=!1;for(const n of t.explicitOrderBy)t.V.push(n),n.field.isKeyField()&&(e=!0);if(!e){const e=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.V.push(new oa(po.keyField(),e))}}}return t.V}function wa(e){const t=$s(e);if(!t.S)if("F"===t.limitType)t.S=$o(t.path,t.collectionGroup,va(t),t.filters,t.limit,t.startAt,t.endAt);else{const e=[];for(const n of va(t)){const t="desc"===n.dir?"asc":"desc";e.push(new oa(n.field,t))}const n=t.endAt?new ia(t.endAt.position,!t.endAt.before):null,r=t.startAt?new ia(t.startAt.position,!t.startAt.before):null;t.S=$o(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}return t.S}function ba(e,t,n){return new ca(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Ea(e,t){return Wo(wa(e),wa(t))&&e.limitType===t.limitType}function Sa(e){return`${Ko(wa(e))}|lt:${e.limitType}`}function Ta(e){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map((e=>{var t;return`${(t=e).field.canonicalString()} ${t.op} ${Po(t.value)}`})).join(", ")}]`),ko(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map((e=>function(e){return`${e.field.canonicalString()} (${e.dir})`}(e))).join(", ")}]`),e.startAt&&(t+=", startAt: "+sa(e.startAt)),e.endAt&&(t+=", endAt: "+sa(e.endAt)),`Target(${t})`}(wa(e))}; limitType=${e.limitType})`}function ka(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Co.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of e.explicitOrderBy)if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!la(e.startAt,va(e),t))&&(!e.endAt||!la(e.endAt,va(e),t))}(e,t)}function Ia(e){return(t,n)=>{let r=!1;for(const i of va(e)){const e=xa(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function xa(e,t,n){const r=e.field.isKeyField()?Co.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Do(r,i):qs()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return qs()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ca(e,t){if(e.D){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Io(t)?"-0":t}}function _a(e){return{integerValue:""+e}}function Na(e,t){return xo(t)?_a(t):Ca(e,t)}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aa{constructor(){this._=void 0}}function Da(e,t,n){return e instanceof Ra?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Oa?Ma(e,t):e instanceof Fa?Ua(e,t):function(e,t){const n=Pa(e,t),r=ja(n)+ja(e.C);return Oo(n)&&Oo(e.C)?_a(r):Ca(e.N,r)}(e,t)}function La(e,t,n){return e instanceof Oa?Ma(e,t):e instanceof Fa?Ua(e,t):n}function Pa(e,t){var n;return e instanceof Va?Oo(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null}class Ra extends Aa{}class Oa extends Aa{constructor(e){super(),this.elements=e}}function Ma(e,t){const n=za(t);for(const t of e.elements)n.some((e=>No(e,t)))||n.push(t);return{arrayValue:{values:n}}}class Fa extends Aa{constructor(e){super(),this.elements=e}}function Ua(e,t){let n=za(t);for(const t of e.elements)n=n.filter((e=>!No(e,t)));return{arrayValue:{values:n}}}class Va extends Aa{constructor(e,t){super(),this.N=e,this.C=t}}function ja(e){return wo(e.integerValue||e.doubleValue)}function za(e){return Mo(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ba{constructor(e,t){this.version=e,this.transformResults=t}}class qa{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new qa}static exists(e){return new qa(void 0,e)}static updateTime(e){return new qa(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ha(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class $a{}function Ka(e,t,n){e instanceof Ya?function(e,t,n){const r=e.value.clone(),i=el(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Ja?function(e,t,n){if(!Ha(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=el(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Za(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Wa(e,t,n){e instanceof Ya?function(e,t,n){if(!Ha(e.precondition,t))return;const r=e.value.clone(),i=tl(e.fieldTransforms,n,t);r.setAll(i),t.convertToFoundDocument(Xa(t),r).setHasLocalMutations()}(e,t,n):e instanceof Ja?function(e,t,n){if(!Ha(e.precondition,t))return;const r=tl(e.fieldTransforms,n,t),i=t.data;i.setAll(Za(e)),i.setAll(r),t.convertToFoundDocument(Xa(t),i).setHasLocalMutations()}(e,t,n):function(e,t){Ha(e.precondition,t)&&t.convertToNoDocument(oo.min())}(e,t)}function Ga(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=Pa(r.transform,e||null);null!=i&&(null==n&&(n=zo.empty()),n.set(r.field,i))}return n||null}function Qa(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&io(e,t,((e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Oa&&t instanceof Oa||e instanceof Fa&&t instanceof Fa?io(e.elements,t.elements,No):e instanceof Va&&t instanceof Va?No(e.C,t.C):e instanceof Ra&&t instanceof Ra}(e.transform,t.transform)}(e,t)))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function Xa(e){return e.isFoundDocument()?e.version:oo.min()}class Ya extends $a{constructor(e,t,n,r=[]){super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}}class Ja extends $a{constructor(e,t,n,r,i=[]){super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}}function Za(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}})),t}function el(e,t,n){const r=new Map;Hs(e.length===n.length);for(let i=0;i<n.length;i++){const s=e[i],o=s.transform,a=t.data.field(s.field);r.set(s.field,La(o,a,n[i]))}return r}function tl(e,t,n){const r=new Map;for(const i of e){const e=i.transform,s=n.data.field(i.field);r.set(i.field,Da(e,s,t))}return r}class nl extends $a{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}}class rl extends $a{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class il{constructor(e){this.count=e}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var sl,ol;function al(e){switch(e){default:return qs();case Ks.CANCELLED:case Ks.UNKNOWN:case Ks.DEADLINE_EXCEEDED:case Ks.RESOURCE_EXHAUSTED:case Ks.INTERNAL:case Ks.UNAVAILABLE:case Ks.UNAUTHENTICATED:return!1;case Ks.INVALID_ARGUMENT:case Ks.NOT_FOUND:case Ks.ALREADY_EXISTS:case Ks.PERMISSION_DENIED:case Ks.FAILED_PRECONDITION:case Ks.ABORTED:case Ks.OUT_OF_RANGE:case Ks.UNIMPLEMENTED:case Ks.DATA_LOSS:return!0}}function ll(e){if(void 0===e)return js("GRPC error has no .code"),Ks.UNKNOWN;switch(e){case sl.OK:return Ks.OK;case sl.CANCELLED:return Ks.CANCELLED;case sl.UNKNOWN:return Ks.UNKNOWN;case sl.DEADLINE_EXCEEDED:return Ks.DEADLINE_EXCEEDED;case sl.RESOURCE_EXHAUSTED:return Ks.RESOURCE_EXHAUSTED;case sl.INTERNAL:return Ks.INTERNAL;case sl.UNAVAILABLE:return Ks.UNAVAILABLE;case sl.UNAUTHENTICATED:return Ks.UNAUTHENTICATED;case sl.INVALID_ARGUMENT:return Ks.INVALID_ARGUMENT;case sl.NOT_FOUND:return Ks.NOT_FOUND;case sl.ALREADY_EXISTS:return Ks.ALREADY_EXISTS;case sl.PERMISSION_DENIED:return Ks.PERMISSION_DENIED;case sl.FAILED_PRECONDITION:return Ks.FAILED_PRECONDITION;case sl.ABORTED:return Ks.ABORTED;case sl.OUT_OF_RANGE:return Ks.OUT_OF_RANGE;case sl.UNIMPLEMENTED:return Ks.UNIMPLEMENTED;case sl.DATA_LOSS:return Ks.DATA_LOSS;default:return qs()}}(ol=sl||(sl={}))[ol.OK=0]="OK",ol[ol.CANCELLED=1]="CANCELLED",ol[ol.UNKNOWN=2]="UNKNOWN",ol[ol.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ol[ol.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ol[ol.NOT_FOUND=5]="NOT_FOUND",ol[ol.ALREADY_EXISTS=6]="ALREADY_EXISTS",ol[ol.PERMISSION_DENIED=7]="PERMISSION_DENIED",ol[ol.UNAUTHENTICATED=16]="UNAUTHENTICATED",ol[ol.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ol[ol.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ol[ol.ABORTED=10]="ABORTED",ol[ol.OUT_OF_RANGE=11]="OUT_OF_RANGE",ol[ol.UNIMPLEMENTED=12]="UNIMPLEMENTED",ol[ol.INTERNAL=13]="INTERNAL",ol[ol.UNAVAILABLE=14]="UNAVAILABLE",ol[ol.DATA_LOSS=15]="DATA_LOSS";
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class ul{constructor(e,t){this.comparator=e,this.root=t||hl.EMPTY}insert(e,t){return new ul(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,hl.BLACK,null,null))}remove(e){return new ul(this.comparator,this.root.remove(e,this.comparator).copy(null,null,hl.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push(`${t}:${n}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new cl(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new cl(this.root,e,this.comparator,!1)}getReverseIterator(){return new cl(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new cl(this.root,e,this.comparator,!0)}}class cl{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class hl{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:hl.RED,this.left=null!=r?r:hl.EMPTY,this.right=null!=i?i:hl.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new hl(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return hl.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return hl.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,hl.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,hl.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw qs();if(this.right.isRed())throw qs();const e=this.left.check();if(e!==this.right.check())throw qs();return e+(this.isRed()?0:1)}}hl.EMPTY=null,hl.RED=!0,hl.BLACK=!1,hl.EMPTY=new class{constructor(){this.size=0}get key(){throw qs()}get value(){throw qs()}get color(){throw qs()}get left(){throw qs()}get right(){throw qs()}copy(e,t,n,r,i){return this}insert(e,t,n){return new hl(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class fl{constructor(e){this.comparator=e,this.data=new ul(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new dl(this.data.getIterator())}getIteratorFrom(e){return new dl(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(e){if(!(e instanceof fl))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new fl(this.comparator);return t.data=e,t}}class dl{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pl=new ul(Co.comparator);function ml(){return pl}const gl=new ul(Co.comparator);function yl(){return gl}const vl=new ul(Co.comparator);function wl(){return vl}const bl=new fl(Co.comparator);function El(...e){let t=bl;for(const n of e)t=t.add(n);return t}const Sl=new fl(ro);function Tl(){return Sl}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kl{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t){const n=new Map;return n.set(e,Il.createSynthesizedTargetChangeForCurrentChange(e,t)),new kl(oo.min(),n,Tl(),ml(),El())}}class Il{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t){return new Il(go.EMPTY_BYTE_STRING,t,El(),El(),El())}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xl{constructor(e,t,n,r){this.k=e,this.removedTargetIds=t,this.key=n,this.$=r}}class Cl{constructor(e,t){this.targetId=e,this.O=t}}class _l{constructor(e,t,n=go.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class Nl{constructor(){this.F=0,this.M=Ll(),this.L=go.EMPTY_BYTE_STRING,this.B=!1,this.U=!0}get current(){return this.B}get resumeToken(){return this.L}get q(){return 0!==this.F}get K(){return this.U}j(e){e.approximateByteSize()>0&&(this.U=!0,this.L=e)}W(){let e=El(),t=El(),n=El();return this.M.forEach(((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:qs()}})),new Il(this.L,this.B,e,t,n)}G(){this.U=!1,this.M=Ll()}H(e,t){this.U=!0,this.M=this.M.insert(e,t)}J(e){this.U=!0,this.M=this.M.remove(e)}Y(){this.F+=1}X(){this.F-=1}Z(){this.U=!0,this.B=!0}}class Al{constructor(e){this.tt=e,this.et=new Map,this.nt=ml(),this.st=Dl(),this.it=new fl(ro)}rt(e){for(const t of e.k)e.$&&e.$.isFoundDocument()?this.ot(t,e.$):this.at(t,e.key,e.$);for(const t of e.removedTargetIds)this.at(t,e.key,e.$)}ct(e){this.forEachTarget(e,(t=>{const n=this.ut(t);switch(e.state){case 0:this.ht(t)&&n.j(e.resumeToken);break;case 1:n.X(),n.q||n.G(),n.j(e.resumeToken);break;case 2:n.X(),n.q||this.removeTarget(t);break;case 3:this.ht(t)&&(n.Z(),n.j(e.resumeToken));break;case 4:this.ht(t)&&(this.lt(t),n.j(e.resumeToken));break;default:qs()}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.et.forEach(((e,n)=>{this.ht(n)&&t(n)}))}ft(e){const t=e.targetId,n=e.O.count,r=this.dt(t);if(r){const e=r.target;if(Go(e))if(0===n){const n=new Co(e.path);this.at(t,n,qo.newNoDocument(n,oo.min()))}else Hs(1===n);else this.wt(t)!==n&&(this.lt(t),this.it=this.it.add(t))}}_t(e){const t=new Map;this.et.forEach(((n,r)=>{const i=this.dt(r);if(i){if(n.current&&Go(i.target)){const t=new Co(i.target.path);null!==this.nt.get(t)||this.gt(r,t)||this.at(r,t,qo.newNoDocument(t,e))}n.K&&(t.set(r,n.W()),n.G())}}));let n=El();this.st.forEach(((e,t)=>{let r=!0;t.forEachWhile((e=>{const t=this.dt(e);return!t||2===t.purpose||(r=!1,!1)})),r&&(n=n.add(e))}));const r=new kl(e,t,this.it,this.nt,n);return this.nt=ml(),this.st=Dl(),this.it=new fl(ro),r}ot(e,t){if(!this.ht(e))return;const n=this.gt(e,t.key)?2:0;this.ut(e).H(t.key,n),this.nt=this.nt.insert(t.key,t),this.st=this.st.insert(t.key,this.yt(t.key).add(e))}at(e,t,n){if(!this.ht(e))return;const r=this.ut(e);this.gt(e,t)?r.H(t,1):r.J(t),this.st=this.st.insert(t,this.yt(t).delete(e)),n&&(this.nt=this.nt.insert(t,n))}removeTarget(e){this.et.delete(e)}wt(e){const t=this.ut(e).W();return this.tt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Y(e){this.ut(e).Y()}ut(e){let t=this.et.get(e);return t||(t=new Nl,this.et.set(e,t)),t}yt(e){let t=this.st.get(e);return t||(t=new fl(ro),this.st=this.st.insert(e,t)),t}ht(e){const t=null!==this.dt(e);return t||Vs("WatchChangeAggregator","Detected inactive target",e),t}dt(e){const t=this.et.get(e);return t&&t.q?null:this.tt.Tt(e)}lt(e){this.et.set(e,new Nl),this.tt.getRemoteKeysForTarget(e).forEach((t=>{this.at(e,t,null)}))}gt(e,t){return this.tt.getRemoteKeysForTarget(e).has(t)}}function Dl(){return new ul(Co.comparator)}function Ll(){return new ul(Co.comparator)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pl={asc:"ASCENDING",desc:"DESCENDING"},Rl={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class Ol{constructor(e,t){this.databaseId=e,this.D=t}}function Ml(e,t){return e.D?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function Fl(e,t){return e.D?t.toBase64():t.toUint8Array()}function Ul(e,t){return Ml(e,t.toTimestamp())}function Vl(e){return Hs(!!e),oo.fromTimestamp(function(e){const t=vo(e);return new so(t.seconds,t.nanos)}(e))}function jl(e,t){return function(e){return new ho(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function zl(e){const t=ho.fromString(e);return Hs(uu(t)),t}function Bl(e,t){return jl(e.databaseId,t.path)}function ql(e,t){const n=zl(t);if(n.get(1)!==e.databaseId.projectId)throw new Ws(Ks.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Ws(Ks.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Co(Wl(n))}function Hl(e,t){return jl(e.databaseId,t)}function $l(e){const t=zl(e);return 4===t.length?ho.emptyPath():Wl(t)}function Kl(e){return new ho(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Wl(e){return Hs(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Gl(e,t,n){return{name:Bl(e,t),fields:n.value.mapValue.fields}}function Ql(e,t){let n;if(t instanceof Ya)n={update:Gl(e,t.key,t.value)};else if(t instanceof nl)n={delete:Bl(e,t.key)};else if(t instanceof Ja)n={update:Gl(e,t.key,t.data),updateMask:lu(t.fieldMask)};else{if(!(t instanceof rl))return qs();n={verify:Bl(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((e=>function(e,t){const n=t.transform;if(n instanceof Ra)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Oa)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Fa)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Va)return{fieldPath:t.field.canonicalString(),increment:n.C};throw qs()}(0,e)))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Ul(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:qs()}(e,t.precondition)),n}function Xl(e,t){return{documents:[Hl(e,t.path)]}}function Yl(e,t){const n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=Hl(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=Hl(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(e){if(0===e.length)return;const t=e.map((e=>function(e){if("=="===e.op){if(Uo(e.value))return{unaryFilter:{field:iu(e.field),op:"IS_NAN"}};if(Fo(e.value))return{unaryFilter:{field:iu(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Uo(e.value))return{unaryFilter:{field:iu(e.field),op:"IS_NOT_NAN"}};if(Fo(e.value))return{unaryFilter:{field:iu(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:iu(e.field),op:ru(e.op),value:e.value}}}(e)));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}(t.filters);i&&(n.structuredQuery.where=i);const s=function(e){if(0!==e.length)return e.map((e=>function(e){return{field:iu(e.field),direction:nu(e.dir)}}(e)))}(t.orderBy);s&&(n.structuredQuery.orderBy=s);const o=function(e,t){return e.D||ko(t)?t:{value:t}}(e,t.limit);return null!==o&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt=eu(t.startAt)),t.endAt&&(n.structuredQuery.endAt=eu(t.endAt)),n}function Jl(e){let t=$l(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Hs(1===r);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let s=[];n.where&&(s=Zl(n.where));let o=[];n.orderBy&&(o=n.orderBy.map((e=>function(e){return new oa(su(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e))));let a=null;n.limit&&(a=function(e){let t;return t="object"==typeof e?e.value:e,ko(t)?null:t}(n.limit));let l=null;n.startAt&&(l=tu(n.startAt));let u=null;return n.endAt&&(u=tu(n.endAt)),ha(t,i,o,s,a,"F",l,u)}function Zl(e){return e?void 0!==e.unaryFilter?[au(e)]:void 0!==e.fieldFilter?[ou(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((e=>Zl(e))).reduce(((e,t)=>e.concat(t))):qs():[]}function eu(e){return{before:e.before,values:e.position}}function tu(e){const t=!!e.before,n=e.values||[];return new ia(n,t)}function nu(e){return Pl[e]}function ru(e){return Rl[e]}function iu(e){return{fieldPath:e.canonicalString()}}function su(e){return po.fromServerFormat(e.fieldPath)}function ou(e){return Qo.create(su(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return qs()}}(e.fieldFilter.op),e.fieldFilter.value)}function au(e){switch(e.unaryFilter.op){case"IS_NAN":const t=su(e.unaryFilter.field);return Qo.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=su(e.unaryFilter.field);return Qo.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=su(e.unaryFilter.field);return Qo.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=su(e.unaryFilter.field);return Qo.create(i,"!=",{nullValue:"NULL_VALUE"});default:return qs()}}function lu(e){const t=[];return e.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function uu(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cu(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=fu(t)),t=hu(e.get(n),t);return fu(t)}function hu(e,t){let n=t;const r=e.length;for(let t=0;t<r;t++){const r=e.charAt(t);switch(r){case"\0":n+="";break;case"":n+="";break;default:n+=r}}return n}function fu(e){return e+""}class du{constructor(e,t,n){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=n}}du.store="owner",du.key="owner";class pu{constructor(e,t,n){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=n}}pu.store="mutationQueues",pu.keyPath="userId";class mu{constructor(e,t,n,r,i){this.userId=e,this.batchId=t,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i}}mu.store="mutations",mu.keyPath="batchId",mu.userMutationsIndex="userMutationsIndex",mu.userMutationsKeyPath=["userId","batchId"];class gu{constructor(){}static prefixForUser(e){return[e]}static prefixForPath(e,t){return[e,cu(t)]}static key(e,t,n){return[e,cu(t),n]}}gu.store="documentMutations",gu.PLACEHOLDER=new gu;class yu{constructor(e,t,n,r,i,s){this.unknownDocument=e,this.noDocument=t,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=s}}yu.store="remoteDocuments",yu.readTimeIndex="readTimeIndex",yu.readTimeIndexPath="readTime",yu.collectionReadTimeIndex="collectionReadTimeIndex",yu.collectionReadTimeIndexPath=["parentPath","readTime"];class vu{constructor(e){this.byteSize=e}}vu.store="remoteDocumentGlobal",vu.key="remoteDocumentGlobalKey";class wu{constructor(e,t,n,r,i,s,o){this.targetId=e,this.canonicalId=t,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=s,this.query=o}}wu.store="targets",wu.keyPath="targetId",wu.queryTargetsIndexName="queryTargetsIndex",wu.queryTargetsKeyPath=["canonicalId","targetId"];class bu{constructor(e,t,n){this.targetId=e,this.path=t,this.sequenceNumber=n}}bu.store="targetDocuments",bu.keyPath=["targetId","path"],bu.documentTargetsIndex="documentTargetsIndex",bu.documentTargetsKeyPath=["path","targetId"];class Eu{constructor(e,t,n,r){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=n,this.targetCount=r}}Eu.key="targetGlobalKey",Eu.store="targetGlobal";class Su{constructor(e,t){this.collectionId=e,this.parent=t}}Su.store="collectionParents",Su.keyPath=["collectionId","parent"];class Tu{constructor(e,t,n,r){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=n,this.inForeground=r}}Tu.store="clientMetadata",Tu.keyPath="clientId";class ku{constructor(e,t,n){this.bundleId=e,this.createTime=t,this.version=n}}ku.store="bundles",ku.keyPath="bundleId";class Iu{constructor(e,t,n){this.name=e,this.readTime=t,this.bundledQuery=n}}Iu.store="namedQueries",Iu.keyPath="name";pu.store,mu.store,gu.store,yu.store,wu.store,du.store,Eu.store,bu.store,Tu.store,vu.store,Su.store,ku.store,Iu.store;const xu="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Cu{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _u{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&qs(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new _u(((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof _u?t:_u.resolve(t)}catch(e){return _u.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):_u.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):_u.reject(t)}static resolve(e){return new _u(((t,n)=>{t(e)}))}static reject(e){return new _u(((t,n)=>{n(e)}))}static waitFor(e){return new _u(((t,n)=>{let r=0,i=0,s=!1;e.forEach((e=>{++r,e.next((()=>{++i,s&&i===r&&t()}),(e=>n(e)))})),s=!0,i===r&&t()}))}static or(e){let t=_u.resolve(!1);for(const n of e)t=t.next((e=>e?_u.resolve(e):n()));return t}static forEach(e,t){const n=[];return e.forEach(((e,r)=>{n.push(t.call(this,e,r))})),this.waitFor(n)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nu(e){return"IndexedDbTransactionError"===e.name}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Au{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let t=0;t<this.mutations.length;t++){const r=this.mutations[t];r.key.isEqual(e.key)&&Ka(r,e,n[t])}}applyToLocalView(e){for(const t of this.baseMutations)t.key.isEqual(e.key)&&Wa(t,e,this.localWriteTime);for(const t of this.mutations)t.key.isEqual(e.key)&&Wa(t,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach((t=>{const n=e.get(t.key),r=n;this.applyToLocalView(r),n.isValidDocument()||r.convertToNoDocument(oo.min())}))}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),El())}isEqual(e){return this.batchId===e.batchId&&io(this.mutations,e.mutations,((e,t)=>Qa(e,t)))&&io(this.baseMutations,e.baseMutations,((e,t)=>Qa(e,t)))}}class Du{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){Hs(e.mutations.length===n.length);let r=wl();const i=e.mutations;for(let e=0;e<i.length;e++)r=r.insert(i[e].key,n[e].version);return new Du(e,t,n,r)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lu{constructor(e,t,n,r,i=oo.min(),s=oo.min(),o=go.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o}withSequenceNumber(e){return new Lu(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new Lu(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Lu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pu{constructor(e){this.Wt=e}}function Ru(e){const t=Jl({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?ba(t,t.limit,"L"):t}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Ou{constructor(){this.Gt=new Mu}addToCollectionParentIndex(e,t){return this.Gt.add(t),_u.resolve()}getCollectionParents(e,t){return _u.resolve(this.Gt.getEntries(t))}}class Mu{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new fl(ho.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new fl(ho.comparator)).toArray()}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fu{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new Fu(e,Fu.DEFAULT_COLLECTION_PERCENTILE,Fu.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Fu.DEFAULT_COLLECTION_PERCENTILE=10,Fu.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Fu.DEFAULT=new Fu(41943040,Fu.DEFAULT_COLLECTION_PERCENTILE,Fu.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Fu.DISABLED=new Fu(-1,0,0);
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Uu{constructor(e){this.ne=e}next(){return this.ne+=2,this.ne}static se(){return new Uu(0)}static ie(){return new Uu(-1)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
async function Vu(e){if(e.code!==Ks.FAILED_PRECONDITION||e.message!==xu)throw e;Vs("LocalStore","Unexpectedly lost primary lease")}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class ju{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={}}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[t,r]of n)if(this.equalsFn(t,e))return r}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r){for(let n=0;n<r.length;n++)if(this.equalsFn(r[n][0],e))return void(r[n]=[e,t]);r.push([e,t])}else this.inner[n]=[[e,t]]}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),!0;return!1}forEach(e){lo(this.inner,((t,n)=>{for(const[t,r]of n)e(t,r)}))}isEmpty(){return uo(this.inner)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zu{constructor(){this.changes=new ju((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}getReadTime(e){const t=this.changes.get(e);return t?t.readTime:oo.min()}addEntry(e,t){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:t})}removeEntry(e,t=null){this.assertNotApplied(),this.changes.set(e,{document:qo.newInvalidDocument(e),readTime:t})}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?_u.resolve(n.document):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Bu{constructor(e,t,n){this.He=e,this.In=t,this.Ht=n}An(e,t){return this.In.getAllMutationBatchesAffectingDocumentKey(e,t).next((n=>this.Rn(e,t,n)))}Rn(e,t,n){return this.He.getEntry(e,t).next((e=>{for(const t of n)t.applyToLocalView(e);return e}))}bn(e,t){e.forEach(((e,n)=>{for(const e of t)e.applyToLocalView(n)}))}Pn(e,t){return this.He.getEntries(e,t).next((t=>this.vn(e,t).next((()=>t))))}vn(e,t){return this.In.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>this.bn(t,e)))}getDocumentsMatchingQuery(e,t,n){return function(e){return Co.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.Vn(e,t.path):ya(t)?this.Sn(e,t,n):this.Dn(e,t,n)}Vn(e,t){return this.An(e,new Co(t)).next((e=>{let t=yl();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}Sn(e,t,n){const r=t.collectionGroup;let i=yl();return this.Ht.getCollectionParents(e,r).next((s=>_u.forEach(s,(s=>{const o=function(e,t){return new ca(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,s.child(r));return this.Dn(e,o,n).next((e=>{e.forEach(((e,t)=>{i=i.insert(e,t)}))}))})).next((()=>i))))}Dn(e,t,n){let r,i;return this.He.getDocumentsMatchingQuery(e,t,n).next((n=>(r=n,this.In.getAllMutationBatchesAffectingQuery(e,t)))).next((t=>(i=t,this.Cn(e,i,r).next((e=>{r=e;for(const e of i)for(const t of e.mutations){const n=t.key;let i=r.get(n);null==i&&(i=qo.newInvalidDocument(n),r=r.insert(n,i)),Wa(t,i,e.localWriteTime),i.isFoundDocument()||(r=r.remove(n))}}))))).next((()=>(r.forEach(((e,n)=>{ka(t,n)||(r=r.remove(e))})),r)))}Cn(e,t,n){let r=El();for(const e of t)for(const t of e.mutations)t instanceof Ja&&null===n.get(t.key)&&(r=r.add(t.key));let i=n;return this.He.getEntries(e,r).next((e=>(e.forEach(((e,t)=>{t.isFoundDocument()&&(i=i.insert(e,t))})),i)))}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qu{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.Nn=n,this.xn=r}static kn(e,t){let n=El(),r=El();for(const e of t.docChanges)switch(e.type){case 0:n=n.add(e.doc.key);break;case 1:r=r.add(e.doc.key)}return new qu(e,t.fromCache,n,r)}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hu{$n(e){this.On=e}getDocumentsMatchingQuery(e,t,n,r){return function(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}(t)||n.isEqual(oo.min())?this.Fn(e,t):this.On.Pn(e,r).next((i=>{const s=this.Mn(t,i);return(da(t)||pa(t))&&this.Ln(t.limitType,s,r,n)?this.Fn(e,t):(Us()<=z.DEBUG&&Vs("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),Ta(t)),this.On.getDocumentsMatchingQuery(e,t,n).next((e=>(s.forEach((t=>{e=e.insert(t.key,t)})),e))))}))}Mn(e,t){let n=new fl(Ia(e));return t.forEach(((t,r)=>{ka(e,r)&&(n=n.add(r))})),n}Ln(e,t,n,r){if(n.size!==t.size)return!0;const i="F"===e?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Fn(e,t){return Us()<=z.DEBUG&&Vs("QueryEngine","Using full collection scan to execute query:",Ta(t)),this.On.getDocumentsMatchingQuery(e,t,oo.min())}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $u{constructor(e,t,n,r){this.persistence=e,this.Bn=t,this.N=r,this.Un=new ul(ro),this.qn=new ju((e=>Ko(e)),Wo),this.Kn=oo.min(),this.In=e.getMutationQueue(n),this.jn=e.getRemoteDocumentCache(),this.ze=e.getTargetCache(),this.Qn=new Bu(this.jn,this.In,this.persistence.getIndexManager()),this.Je=e.getBundleCache(),this.Bn.$n(this.Qn)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Un)))}}function Ku(e,t,n,r){return new $u(e,t,n,r)}async function Wu(e,t){const n=$s(e);let r=n.In,i=n.Qn;const s=await n.persistence.runTransaction("Handle user change","readonly",(e=>{let s;return n.In.getAllMutationBatches(e).next((o=>(s=o,r=n.persistence.getMutationQueue(t),i=new Bu(n.jn,r,n.persistence.getIndexManager()),r.getAllMutationBatches(e)))).next((t=>{const n=[],r=[];let o=El();for(const e of s){n.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}for(const e of t){r.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}return i.Pn(e,o).next((e=>({Wn:e,removedBatchIds:n,addedBatchIds:r})))}))}));return n.In=r,n.Qn=i,n.Bn.$n(n.Qn),s}function Gu(e){const t=$s(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.ze.getLastRemoteSnapshotVersion(e)))}function Qu(e,t,n,r,i){let s=El();return n.forEach((e=>s=s.add(e))),t.getEntries(e,s).next((e=>{let s=ml();return n.forEach(((n,o)=>{const a=e.get(n),l=(null==i?void 0:i.get(n))||r;o.isNoDocument()&&o.version.isEqual(oo.min())?(t.removeEntry(n,l),s=s.insert(n,o)):!a.isValidDocument()||o.version.compareTo(a.version)>0||0===o.version.compareTo(a.version)&&a.hasPendingWrites?(t.addEntry(o,l),s=s.insert(n,o)):Vs("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",o.version)})),s}))}function Xu(e,t){const n=$s(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(e=>(void 0===t&&(t=-1),n.In.getNextMutationBatchAfterBatchId(e,t))))}function Yu(e,t){const n=$s(e);return n.persistence.runTransaction("Allocate target","readwrite",(e=>{let r;return n.ze.getTargetData(e,t).next((i=>i?(r=i,_u.resolve(r)):n.ze.allocateTargetId(e).next((i=>(r=new Lu(t,i,0,e.currentSequenceNumber),n.ze.addTargetData(e,r).next((()=>r)))))))})).then((e=>{const r=n.Un.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Un=n.Un.insert(e.targetId,e),n.qn.set(t,e.targetId)),e}))}async function Ju(e,t,n){const r=$s(e),i=r.Un.get(t),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,(e=>r.persistence.referenceDelegate.removeTarget(e,i)))}catch(e){if(!Nu(e))throw e;Vs("LocalStore",`Failed to update sequence numbers for target ${t}: ${e}`)}r.Un=r.Un.remove(t),r.qn.delete(i.target)}function Zu(e,t,n){const r=$s(e);let i=oo.min(),s=El();return r.persistence.runTransaction("Execute query","readonly",(e=>function(e,t,n){const r=$s(e),i=r.qn.get(n);return void 0!==i?_u.resolve(r.Un.get(i)):r.ze.getTargetData(t,n)}(r,e,wa(t)).next((t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.ze.getMatchingKeysForTargetId(e,t.targetId).next((e=>{s=e}))})).next((()=>r.Bn.getDocumentsMatchingQuery(e,t,n?i:oo.min(),n?s:El()))).next((e=>({documents:e,Gn:s})))))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class ec{constructor(e){this.N=e,this.Yn=new Map,this.Xn=new Map}getBundleMetadata(e,t){return _u.resolve(this.Yn.get(t))}saveBundleMetadata(e,t){var n;return this.Yn.set(t.id,{id:(n=t).id,version:n.version,createTime:Vl(n.createTime)}),_u.resolve()}getNamedQuery(e,t){return _u.resolve(this.Xn.get(t))}saveNamedQuery(e,t){return this.Xn.set(t.name,function(e){return{name:e.name,query:Ru(e.bundledQuery),readTime:Vl(e.readTime)}}(t)),_u.resolve()}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tc{constructor(){this.Zn=new fl(nc.ts),this.es=new fl(nc.ns)}isEmpty(){return this.Zn.isEmpty()}addReference(e,t){const n=new nc(e,t);this.Zn=this.Zn.add(n),this.es=this.es.add(n)}ss(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.rs(new nc(e,t))}os(e,t){e.forEach((e=>this.removeReference(e,t)))}cs(e){const t=new Co(new ho([])),n=new nc(t,e),r=new nc(t,e+1),i=[];return this.es.forEachInRange([n,r],(e=>{this.rs(e),i.push(e.key)})),i}us(){this.Zn.forEach((e=>this.rs(e)))}rs(e){this.Zn=this.Zn.delete(e),this.es=this.es.delete(e)}hs(e){const t=new Co(new ho([])),n=new nc(t,e),r=new nc(t,e+1);let i=El();return this.es.forEachInRange([n,r],(e=>{i=i.add(e.key)})),i}containsKey(e){const t=new nc(e,0),n=this.Zn.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class nc{constructor(e,t){this.key=e,this.ls=t}static ts(e,t){return Co.comparator(e.key,t.key)||ro(e.ls,t.ls)}static ns(e,t){return ro(e.ls,t.ls)||Co.comparator(e.key,t.key)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rc{constructor(e,t){this.Ht=e,this.referenceDelegate=t,this.In=[],this.fs=1,this.ds=new fl(nc.ts)}checkEmpty(e){return _u.resolve(0===this.In.length)}addMutationBatch(e,t,n,r){const i=this.fs;this.fs++,this.In.length>0&&this.In[this.In.length-1];const s=new Au(i,t,n,r);this.In.push(s);for(const t of r)this.ds=this.ds.add(new nc(t.key,i)),this.Ht.addToCollectionParentIndex(e,t.key.path.popLast());return _u.resolve(s)}lookupMutationBatch(e,t){return _u.resolve(this.ws(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this._s(n),i=r<0?0:r;return _u.resolve(this.In.length>i?this.In[i]:null)}getHighestUnacknowledgedBatchId(){return _u.resolve(0===this.In.length?-1:this.fs-1)}getAllMutationBatches(e){return _u.resolve(this.In.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new nc(t,0),r=new nc(t,Number.POSITIVE_INFINITY),i=[];return this.ds.forEachInRange([n,r],(e=>{const t=this.ws(e.ls);i.push(t)})),_u.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new fl(ro);return t.forEach((e=>{const t=new nc(e,0),r=new nc(e,Number.POSITIVE_INFINITY);this.ds.forEachInRange([t,r],(e=>{n=n.add(e.ls)}))})),_u.resolve(this.gs(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;Co.isDocumentKey(i)||(i=i.child(""));const s=new nc(new Co(i),0);let o=new fl(ro);return this.ds.forEachWhile((e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.ls)),!0)}),s),_u.resolve(this.gs(o))}gs(e){const t=[];return e.forEach((e=>{const n=this.ws(e);null!==n&&t.push(n)})),t}removeMutationBatch(e,t){Hs(0===this.ys(t.batchId,"removed")),this.In.shift();let n=this.ds;return _u.forEach(t.mutations,(r=>{const i=new nc(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.ds=n}))}te(e){}containsKey(e,t){const n=new nc(t,0),r=this.ds.firstAfterOrEqual(n);return _u.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.In.length,_u.resolve()}ys(e,t){return this._s(e)}_s(e){return 0===this.In.length?0:e-this.In[0].batchId}ws(e){const t=this._s(e);return t<0||t>=this.In.length?null:this.In[t]}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ic{constructor(e,t){this.Ht=e,this.ps=t,this.docs=new ul(Co.comparator),this.size=0}addEntry(e,t,n){const r=t.key,i=this.docs.get(r),s=i?i.size:0,o=this.ps(t);return this.docs=this.docs.insert(r,{document:t.clone(),size:o,readTime:n}),this.size+=o-s,this.Ht.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return _u.resolve(n?n.document.clone():qo.newInvalidDocument(t))}getEntries(e,t){let n=ml();return t.forEach((e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.clone():qo.newInvalidDocument(e))})),_u.resolve(n)}getDocumentsMatchingQuery(e,t,n){let r=ml();const i=new Co(t.path.child("")),s=this.docs.getIteratorFrom(i);for(;s.hasNext();){const{key:e,value:{document:i,readTime:o}}=s.getNext();if(!t.path.isPrefixOf(e.path))break;o.compareTo(n)<=0||ka(t,i)&&(r=r.insert(i.key,i.clone()))}return _u.resolve(r)}Ts(e,t){return _u.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new sc(this)}getSize(e){return _u.resolve(this.size)}}class sc extends zu{constructor(e){super(),this.Se=e}applyChanges(e){const t=[];return this.changes.forEach(((n,r)=>{r.document.isValidDocument()?t.push(this.Se.addEntry(e,r.document,this.getReadTime(n))):this.Se.removeEntry(n)})),_u.waitFor(t)}getFromCache(e,t){return this.Se.getEntry(e,t)}getAllFromCache(e,t){return this.Se.getEntries(e,t)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oc{constructor(e){this.persistence=e,this.Es=new ju((e=>Ko(e)),Wo),this.lastRemoteSnapshotVersion=oo.min(),this.highestTargetId=0,this.Is=0,this.As=new tc,this.targetCount=0,this.Rs=Uu.se()}forEachTarget(e,t){return this.Es.forEach(((e,n)=>t(n))),_u.resolve()}getLastRemoteSnapshotVersion(e){return _u.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return _u.resolve(this.Is)}allocateTargetId(e){return this.highestTargetId=this.Rs.next(),_u.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Is&&(this.Is=t),_u.resolve()}ae(e){this.Es.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Rs=new Uu(t),this.highestTargetId=t),e.sequenceNumber>this.Is&&(this.Is=e.sequenceNumber)}addTargetData(e,t){return this.ae(t),this.targetCount+=1,_u.resolve()}updateTargetData(e,t){return this.ae(t),_u.resolve()}removeTargetData(e,t){return this.Es.delete(t.target),this.As.cs(t.targetId),this.targetCount-=1,_u.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.Es.forEach(((s,o)=>{o.sequenceNumber<=t&&null===n.get(o.targetId)&&(this.Es.delete(s),i.push(this.removeMatchingKeysForTargetId(e,o.targetId)),r++)})),_u.waitFor(i).next((()=>r))}getTargetCount(e){return _u.resolve(this.targetCount)}getTargetData(e,t){const n=this.Es.get(t)||null;return _u.resolve(n)}addMatchingKeys(e,t,n){return this.As.ss(t,n),_u.resolve()}removeMatchingKeys(e,t,n){this.As.os(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((t=>{i.push(r.markPotentiallyOrphaned(e,t))})),_u.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.As.cs(t),_u.resolve()}getMatchingKeysForTargetId(e,t){const n=this.As.hs(t);return _u.resolve(n)}containsKey(e,t){return _u.resolve(this.As.containsKey(t))}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ac{constructor(e,t){this.bs={},this.Le=new eo(0),this.Be=!1,this.Be=!0,this.referenceDelegate=e(this),this.ze=new oc(this),this.Ht=new Ou,this.He=function(e,t){return new ic(e,t)}(this.Ht,(e=>this.referenceDelegate.Ps(e))),this.N=new Pu(t),this.Je=new ec(this.N)}start(){return Promise.resolve()}shutdown(){return this.Be=!1,Promise.resolve()}get started(){return this.Be}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(){return this.Ht}getMutationQueue(e){let t=this.bs[e.toKey()];return t||(t=new rc(this.Ht,this.referenceDelegate),this.bs[e.toKey()]=t),t}getTargetCache(){return this.ze}getRemoteDocumentCache(){return this.He}getBundleCache(){return this.Je}runTransaction(e,t,n){Vs("MemoryPersistence","Starting transaction:",e);const r=new lc(this.Le.next());return this.referenceDelegate.vs(),n(r).next((e=>this.referenceDelegate.Vs(r).next((()=>e)))).toPromise().then((e=>(r.raiseOnCommittedEvent(),e)))}Ss(e,t){return _u.or(Object.values(this.bs).map((n=>()=>n.containsKey(e,t))))}}class lc extends Cu{constructor(e){super(),this.currentSequenceNumber=e}}class uc{constructor(e){this.persistence=e,this.Ds=new tc,this.Cs=null}static Ns(e){return new uc(e)}get xs(){if(this.Cs)return this.Cs;throw qs()}addReference(e,t,n){return this.Ds.addReference(n,t),this.xs.delete(n.toString()),_u.resolve()}removeReference(e,t,n){return this.Ds.removeReference(n,t),this.xs.add(n.toString()),_u.resolve()}markPotentiallyOrphaned(e,t){return this.xs.add(t.toString()),_u.resolve()}removeTarget(e,t){this.Ds.cs(t.targetId).forEach((e=>this.xs.add(e.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.xs.add(e.toString())))})).next((()=>n.removeTargetData(e,t)))}vs(){this.Cs=new Set}Vs(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return _u.forEach(this.xs,(n=>{const r=Co.fromPath(n);return this.ks(e,r).next((e=>{e||t.removeEntry(r)}))})).next((()=>(this.Cs=null,t.apply(e))))}updateLimboDocument(e,t){return this.ks(e,t).next((e=>{e?this.xs.delete(t.toString()):this.xs.add(t.toString())}))}Ps(e){return 0}ks(e,t){return _u.or([()=>_u.resolve(this.Ds.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ss(e,t)])}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cc{constructor(){this.activeTargetIds=Tl()}Fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Ms(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Os(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class hc{constructor(){this.yi=new cc,this.pi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return this.yi.Fs(e),this.pi[e]||"not-current"}updateQueryState(e,t,n){this.pi[e]=t}removeLocalQueryTarget(e){this.yi.Ms(e)}isLocalQueryTarget(e){return this.yi.activeTargetIds.has(e)}clearQueryState(e){delete this.pi[e]}getAllActiveQueryTargets(){return this.yi.activeTargetIds}isActiveQueryTarget(e){return this.yi.activeTargetIds.has(e)}start(){return this.yi=new cc,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(){}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fc{Ti(e){}shutdown(){}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dc{constructor(){this.Ei=()=>this.Ii(),this.Ai=()=>this.Ri(),this.bi=[],this.Pi()}Ti(e){this.bi.push(e)}shutdown(){window.removeEventListener("online",this.Ei),window.removeEventListener("offline",this.Ai)}Pi(){window.addEventListener("online",this.Ei),window.addEventListener("offline",this.Ai)}Ii(){Vs("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.bi)e(0)}Ri(){Vs("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.bi)e(1)}static bt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pc={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mc{constructor(e){this.vi=e.vi,this.Vi=e.Vi}Si(e){this.Di=e}Ci(e){this.Ni=e}onMessage(e){this.xi=e}close(){this.Vi()}send(e){this.vi(e)}ki(){this.Di()}$i(e){this.Ni(e)}Oi(e){this.xi(e)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gc extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http";this.Fi=t+"://"+e.host,this.Mi="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}Li(e,t,n,r){const i=this.Bi(e,t);Vs("RestConnection","Sending: ",i,n);const s={};return this.Ui(s,r),this.qi(e,i,s,n).then((e=>(Vs("RestConnection","Received: ",e),e)),(t=>{throw zs("RestConnection",`${e} failed with error: `,t,"url: ",i,"request:",n),t}))}Ki(e,t,n,r){return this.Li(e,t,n,r)}Ui(e,t){if(e["X-Goog-Api-Client"]="gl-js/ fire/"+Ms,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t)for(const n in t.authHeaders)t.authHeaders.hasOwnProperty(n)&&(e[n]=t.authHeaders[n])}Bi(e,t){const n=pc[e];return`${this.Fi}/v1/${t}:${n}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}qi(e,t,n,r){return new Promise(((i,s)=>{const o=new Ss;o.listenOnce(ys.COMPLETE,(()=>{try{switch(o.getLastErrorCode()){case gs.NO_ERROR:const t=o.getResponseJson();Vs("Connection","XHR received:",JSON.stringify(t)),i(t);break;case gs.TIMEOUT:Vs("Connection",'RPC "'+e+'" timed out'),s(new Ws(Ks.DEADLINE_EXCEEDED,"Request time out"));break;case gs.HTTP_ERROR:const n=o.getStatus();if(Vs("Connection",'RPC "'+e+'" failed with status:',n,"response text:",o.getResponseText()),n>0){const e=o.getResponseJson().error;if(e&&e.status&&e.message){const t=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(Ks).indexOf(t)>=0?t:Ks.UNKNOWN}(e.status);s(new Ws(t,e.message))}else s(new Ws(Ks.UNKNOWN,"Server responded with status "+o.getStatus()))}else s(new Ws(Ks.UNAVAILABLE,"Connection failed."));break;default:qs()}}finally{Vs("Connection",'RPC "'+e+'" completed.')}}));const a=JSON.stringify(r);o.send(t,"POST",a,n,15)}))}ji(e,t){const n=[this.Fi,"/","google.firestore.v1.Firestore","/",e,"/channel"],r=ps(),i=ms(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(s.xmlHttpFactory=new bs({})),this.Ui(s.initMessageHeaders,t),"undefined"!=typeof window&&(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(I())||"object"==typeof navigator&&"ReactNative"===navigator.product||I().indexOf("Electron/")>=0||function(){const e=I();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()||I().indexOf("MSAppHost/")>=0||x()||(s.httpHeadersOverwriteParam="$httpHeaders");const o=n.join("");Vs("Connection","Creating WebChannel: "+o,s);const a=r.createWebChannel(o,s);let l=!1,u=!1;const c=new mc({vi:e=>{u?Vs("Connection","Not sending because WebChannel is closed:",e):(l||(Vs("Connection","Opening WebChannel transport."),a.open(),l=!0),Vs("Connection","WebChannel sending:",e),a.send(e))},Vi:()=>a.close()}),h=(e,t,n)=>{e.listen(t,(e=>{try{n(e)}catch(e){setTimeout((()=>{throw e}),0)}}))};return h(a,Es.EventType.OPEN,(()=>{u||Vs("Connection","WebChannel transport opened.")})),h(a,Es.EventType.CLOSE,(()=>{u||(u=!0,Vs("Connection","WebChannel transport closed"),c.$i())})),h(a,Es.EventType.ERROR,(e=>{u||(u=!0,zs("Connection","WebChannel transport errored:",e),c.$i(new Ws(Ks.UNAVAILABLE,"The operation could not be completed")))})),h(a,Es.EventType.MESSAGE,(e=>{var t;if(!u){const n=e.data[0];Hs(!!n);const r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){Vs("Connection","WebChannel received error:",i);const e=i.status;let t=function(e){const t=sl[e];if(void 0!==t)return ll(t)}(e),n=i.message;void 0===t&&(t=Ks.INTERNAL,n="Unknown error status: "+e+" with message "+i.message),u=!0,c.$i(new Ws(t,n)),a.close()}else Vs("Connection","WebChannel received:",n),c.Oi(n)}})),h(i,vs.STAT_EVENT,(e=>{e.stat===ws.PROXY?Vs("Connection","Detected buffering proxy"):e.stat===ws.NOPROXY&&Vs("Connection","Detected no buffering proxy")})),setTimeout((()=>{c.ki()}),0),c}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yc(){return"undefined"!=typeof document?document:null}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vc(e){return new Ol(e,!0)}class wc{constructor(e,t,n=1e3,r=1.5,i=6e4){this.Oe=e,this.timerId=t,this.Qi=n,this.Wi=r,this.Gi=i,this.zi=0,this.Hi=null,this.Ji=Date.now(),this.reset()}reset(){this.zi=0}Yi(){this.zi=this.Gi}Xi(e){this.cancel();const t=Math.floor(this.zi+this.Zi()),n=Math.max(0,Date.now()-this.Ji),r=Math.max(0,t-n);r>0&&Vs("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.zi} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.Hi=this.Oe.enqueueAfterDelay(this.timerId,r,(()=>(this.Ji=Date.now(),e()))),this.zi*=this.Wi,this.zi<this.Qi&&(this.zi=this.Qi),this.zi>this.Gi&&(this.zi=this.Gi)}tr(){null!==this.Hi&&(this.Hi.skipDelay(),this.Hi=null)}cancel(){null!==this.Hi&&(this.Hi.cancel(),this.Hi=null)}Zi(){return(Math.random()-.5)*this.zi}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bc{constructor(e,t,n,r,i,s){this.Oe=e,this.er=n,this.nr=r,this.credentialsProvider=i,this.listener=s,this.state=0,this.sr=0,this.ir=null,this.stream=null,this.rr=new wc(e,t)}ar(){return 1===this.state||2===this.state||4===this.state}cr(){return 2===this.state}start(){3!==this.state?this.auth():this.ur()}async stop(){this.ar()&&await this.close(0)}hr(){this.state=0,this.rr.reset()}lr(){this.cr()&&null===this.ir&&(this.ir=this.Oe.enqueueAfterDelay(this.er,6e4,(()=>this.dr())))}wr(e){this._r(),this.stream.send(e)}async dr(){if(this.cr())return this.close(0)}_r(){this.ir&&(this.ir.cancel(),this.ir=null)}async close(e,t){this._r(),this.rr.cancel(),this.sr++,3!==e?this.rr.reset():t&&t.code===Ks.RESOURCE_EXHAUSTED?(js(t.toString()),js("Using maximum backoff delay to prevent overloading the backend."),this.rr.Yi()):t&&t.code===Ks.UNAUTHENTICATED&&this.credentialsProvider.invalidateToken(),null!==this.stream&&(this.mr(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Ci(t)}mr(){}auth(){this.state=1;const e=this.gr(this.sr),t=this.sr;this.credentialsProvider.getToken().then((e=>{this.sr===t&&this.yr(e)}),(t=>{e((()=>{const e=new Ws(Ks.UNKNOWN,"Fetching auth token failed: "+t.message);return this.pr(e)}))}))}yr(e){const t=this.gr(this.sr);this.stream=this.Tr(e),this.stream.Si((()=>{t((()=>(this.state=2,this.listener.Si())))})),this.stream.Ci((e=>{t((()=>this.pr(e)))})),this.stream.onMessage((e=>{t((()=>this.onMessage(e)))}))}ur(){this.state=4,this.rr.Xi((async()=>{this.state=0,this.start()}))}pr(e){return Vs("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(3,e)}gr(e){return t=>{this.Oe.enqueueAndForget((()=>this.sr===e?t():(Vs("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Ec extends bc{constructor(e,t,n,r,i){super(e,"listen_stream_connection_backoff","listen_stream_idle",t,n,i),this.N=r}Tr(e){return this.nr.ji("Listen",e)}onMessage(e){this.rr.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:qs()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],s=function(e,t){return e.D?(Hs(void 0===t||"string"==typeof t),go.fromBase64String(t||"")):(Hs(void 0===t||t instanceof Uint8Array),go.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,a=o&&function(e){const t=void 0===e.code?Ks.UNKNOWN:ll(e.code);return new Ws(t,e.message||"")}(o);n=new _l(r,i,s,a||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=ql(e,r.document.name),s=Vl(r.document.updateTime),o=new zo({mapValue:{fields:r.document.fields}}),a=qo.newFoundDocument(i,s,o),l=r.targetIds||[],u=r.removedTargetIds||[];n=new xl(l,u,a.key,a)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=ql(e,r.document),s=r.readTime?Vl(r.readTime):oo.min(),o=qo.newNoDocument(i,s),a=r.removedTargetIds||[];n=new xl([],a,o.key,o)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=ql(e,r.document),s=r.removedTargetIds||[];n=new xl([],s,i,null)}else{if(!("filter"in t))return qs();{t.filter;const e=t.filter;e.targetId;const r=e.count||0,i=new il(r),s=e.targetId;n=new Cl(s,i)}}return n}(this.N,e),n=function(e){if(!("targetChange"in e))return oo.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?oo.min():t.readTime?Vl(t.readTime):oo.min()}(e);return this.listener.Er(t,n)}Ir(e){const t={};t.database=Kl(this.N),t.addTarget=function(e,t){let n;const r=t.target;return n=Go(r)?{documents:Xl(e,r)}:{query:Yl(e,r)},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=Fl(e,t.resumeToken):t.snapshotVersion.compareTo(oo.min())>0&&(n.readTime=Ml(e,t.snapshotVersion.toTimestamp())),n}(this.N,e);const n=function(e,t){const n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return qs()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.N,e);n&&(t.labels=n),this.wr(t)}Ar(e){const t={};t.database=Kl(this.N),t.removeTarget=e,this.wr(t)}}class Sc extends bc{constructor(e,t,n,r,i){super(e,"write_stream_connection_backoff","write_stream_idle",t,n,i),this.N=r,this.Rr=!1}get br(){return this.Rr}start(){this.Rr=!1,this.lastStreamToken=void 0,super.start()}mr(){this.Rr&&this.Pr([])}Tr(e){return this.nr.ji("Write",e)}onMessage(e){if(Hs(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Rr){this.rr.reset();const t=function(e,t){return e&&e.length>0?(Hs(void 0!==t),e.map((e=>function(e,t){let n=e.updateTime?Vl(e.updateTime):Vl(t);return n.isEqual(oo.min())&&(n=Vl(t)),new Ba(n,e.transformResults||[])}(e,t)))):[]}(e.writeResults,e.commitTime),n=Vl(e.commitTime);return this.listener.vr(n,t)}return Hs(!e.writeResults||0===e.writeResults.length),this.Rr=!0,this.listener.Vr()}Sr(){const e={};e.database=Kl(this.N),this.wr(e)}Pr(e){const t={streamToken:this.lastStreamToken,writes:e.map((e=>Ql(this.N,e)))};this.wr(t)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tc extends class{}{constructor(e,t,n){super(),this.credentials=e,this.nr=t,this.N=n,this.Dr=!1}Cr(){if(this.Dr)throw new Ws(Ks.FAILED_PRECONDITION,"The client has already been terminated.")}Li(e,t,n){return this.Cr(),this.credentials.getToken().then((r=>this.nr.Li(e,t,n,r))).catch((e=>{throw"FirebaseError"===e.name?(e.code===Ks.UNAUTHENTICATED&&this.credentials.invalidateToken(),e):new Ws(Ks.UNKNOWN,e.toString())}))}Ki(e,t,n){return this.Cr(),this.credentials.getToken().then((r=>this.nr.Ki(e,t,n,r))).catch((e=>{throw"FirebaseError"===e.name?(e.code===Ks.UNAUTHENTICATED&&this.credentials.invalidateToken(),e):new Ws(Ks.UNKNOWN,e.toString())}))}terminate(){this.Dr=!0}}class kc{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.Nr=0,this.kr=null,this.$r=!0}Or(){0===this.Nr&&(this.Fr("Unknown"),this.kr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.kr=null,this.Mr("Backend didn't respond within 10 seconds."),this.Fr("Offline"),Promise.resolve()))))}Lr(e){"Online"===this.state?this.Fr("Unknown"):(this.Nr++,this.Nr>=1&&(this.Br(),this.Mr(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.Fr("Offline")))}set(e){this.Br(),this.Nr=0,"Online"===e&&(this.$r=!1),this.Fr(e)}Fr(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}Mr(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.$r?(js(t),this.$r=!1):Vs("OnlineStateTracker",t)}Br(){null!==this.kr&&(this.kr.cancel(),this.kr=null)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ic{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Ur=[],this.qr=new Map,this.Kr=new Set,this.jr=[],this.Qr=i,this.Qr.Ti((e=>{n.enqueueAndForget((async()=>{Rc(this)&&(Vs("RemoteStore","Restarting streams for network reachability change."),await async function(e){const t=$s(e);t.Kr.add(4),await Cc(t),t.Wr.set("Unknown"),t.Kr.delete(4),await xc(t)}(this))}))})),this.Wr=new kc(n,r)}}async function xc(e){if(Rc(e))for(const t of e.jr)await t(!0)}async function Cc(e){for(const t of e.jr)await t(!1)}function _c(e,t){const n=$s(e);n.qr.has(t.targetId)||(n.qr.set(t.targetId,t),Pc(n)?Lc(n):Yc(n).cr()&&Ac(n,t))}function Nc(e,t){const n=$s(e),r=Yc(n);n.qr.delete(t),r.cr()&&Dc(n,t),0===n.qr.size&&(r.cr()?r.lr():Rc(n)&&n.Wr.set("Unknown"))}function Ac(e,t){e.Gr.Y(t.targetId),Yc(e).Ir(t)}function Dc(e,t){e.Gr.Y(t),Yc(e).Ar(t)}function Lc(e){e.Gr=new Al({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),Tt:t=>e.qr.get(t)||null}),Yc(e).start(),e.Wr.Or()}function Pc(e){return Rc(e)&&!Yc(e).ar()&&e.qr.size>0}function Rc(e){return 0===$s(e).Kr.size}function Oc(e){e.Gr=void 0}async function Mc(e){e.qr.forEach(((t,n)=>{Ac(e,t)}))}async function Fc(e,t){Oc(e),Pc(e)?(e.Wr.Lr(t),Lc(e)):e.Wr.set("Unknown")}async function Uc(e,t,n){if(e.Wr.set("Online"),t instanceof _l&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.qr.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.qr.delete(r),e.Gr.removeTarget(r))}(e,t)}catch(n){Vs("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),await Vc(e,n)}else if(t instanceof xl?e.Gr.rt(t):t instanceof Cl?e.Gr.ft(t):e.Gr.ct(t),!n.isEqual(oo.min()))try{const t=await Gu(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.Gr._t(t);return n.targetChanges.forEach(((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.qr.get(r);i&&e.qr.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((t=>{const n=e.qr.get(t);if(!n)return;e.qr.set(t,n.withResumeToken(go.EMPTY_BYTE_STRING,n.snapshotVersion)),Dc(e,t);const r=new Lu(n.target,t,1,n.sequenceNumber);Ac(e,r)})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){Vs("RemoteStore","Failed to raise snapshot:",t),await Vc(e,t)}}async function Vc(e,t,n){if(!Nu(t))throw t;e.Kr.add(1),await Cc(e),e.Wr.set("Offline"),n||(n=()=>Gu(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{Vs("RemoteStore","Retrying IndexedDB access"),await n(),e.Kr.delete(1),await xc(e)}))}function jc(e,t){return t().catch((n=>Vc(e,n,t)))}async function zc(e){const t=$s(e),n=Jc(t);let r=t.Ur.length>0?t.Ur[t.Ur.length-1].batchId:-1;for(;Bc(t);)try{const e=await Xu(t.localStore,r);if(null===e){0===t.Ur.length&&n.lr();break}r=e.batchId,qc(t,e)}catch(e){await Vc(t,e)}Hc(t)&&$c(t)}function Bc(e){return Rc(e)&&e.Ur.length<10}function qc(e,t){e.Ur.push(t);const n=Jc(e);n.cr()&&n.br&&n.Pr(t.mutations)}function Hc(e){return Rc(e)&&!Jc(e).ar()&&e.Ur.length>0}function $c(e){Jc(e).start()}async function Kc(e){Jc(e).Sr()}async function Wc(e){const t=Jc(e);for(const n of e.Ur)t.Pr(n.mutations)}async function Gc(e,t,n){const r=e.Ur.shift(),i=Du.from(r,t,n);await jc(e,(()=>e.remoteSyncer.applySuccessfulWrite(i))),await zc(e)}async function Qc(e,t){t&&Jc(e).br&&await async function(e,t){if(al(n=t.code)&&n!==Ks.ABORTED){const n=e.Ur.shift();Jc(e).hr(),await jc(e,(()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t))),await zc(e)}var n}(e,t),Hc(e)&&$c(e)}async function Xc(e,t){const n=$s(e);t?(n.Kr.delete(2),await xc(n)):t||(n.Kr.add(2),await Cc(n),n.Wr.set("Unknown"))}function Yc(e){return e.zr||(e.zr=function(e,t,n){const r=$s(e);return r.Cr(),new Ec(t,r.nr,r.credentials,r.N,n)}(e.datastore,e.asyncQueue,{Si:Mc.bind(null,e),Ci:Fc.bind(null,e),Er:Uc.bind(null,e)}),e.jr.push((async t=>{t?(e.zr.hr(),Pc(e)?Lc(e):e.Wr.set("Unknown")):(await e.zr.stop(),Oc(e))}))),e.zr}function Jc(e){return e.Hr||(e.Hr=function(e,t,n){const r=$s(e);return r.Cr(),new Sc(t,r.nr,r.credentials,r.N,n)}(e.datastore,e.asyncQueue,{Si:Kc.bind(null,e),Ci:Qc.bind(null,e),Vr:Wc.bind(null,e),vr:Gc.bind(null,e)}),e.jr.push((async t=>{t?(e.Hr.hr(),await zc(e)):(await e.Hr.stop(),e.Ur.length>0&&(Vs("RemoteStore",`Stopping write stream with ${e.Ur.length} pending writes`),e.Ur=[]))}))),e.Hr
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}class Zc{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new Gs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}static createAndSchedule(e,t,n,r,i){const s=Date.now()+n,o=new Zc(e,t,s,r,i);return o.start(n),o}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ws(Ks.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function eh(e,t){if(js("AsyncQueue",`${t}: ${e}`),Nu(e))return new Ws(Ks.UNAVAILABLE,`${t}: ${e}`);throw e}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class th{constructor(e){this.comparator=e?(t,n)=>e(t,n)||Co.comparator(t.key,n.key):(e,t)=>Co.comparator(e.key,t.key),this.keyedMap=yl(),this.sortedSet=new ul(this.comparator)}static emptySet(e){return new th(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof th))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new th;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nh{constructor(){this.Jr=new ul(Co.comparator)}track(e){const t=e.doc.key,n=this.Jr.get(t);n?0!==e.type&&3===n.type?this.Jr=this.Jr.insert(t,e):3===e.type&&1!==n.type?this.Jr=this.Jr.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Jr=this.Jr.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Jr=this.Jr.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Jr=this.Jr.remove(t):1===e.type&&2===n.type?this.Jr=this.Jr.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Jr=this.Jr.insert(t,{type:2,doc:e.doc}):qs():this.Jr=this.Jr.insert(t,e)}Yr(){const e=[];return this.Jr.inorderTraversal(((t,n)=>{e.push(n)})),e}}class rh{constructor(e,t,n,r,i,s,o,a){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=a}static fromInitialDocuments(e,t,n,r){const i=[];return t.forEach((e=>{i.push({type:0,doc:e})})),new rh(e,t,th.emptySet(t),i,n,r,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ea(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let e=0;e<t.length;e++)if(t[e].type!==n[e].type||!t[e].doc.isEqual(n[e].doc))return!1;return!0}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ih{constructor(){this.Xr=void 0,this.listeners=[]}}class sh{constructor(){this.queries=new ju((e=>Sa(e)),Ea),this.onlineState="Unknown",this.Zr=new Set}}async function oh(e,t){const n=$s(e),r=t.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new ih),i)try{s.Xr=await n.onListen(r)}catch(e){const n=eh(e,`Initialization of query '${Ta(t.query)}' failed`);return void t.onError(n)}n.queries.set(r,s),s.listeners.push(t),t.eo(n.onlineState),s.Xr&&t.no(s.Xr)&&ch(n)}async function ah(e,t){const n=$s(e),r=t.query;let i=!1;const s=n.queries.get(r);if(s){const e=s.listeners.indexOf(t);e>=0&&(s.listeners.splice(e,1),i=0===s.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function lh(e,t){const n=$s(e);let r=!1;for(const e of t){const t=e.query,i=n.queries.get(t);if(i){for(const t of i.listeners)t.no(e)&&(r=!0);i.Xr=e}}r&&ch(n)}function uh(e,t,n){const r=$s(e),i=r.queries.get(t);if(i)for(const e of i.listeners)e.onError(n);r.queries.delete(t)}function ch(e){e.Zr.forEach((e=>{e.next()}))}class hh{constructor(e,t,n){this.query=e,this.so=t,this.io=!1,this.ro=null,this.onlineState="Unknown",this.options=n||{}}no(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new rh(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.io?this.oo(e)&&(this.so.next(e),t=!0):this.ao(e,this.onlineState)&&(this.co(e),t=!0),this.ro=e,t}onError(e){this.so.error(e)}eo(e){this.onlineState=e;let t=!1;return this.ro&&!this.io&&this.ao(this.ro,e)&&(this.co(this.ro),t=!0),t}ao(e,t){if(!e.fromCache)return!0;const n="Offline"!==t;return!(this.options.uo&&n||e.docs.isEmpty()&&"Offline"!==t)}oo(e){if(e.docChanges.length>0)return!0;const t=this.ro&&this.ro.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}co(e){e=rh.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.io=!0,this.so.next(e)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class fh{constructor(e){this.key=e}}class dh{constructor(e){this.key=e}}class ph{constructor(e,t){this.query=e,this._o=t,this.mo=null,this.current=!1,this.yo=El(),this.mutatedKeys=El(),this.po=Ia(e),this.To=new th(this.po)}get Eo(){return this._o}Io(e,t){const n=t?t.Ao:new nh,r=t?t.To:this.To;let i=t?t.mutatedKeys:this.mutatedKeys,s=r,o=!1;const a=da(this.query)&&r.size===this.query.limit?r.last():null,l=pa(this.query)&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((e,t)=>{const u=r.get(e),c=ka(this.query,t)?t:null,h=!!u&&this.mutatedKeys.has(u.key),f=!!c&&(c.hasLocalMutations||this.mutatedKeys.has(c.key)&&c.hasCommittedMutations);let d=!1;u&&c?u.data.isEqual(c.data)?h!==f&&(n.track({type:3,doc:c}),d=!0):this.Ro(u,c)||(n.track({type:2,doc:c}),d=!0,(a&&this.po(c,a)>0||l&&this.po(c,l)<0)&&(o=!0)):!u&&c?(n.track({type:0,doc:c}),d=!0):u&&!c&&(n.track({type:1,doc:u}),d=!0,(a||l)&&(o=!0)),d&&(c?(s=s.add(c),i=f?i.add(e):i.delete(e)):(s=s.delete(e),i=i.delete(e)))})),da(this.query)||pa(this.query))for(;s.size>this.query.limit;){const e=da(this.query)?s.last():s.first();s=s.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{To:s,Ao:n,Ln:o,mutatedKeys:i}}Ro(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n){const r=this.To;this.To=e.To,this.mutatedKeys=e.mutatedKeys;const i=e.Ao.Yr();i.sort(((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return qs()}};return n(e)-n(t)}(e.type,t.type)||this.po(e.doc,t.doc))),this.bo(n);const s=t?this.Po():[],o=0===this.yo.size&&this.current?1:0,a=o!==this.mo;return this.mo=o,0!==i.length||a?{snapshot:new rh(this.query,e.To,r,i,e.mutatedKeys,0===o,a,!1),vo:s}:{vo:s}}eo(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({To:this.To,Ao:new nh,mutatedKeys:this.mutatedKeys,Ln:!1},!1)):{vo:[]}}Vo(e){return!this._o.has(e)&&!!this.To.has(e)&&!this.To.get(e).hasLocalMutations}bo(e){e&&(e.addedDocuments.forEach((e=>this._o=this._o.add(e))),e.modifiedDocuments.forEach((e=>{})),e.removedDocuments.forEach((e=>this._o=this._o.delete(e))),this.current=e.current)}Po(){if(!this.current)return[];const e=this.yo;this.yo=El(),this.To.forEach((e=>{this.Vo(e.key)&&(this.yo=this.yo.add(e.key))}));const t=[];return e.forEach((e=>{this.yo.has(e)||t.push(new dh(e))})),this.yo.forEach((n=>{e.has(n)||t.push(new fh(n))})),t}So(e){this._o=e.Gn,this.yo=El();const t=this.Io(e.documents);return this.applyChanges(t,!0)}Do(){return rh.fromInitialDocuments(this.query,this.To,this.mutatedKeys,0===this.mo)}}class mh{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class gh{constructor(e){this.key=e,this.Co=!1}}class yh{constructor(e,t,n,r,i,s){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.No={},this.xo=new ju((e=>Sa(e)),Ea),this.ko=new Map,this.$o=new Set,this.Oo=new ul(Co.comparator),this.Fo=new Map,this.Mo=new tc,this.Lo={},this.Bo=new Map,this.Uo=Uu.ie(),this.onlineState="Unknown",this.qo=void 0}get isPrimaryClient(){return!0===this.qo}}async function vh(e,t){const n=Mh(e);let r,i;const s=n.xo.get(t);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.Do();else{const e=await Yu(n.localStore,wa(t)),s=n.sharedClientState.addLocalQueryTarget(e.targetId);r=e.targetId,i=await wh(n,t,r,"current"===s),n.isPrimaryClient&&_c(n.remoteStore,e)}return i}async function wh(e,t,n,r){e.Ko=(t,n,r)=>async function(e,t,n,r){let i=t.view.Io(n);i.Ln&&(i=await Zu(e.localStore,t.query,!1).then((({documents:e})=>t.view.Io(e,i))));const s=r&&r.targetChanges.get(t.targetId),o=t.view.applyChanges(i,e.isPrimaryClient,s);return Ah(e,t.targetId,o.vo),o.snapshot}(e,t,n,r);const i=await Zu(e.localStore,t,!0),s=new ph(t,i.Gn),o=s.Io(i.documents),a=Il.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState),l=s.applyChanges(o,e.isPrimaryClient,a);Ah(e,n,l.vo);const u=new mh(t,n,s);return e.xo.set(t,u),e.ko.has(n)?e.ko.get(n).push(t):e.ko.set(n,[t]),l.snapshot}async function bh(e,t){const n=$s(e),r=n.xo.get(t),i=n.ko.get(r.targetId);if(i.length>1)return n.ko.set(r.targetId,i.filter((e=>!Ea(e,t)))),void n.xo.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await Ju(n.localStore,r.targetId,!1).then((()=>{n.sharedClientState.clearQueryState(r.targetId),Nc(n.remoteStore,r.targetId),_h(n,r.targetId)})).catch(Vu)):(_h(n,r.targetId),await Ju(n.localStore,r.targetId,!0))}async function Eh(e,t){const n=$s(e);try{const e=await function(e,t){const n=$s(e),r=t.snapshotVersion;let i=n.Un;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(e=>{const s=n.jn.newChangeBuffer({trackRemovals:!0});i=n.Un;const o=[];t.targetChanges.forEach(((t,s)=>{const a=i.get(s);if(!a)return;o.push(n.ze.removeMatchingKeys(e,t.removedDocuments,s).next((()=>n.ze.addMatchingKeys(e,t.addedDocuments,s))));const l=t.resumeToken;if(l.approximateByteSize()>0){const u=a.withResumeToken(l,r).withSequenceNumber(e.currentSequenceNumber);i=i.insert(s,u),function(e,t,n){return Hs(t.resumeToken.approximateByteSize()>0),0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(a,u,t)&&o.push(n.ze.updateTargetData(e,u))}}));let a=ml();if(t.documentUpdates.forEach(((r,i)=>{t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(Qu(e,s,t.documentUpdates,r,void 0).next((e=>{a=e}))),!r.isEqual(oo.min())){const t=n.ze.getLastRemoteSnapshotVersion(e).next((t=>n.ze.setTargetsMetadata(e,e.currentSequenceNumber,r)));o.push(t)}return _u.waitFor(o).next((()=>s.apply(e))).next((()=>n.Qn.vn(e,a))).next((()=>a))})).then((e=>(n.Un=i,e)))}(n.localStore,t);t.targetChanges.forEach(((e,t)=>{const r=n.Fo.get(t);r&&(Hs(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.Co=!0:e.modifiedDocuments.size>0?Hs(r.Co):e.removedDocuments.size>0&&(Hs(r.Co),r.Co=!1))})),await Ph(n,e,t)}catch(e){await Vu(e)}}function Sh(e,t,n){const r=$s(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.xo.forEach(((n,r)=>{const i=r.view.eo(t);i.snapshot&&e.push(i.snapshot)})),function(e,t){const n=$s(e);n.onlineState=t;let r=!1;n.queries.forEach(((e,n)=>{for(const e of n.listeners)e.eo(t)&&(r=!0)})),r&&ch(n)}(r.eventManager,t),e.length&&r.No.Er(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function Th(e,t,n){const r=$s(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Fo.get(t),s=i&&i.key;if(s){let e=new ul(Co.comparator);e=e.insert(s,qo.newNoDocument(s,oo.min()));const n=El().add(s),i=new kl(oo.min(),new Map,new fl(ro),e,n);await Eh(r,i),r.Oo=r.Oo.remove(s),r.Fo.delete(t),Lh(r)}else await Ju(r.localStore,t,!1).then((()=>_h(r,t,n))).catch(Vu)}async function kh(e,t){const n=$s(e),r=t.batch.batchId;try{const e=await function(e,t){const n=$s(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(e=>{const r=t.batch.keys(),i=n.jn.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,s=i.keys();let o=_u.resolve();return s.forEach((e=>{o=o.next((()=>r.getEntry(t,e))).next((t=>{const s=n.docVersions.get(e);Hs(null!==s),t.version.compareTo(s)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&r.addEntry(t,n.commitVersion))}))})),o.next((()=>e.In.removeMutationBatch(t,i)))}(n,e,t,i).next((()=>i.apply(e))).next((()=>n.In.performConsistencyCheck(e))).next((()=>n.Qn.Pn(e,r)))}))}(n.localStore,t);Ch(n,r,null),xh(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Ph(n,e)}catch(e){await Vu(e)}}async function Ih(e,t,n){const r=$s(e);try{const e=await function(e,t){const n=$s(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(e=>{let r;return n.In.lookupMutationBatch(e,t).next((t=>(Hs(null!==t),r=t.keys(),n.In.removeMutationBatch(e,t)))).next((()=>n.In.performConsistencyCheck(e))).next((()=>n.Qn.Pn(e,r)))}))}(r.localStore,t);Ch(r,t,n),xh(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await Ph(r,e)}catch(e){await Vu(e)}}function xh(e,t){(e.Bo.get(t)||[]).forEach((e=>{e.resolve()})),e.Bo.delete(t)}function Ch(e,t,n){const r=$s(e);let i=r.Lo[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Lo[r.currentUser.toKey()]=i}}function _h(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.ko.get(t))e.xo.delete(r),n&&e.No.jo(r,n);e.ko.delete(t),e.isPrimaryClient&&e.Mo.cs(t).forEach((t=>{e.Mo.containsKey(t)||Nh(e,t)}))}function Nh(e,t){e.$o.delete(t.path.canonicalString());const n=e.Oo.get(t);null!==n&&(Nc(e.remoteStore,n),e.Oo=e.Oo.remove(t),e.Fo.delete(n),Lh(e))}function Ah(e,t,n){for(const r of n)r instanceof fh?(e.Mo.addReference(r.key,t),Dh(e,r)):r instanceof dh?(Vs("SyncEngine","Document no longer in limbo: "+r.key),e.Mo.removeReference(r.key,t),e.Mo.containsKey(r.key)||Nh(e,r.key)):qs()}function Dh(e,t){const n=t.key,r=n.path.canonicalString();e.Oo.get(n)||e.$o.has(r)||(Vs("SyncEngine","New document in limbo: "+n),e.$o.add(r),Lh(e))}function Lh(e){for(;e.$o.size>0&&e.Oo.size<e.maxConcurrentLimboResolutions;){const t=e.$o.values().next().value;e.$o.delete(t);const n=new Co(ho.fromString(t)),r=e.Uo.next();e.Fo.set(r,new gh(n)),e.Oo=e.Oo.insert(n,r),_c(e.remoteStore,new Lu(wa(fa(n.path)),r,2,eo.T))}}async function Ph(e,t,n){const r=$s(e),i=[],s=[],o=[];r.xo.isEmpty()||(r.xo.forEach(((e,a)=>{o.push(r.Ko(a,t,n).then((e=>{if(e){r.isPrimaryClient&&r.sharedClientState.updateQueryState(a.targetId,e.fromCache?"not-current":"current"),i.push(e);const t=qu.kn(a.targetId,e);s.push(t)}})))})),await Promise.all(o),r.No.Er(i),await async function(e,t){const n=$s(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(e=>_u.forEach(t,(t=>_u.forEach(t.Nn,(r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r))).next((()=>_u.forEach(t.xn,(r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))))))}catch(e){if(!Nu(e))throw e;Vs("LocalStore","Failed to update sequence numbers: "+e)}for(const e of t){const t=e.targetId;if(!e.fromCache){const e=n.Un.get(t),r=e.snapshotVersion,i=e.withLastLimboFreeSnapshotVersion(r);n.Un=n.Un.insert(t,i)}}}(r.localStore,s))}async function Rh(e,t){const n=$s(e);if(!n.currentUser.isEqual(t)){Vs("SyncEngine","User change. New user:",t.toKey());const e=await Wu(n.localStore,t);n.currentUser=t,function(e,t){e.Bo.forEach((e=>{e.forEach((e=>{e.reject(new Ws(Ks.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.Bo.clear()}(n),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await Ph(n,e.Wn)}}function Oh(e,t){const n=$s(e),r=n.Fo.get(t);if(r&&r.Co)return El().add(r.key);{let e=El();const r=n.ko.get(t);if(!r)return e;for(const t of r){const r=n.xo.get(t);e=e.unionWith(r.view.Eo)}return e}}function Mh(e){const t=$s(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Eh.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Oh.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Th.bind(null,t),t.No.Er=lh.bind(null,t.eventManager),t.No.jo=uh.bind(null,t.eventManager),t}function Fh(e){const t=$s(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=kh.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Ih.bind(null,t),t}class Uh{constructor(){this.synchronizeTabs=!1}async initialize(e){this.N=vc(e.databaseInfo.databaseId),this.sharedClientState=this.Wo(e),this.persistence=this.Go(e),await this.persistence.start(),this.gcScheduler=this.zo(e),this.localStore=this.Ho(e)}zo(e){return null}Ho(e){return Ku(this.persistence,new Hu,e.initialUser,this.N)}Go(e){return new ac(uc.Ns,this.N)}Wo(e){return new hc}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class Vh{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>Sh(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=Rh.bind(null,this.syncEngine),await Xc(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new sh}createDatastore(e){const t=vc(e.databaseInfo.databaseId),n=(r=e.databaseInfo,new gc(r));var r;return function(e,t,n){return new Tc(e,t,n)}(e.credentials,n,t)}createRemoteStore(e){var t,n,r,i,s;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=e=>Sh(this.syncEngine,e,0),s=dc.bt()?new dc:new fc,new Ic(t,n,r,i,s)}createSyncEngine(e,t){return function(e,t,n,r,i,s,o){const a=new yh(e,t,n,r,i,s);return o&&(a.qo=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return async function(e){const t=$s(e);Vs("RemoteStore","RemoteStore shutting down."),t.Kr.add(5),await Cc(t),t.Qr.shutdown(),t.Wr.set("Unknown")}(this.remoteStore)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class jh{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Yo(this.observer.next,e)}error(e){this.observer.error?this.Yo(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}Xo(){this.muted=!0}Yo(e,t){this.muted||setTimeout((()=>{this.muted||e(t)}),0)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class zh{constructor(e,t,n){this.credentials=e,this.asyncQueue=t,this.databaseInfo=n,this.user=Os.UNAUTHENTICATED,this.clientId=no.I(),this.credentialListener=()=>Promise.resolve(),this.credentials.start(t,(async e=>{Vs("FirestoreClient","Received user=",e.uid),await this.credentialListener(e),this.user=e}))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.credentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Ws(Ks.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Gs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this.onlineComponents&&await this.onlineComponents.terminate(),this.offlineComponents&&await this.offlineComponents.terminate(),this.credentials.shutdown(),e.resolve()}catch(t){const n=eh(t,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function Bh(e,t){e.asyncQueue.verifyOperationInProgress(),Vs("FirestoreClient","Initializing OfflineComponentProvider");const n=await e.getConfiguration();await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener((async e=>{r.isEqual(e)||(await Wu(t.localStore,e),r=e)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e.offlineComponents=t}async function qh(e,t){e.asyncQueue.verifyOperationInProgress();const n=await Hh(e);Vs("FirestoreClient","Initializing OnlineComponentProvider");const r=await e.getConfiguration();await t.initialize(n,r),e.setCredentialChangeListener((e=>async function(e,t){const n=$s(e);n.asyncQueue.verifyOperationInProgress(),Vs("RemoteStore","RemoteStore received new credentials");const r=Rc(n);n.Kr.add(3),await Cc(n),r&&n.Wr.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Kr.delete(3),await xc(n)}(t.remoteStore,e))),e.onlineComponents=t}async function Hh(e){return e.offlineComponents||(Vs("FirestoreClient","Using default OfflineComponentProvider"),await Bh(e,new Uh)),e.offlineComponents}async function $h(e){return e.onlineComponents||(Vs("FirestoreClient","Using default OnlineComponentProvider"),await qh(e,new Vh)),e.onlineComponents}function Kh(e){return $h(e).then((e=>e.syncEngine))}async function Wh(e){const t=await $h(e),n=t.eventManager;return n.onListen=vh.bind(null,t.syncEngine),n.onUnlisten=bh.bind(null,t.syncEngine),n}function Gh(e,t,n={}){const r=new Gs;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const s=new jh({next:s=>{t.enqueueAndForget((()=>ah(e,o)));const a=s.docs.has(n);!a&&s.fromCache?i.reject(new Ws(Ks.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&s.fromCache&&r&&"server"===r.source?i.reject(new Ws(Ks.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(s)},error:e=>i.reject(e)}),o=new hh(fa(n.path),s,{includeMetadataChanges:!0,uo:!0});return oh(e,o)}(await Wh(e),e.asyncQueue,t,n,r))),r.promise}class Qh{constructor(e,t,n,r,i,s,o,a){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.useFetchStreams=a}}class Xh{constructor(e,t){this.projectId=e,this.database=t||"(default)"}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Xh&&e.projectId===this.projectId&&e.database===this.database}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yh=new Map;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jh(e,t,n){if(!n)throw new Ws(Ks.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function Zh(e){if(!Co.isDocumentKey(e))throw new Ws(Ks.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function ef(e){if(Co.isDocumentKey(e))throw new Ws(Ks.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function tf(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return"function"==typeof e?"a function":qs()}function nf(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Ws(Ks.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=tf(e);throw new Ws(Ks.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class rf{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Ws(Ks.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Ws(Ks.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,function(e,t,n,r){if(!0===t&&!0===r)throw new Ws(Ks.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sf{constructor(e,t){this._credentials=t,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new rf({}),this._settingsFrozen=!1,e instanceof Xh?this._databaseId=e:(this._app=e,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Ws(Ks.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Xh(e.options.projectId)}(e))}get app(){if(!this._app)throw new Ws(Ks.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Ws(Ks.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new rf(e),void 0!==e.credentials&&(this._credentials=function(e){if(!e)return new Xs;switch(e.type){case"gapi":const t=e.client;return Hs(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new Zs(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new Ws(Ks.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Yh.get(e);t&&(Vs("ComponentProvider","Removing Datastore"),Yh.delete(e),t.terminate())}(this),Promise.resolve()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class of{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new lf(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new of(this.firestore,e,this._key)}}class af{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new af(this.firestore,e,this._query)}}class lf extends af{constructor(e,t,n){super(e,t,fa(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new of(this.firestore,null,new Co(e))}withConverter(e){return new lf(this.firestore,e,this._path)}}function uf(e,t,...n){if(e=M(e),1===arguments.length&&(t=no.I()),Jh("doc","path",t),e instanceof sf){const r=ho.fromString(t,...n);return Zh(r),new of(e,null,new Co(r))}{if(!(e instanceof of||e instanceof lf))throw new Ws(Ks.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(ho.fromString(t,...n));return Zh(r),new of(e.firestore,e instanceof lf?e.converter:null,new Co(r))}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class cf{constructor(){this.fa=Promise.resolve(),this.da=[],this.wa=!1,this._a=[],this.ma=null,this.ga=!1,this.ya=!1,this.pa=[],this.rr=new wc(this,"async_queue_retry"),this.Ta=()=>{const e=yc();e&&Vs("AsyncQueue","Visibility state changed to "+e.visibilityState),this.rr.tr()};const e=yc();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Ta)}get isShuttingDown(){return this.wa}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ea(),this.Ia(e)}enterRestrictedMode(e){if(!this.wa){this.wa=!0,this.ya=e||!1;const t=yc();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Ta)}}enqueue(e){if(this.Ea(),this.wa)return new Promise((()=>{}));const t=new Gs;return this.Ia((()=>this.wa&&this.ya?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.da.push(e),this.Aa())))}async Aa(){if(0!==this.da.length){try{await this.da[0](),this.da.shift(),this.rr.reset()}catch(e){if(!Nu(e))throw e;Vs("AsyncQueue","Operation failed with retryable error: "+e)}this.da.length>0&&this.rr.Xi((()=>this.Aa()))}}Ia(e){const t=this.fa.then((()=>(this.ga=!0,e().catch((e=>{this.ma=e,this.ga=!1;const t=function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw js("INTERNAL UNHANDLED ERROR: ",t),e})).then((e=>(this.ga=!1,e))))));return this.fa=t,t}enqueueAfterDelay(e,t,n){this.Ea(),this.pa.indexOf(e)>-1&&(t=0);const r=Zc.createAndSchedule(this,e,t,n,(e=>this.Ra(e)));return this._a.push(r),r}Ea(){this.ma&&qs()}verifyOperationInProgress(){}async ba(){let e;do{e=this.fa,await e}while(e!==this.fa)}Pa(e){for(const t of this._a)if(t.timerId===e)return!0;return!1}va(e){return this.ba().then((()=>{this._a.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(const t of this._a)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.ba()}))}Va(e){this.pa.push(e)}Ra(e){const t=this._a.indexOf(e);this._a.splice(t,1)}}class hf extends sf{constructor(e,t){super(e,t),this.type="firestore",this._queue=new cf,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||df(this),this._firestoreClient.terminate()}}function ff(e){return e._firestoreClient||df(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function df(e){var t;const n=e._freezeSettings(),r=function(e,t,n,r){return new Qh(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new zh(e._credentials,e._queue,r)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class pf{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Ws(Ks.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new po(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class mf{constructor(e){this._byteString=e}static fromBase64String(e){try{return new mf(go.fromBase64String(e))}catch(e){throw new Ws(Ks.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new mf(go.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gf{constructor(e){this._methodName=e}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yf{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ws(Ks.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ws(Ks.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ro(this._lat,e._lat)||ro(this._long,e._long)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vf=/^__.*__$/;class wf{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new Ja(e,this.data,this.fieldMask,t,this.fieldTransforms):new Ya(e,this.data,t,this.fieldTransforms)}}function bf(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw qs()}}class Ef{constructor(e,t,n,r,i,s){this.settings=e,this.databaseId=t,this.N=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Sa(),this.fieldTransforms=i||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Da(){return this.settings.Da}Ca(e){return new Ef(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.N,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Na(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Ca({path:n,xa:!1});return r.ka(e),r}$a(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Ca({path:n,xa:!1});return r.Sa(),r}Oa(e){return this.Ca({path:void 0,xa:!0})}Fa(e){return Lf(e,this.settings.methodName,this.settings.Ma||!1,this.path,this.settings.La)}contains(e){return void 0!==this.fieldMask.find((t=>e.isPrefixOf(t)))||void 0!==this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))}Sa(){if(this.path)for(let e=0;e<this.path.length;e++)this.ka(this.path.get(e))}ka(e){if(0===e.length)throw this.Fa("Document fields must not be empty");if(bf(this.Da)&&vf.test(e))throw this.Fa('Document fields cannot begin and end with "__"')}}class Sf{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.N=n||vc(e)}Ba(e,t,n,r=!1){return new Ef({Da:e,methodName:t,La:n,path:po.emptyPath(),xa:!1,Ma:r},this.databaseId,this.N,this.ignoreUndefinedProperties)}}function Tf(e){const t=e._freezeSettings(),n=vc(e._databaseId);return new Sf(e._databaseId,!!t.ignoreUndefinedProperties,n)}function kf(e,t,n,r,i,s={}){const o=e.Ba(s.merge||s.mergeFields?2:0,t,n,i);_f("Data must be an object, but it was:",o,r);const a=xf(r,o);let l,u;if(s.merge)l=new mo(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const e=[];for(const r of s.mergeFields){const i=Nf(t,r,n);if(!o.contains(i))throw new Ws(Ks.INVALID_ARGUMENT,`Field '${i}' is specified in your field mask but missing from your input data.`);Pf(e,i)||e.push(i)}l=new mo(e),u=o.fieldTransforms.filter((e=>l.covers(e.field)))}else l=null,u=o.fieldTransforms;return new wf(new zo(a),l,u)}function If(e,t){if(Cf(e=M(e)))return _f("Unsupported field value:",t,e),xf(e,t);if(e instanceof gf)return function(e,t){if(!bf(t.Da))throw t.Fa(`${e._methodName}() can only be used with update() and set()`);if(!t.path)throw t.Fa(`${e._methodName}() is not currently supported inside arrays`);const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.xa&&4!==t.Da)throw t.Fa("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=If(i,t.Oa(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=M(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Na(t.N,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=so.fromDate(e);return{timestampValue:Ml(t.N,n)}}if(e instanceof so){const n=new so(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Ml(t.N,n)}}if(e instanceof yf)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof mf)return{bytesValue:Fl(t.N,e._byteString)};if(e instanceof of){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Fa(`Document reference is for database ${r.projectId}/${r.database} but should be for database ${n.projectId}/${n.database}`);return{referenceValue:jl(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.Fa(`Unsupported field value: ${tf(e)}`)}(e,t)}function xf(e,t){const n={};return uo(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):lo(e,((e,r)=>{const i=If(r,t.Na(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function Cf(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof so||e instanceof yf||e instanceof mf||e instanceof of||e instanceof gf)}function _f(e,t,n){if(!Cf(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=tf(n);throw"an object"===r?t.Fa(e+" a custom object"):t.Fa(e+" "+r)}}function Nf(e,t,n){if((t=M(t))instanceof pf)return t._internalPath;if("string"==typeof t)return Df(e,t);throw Lf("Field path arguments must be of type string or FieldPath.",e,!1,void 0,n)}const Af=new RegExp("[~\\*/\\[\\]]");function Df(e,t,n){if(t.search(Af)>=0)throw Lf(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new pf(...t.split("."))._internalPath}catch(r){throw Lf(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function Lf(e,t,n,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${t}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new Ws(Ks.INVALID_ARGUMENT,a+e+l)}function Pf(e,t){return e.some((e=>e.isEqual(t)))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rf{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new of(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Of(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Mf("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Of extends Rf{data(){return super.data()}}function Mf(e,t){return"string"==typeof t?Df(e,t):t instanceof pf?t._internalPath:t._delegate._internalPath}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ff{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Uf extends Rf{constructor(e,t,n,r,i,s){super(e,t,n,r,s),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Vf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const n=this._document.data.field(Mf("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class Vf extends Uf{data(e={}){return super.data(e)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class jf{convertValue(e,t="none"){switch(_o(e)){case 0:return null;case 1:return e.booleanValue;case 2:return wo(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(bo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw qs()}}convertObject(e,t){const n={};return lo(e.fields,((e,r)=>{n[e]=this.convertValue(r,t)})),n}convertGeoPoint(e){return new yf(wo(e.latitude),wo(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=So(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(To(e));default:return null}}convertTimestamp(e){const t=vo(e);return new so(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=ho.fromString(e);Hs(uu(n));const r=new Xh(n.get(1),n.get(3)),i=new Co(n.popFirst(5));return r.isEqual(t)||js(`Document ${i} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),i}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zf(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class Bf extends jf{constructor(e){super(),this.firestore=e}convertBytes(e){return new mf(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new of(this.firestore,null,t)}}function qf(e,t){return function(e,t){const n=new Gs;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){const r=Fh(e);try{const e=await function(e,t){const n=$s(e),r=so.now(),i=t.reduce(((e,t)=>e.add(t.key)),El());let s;return n.persistence.runTransaction("Locally write mutations","readwrite",(e=>n.Qn.Pn(e,i).next((i=>{s=i;const o=[];for(const e of t){const t=Ga(e,s.get(e.key));null!=t&&o.push(new Ja(e.key,t,Bo(t.value.mapValue),qa.exists(!0)))}return n.In.addMutationBatch(e,r,o,t)})))).then((e=>(e.applyToLocalDocumentSet(s),{batchId:e.batchId,changes:s})))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Lo[e.currentUser.toKey()];r||(r=new ul(ro)),r=r.insert(t,n),e.Lo[e.currentUser.toKey()]=r}(r,e.batchId,n),await Ph(r,e.changes),await zc(r.remoteStore)}catch(e){const t=eh(e,"Failed to persist write");n.reject(t)}}(await Kh(e),t,n))),n.promise}(ff(e),t)}function Hf(e,t,n){const r=n.docs.get(t._key),i=new Bf(e);return new Uf(e,i,t._key,r,new Ff(n.hasPendingWrites,n.fromCache),t.converter)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ms="9.1.3",ee(new F("firestore",((e,{options:t})=>{const n=e.getProvider("app").getImmediate(),r=new hf(n,new Ys(e.getProvider("auth-internal")));return t=Object.assign({useFetchStreams:!0},t),r._setSettings(t),r}),"PUBLIC")),se("@firebase/firestore","3.1.1",undefined),se("@firebase/firestore","3.1.1","esm2017");const $f=function(e,t={}){if("object"!=typeof t){t={name:t}}const n=Object.assign({name:"[DEFAULT]",automaticDataCollectionEnabled:!1},t),r=n.name;if("string"!=typeof r||!r)throw ne.create("bad-app-name",{appName:String(r)});const i=Y.get(r);if(i){if(P(e,i.options)&&P(n,i.config))return i;throw ne.create("duplicate-app",{appName:r})}const s=new V(r);for(const e of J.values())s.addComponent(e);const o=new re(e,n,s);return Y.set(r,o),o}({apiKey:"AIzaSyCvUrwP5dWsSvIkFyLDYNJbTOzYo4TxFGo",authDomain:"voice-shopping-list-eeerock.firebaseapp.com",projectId:"voice-shopping-list-eeerock",storageBucket:"voice-shopping-list-eeerock.appspot.com",messagingSenderId:"758012561885",appId:"1:758012561885:web:e2af3e4e4548c7659ece34",measurementId:"G-HE234101N7"}),Kf=function(e=ie()){return te(e,"firestore").getImmediate()}($f);!function(e=ie()){const t=te(e=M(e),"analytics");t.isInitialized()?t.getImmediate():function(e,t={}){const n=te(e,"analytics");if(n.isInitialized()){const e=n.getImmediate();if(P(t,n.getOptions()))return e;throw $e.create("already-initialized")}n.initialize({options:t})}(e)}($f);var Wf=Kf;function Gf(){const[e,t]=l.useState({0:"editor",1:"молоко",2:"хлеб",3:"киви",4:"крендели"}),[n,r]=l.useState({1:1,2:2,3:3,4:4}),[i,s]=l.useState({state:"off",content:"voice",val:""}),[a,u]=l.useState(""),[c,h]=l.useState("");function f(e,n={}){n&&0!==Object.keys(n).length&&r(n),t(e)}function p(e){s({...e})}function v(e){h(e)}return l.useEffect((async()=>{let e=window.location.search.substring(1);if(e!==a){u(e);let t=uf(Wf,"lists",e),n=await
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function(e){e=nf(e,of);const t=nf(e.firestore,hf);return Gh(ff(t),e._key).then((n=>Hf(t,e,n)))}(t);n.exists()?f(n.data().state,n.data().count):console.log("No such document!")}})),o.jsxs("div",{className:"w-full h-full flex flex-col justify-center items-center font-sans",children:[o.jsx(m,{modal:i,closeModal:p,addOneToggle:v}),o.jsx(g,{state:e}),o.jsx(d,{state:e,count:n,showModal:p,addOneState:c}),o.jsx(y,{state:e,onChange:f,onShare:async function(){const t=await function(e,t){const n=nf(e.firestore,hf),r=uf(e),i=zf(e.converter,t);return qf(n,[kf(Tf(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,qa.exists(!1))]).then((()=>r))}(function(e,t,...n){if(e=M(e),Jh("collection","path",t),e instanceof sf){const r=ho.fromString(t,...n);return ef(r),new lf(e,null,r)}{if(!(e instanceof of||e instanceof lf))throw new Ws(Ks.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(ho.fromString(t,...n));return ef(r),new lf(e.firestore,null,r)}}(Wf,"lists"),{state:e,count:n});console.log("Document written with ID: ",t.id),p({state:"on",content:"copy",val:t.id})},addOneToggle:v})]})}t(a).render(o.jsx(Gf,{}),document.getElementById("root"));
//# sourceMappingURL=index.7d154f3a.js.map
